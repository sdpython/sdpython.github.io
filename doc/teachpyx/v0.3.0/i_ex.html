
<!DOCTYPE html>


<html lang="fr" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Exemples &#8212; Documentation teachpyx 0.3.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=e5fbc548" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=83beb07c"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/translations.js?v=d99ca74e"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'i_ex';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="FAQ" href="i_faq.html" />
    <link rel="prev" title="examples.construction_classique" href="api/classique.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Passer au contenu principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/project_ico.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/project_ico.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_lang/index.html">
                        Variables et fonctions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_classes/index.html">
                        Classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_exception/index.html">
                        Exceptions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_module/index.html">
                        Entrées, Sorties, Modules
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_regex/index.html">
                        Expression régulières
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_parallelisation/index.html">
                        Parallélisation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_gui/index.html">
                        Interfaces graphiques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_data/index.html">
                        Matrices et DataFrames
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_resume/index.html">
                        Précis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        Code inclus dans cette librairie
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Exemples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="i_faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="auto_examples/index.html">
                        Bouts de code à conserver
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="defthe_index.html">
                        Syntaxes, Définitions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="license.html">
                        License
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_lang/index.html">
                        Variables et fonctions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_classes/index.html">
                        Classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_exception/index.html">
                        Exceptions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_module/index.html">
                        Entrées, Sorties, Modules
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_regex/index.html">
                        Expression régulières
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_parallelisation/index.html">
                        Parallélisation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_gui/index.html">
                        Interfaces graphiques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_data/index.html">
                        Matrices et DataFrames
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="c_resume/index.html">
                        Précis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        Code inclus dans cette librairie
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Exemples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="i_faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="auto_examples/index.html">
                        Bouts de code à conserver
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="defthe_index.html">
                        Syntaxes, Définitions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="license.html">
                        License
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Fils d'Ariane">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Fil d'Ariane">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Acceuil">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Exemples</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="exemples">
<span id="l-ex2"></span><h1>Exemples<a class="headerlink" href="#exemples" title="Lien permanent vers cette rubrique">#</a></h1>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#construction-classique" id="id1">Construction classique</a></p></li>
<li><p><a class="reference internal" href="#constructions-negatives" id="id2">Constructions négatives</a></p></li>
<li><p><a class="reference internal" href="#numpy" id="id3">Numpy</a></p></li>
</ul>
</nav>
<section id="construction-classique">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Construction classique</a><a class="headerlink" href="#construction-classique" title="Lien permanent vers cette rubrique">#</a></h2>
<ol class="simple">
<li><p><a class="reference internal" href="#index-exref-0-0">calcul d'une somme</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-1">comptage</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-2">conversion d'un vecteur en une matrice</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-3">conversion d'une chaîne de caractère en matrice</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-4">conversion d'une matrice en chaîne de caractères</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-5">conversion d'une matrice en un vecteur</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-6">fonction comme paramètre</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-7">minimum avec position</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-8">recherche avec index</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-9">recherche dichotomique</a></p></li>
<li><p><a class="reference internal" href="#index-exref-0-10">tri, garder les positions initiales</a></p></li>
</ol>
<div class="admonition-exref admonition" id="index-exref-0-0">
<p class="admonition-title">calcul d’une somme</p>
<p>Le calcul d’une somme fait toujours
intervenir une boucle car le langage
<a class="reference external" href="https://www.python.org/">Python</a> ne peut faire des additions qu’avec deux nombres.
Le schéma est toujours le même : initialisation et boucle.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">6456</span><span class="p">]</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># initialisation</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>  <span class="c1"># boucle</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">l</span>  <span class="c1"># addition</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">6933</span>
</pre></div>
</div>
<p>Ce code est équivalent à la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#sum">sum</a>.
Dans ce cas où la somme intègre le résultat d’une fonction
(au sens mathématique)
et non les éléments d’une liste, il faudrait écrire :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span>


<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">6456</span><span class="p">]</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">fonction</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">6933</span>
</pre></div>
</div>
<p>Et ces deux lignes pourraient être résumées
en une seule grâce
à l’une de ces instructions :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span>


<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">6456</span><span class="p">]</span>
<span class="n">s1</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">fonction</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">li</span><span class="p">])</span>
<span class="n">s2</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">fonction</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">li</span><span class="p">)</span>
<span class="n">s3</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">fonction</span><span class="p">,</span> <span class="n">li</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">6933</span> <span class="mi">6933</span> <span class="mi">6933</span>
</pre></div>
</div>
<p>L’avantage des deux dernières instructions est qu’elles évitent
la création d’une liste intermédiaire,
c’est un point à prendre en compte si la
liste sur laquelle opère la
somme est volumineuse.</p>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base7-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base7">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.somme, line 6)</p>
<div class="admonition-exref admonition" id="index-exref-0-1">
<div class="docutils container">
</div>
<p class="admonition-title" id="l-ex-comptage">comptage</p>
<p>On souhaite ici compter le nombre d’occurrences de
chaque élément d’un tableau.
Par exemple, on pourrait connaître par ce moyen
la popularité d’un mot dans un discours
politique ou l’étendue du vocabulaire utilisé.
L’exemple suivant compte les mots d’une liste de mots.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">l</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {&#39;un&#39;: 2, &#39;trois&#39;: 1, &#39;deux&#39;: 1}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="s1">&#39;un&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;deux&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;trois&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>La structure la plus appropriée ici est un
dictionnaire puisqu’on cherche
à associer une valeur à un élément d’une liste qui peut être de tout type.
Si la liste contient des éléments de type modifiable comme une liste,
il faudrait convertir ceux-ci en un type immuable
comme une chaîne de caractères.
L’exemple suivant illustre ce cas en comptant
les occurrences des lignes d’une matrice.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">mat</span><span class="p">:</span>
    <span class="n">k</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># k = tuple (l) lorsque cela est possible</span>
    <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {&#39;[1, 1, 1]&#39;: 2, &#39;[2, 2, 2]&#39;: 1}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="s1">&#39;[1, 1, 1]&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;[2, 2, 2]&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>Les listes ne peuvent pas être les clés du dictionnaire :
<a class="reference external" href="https://wiki.python.org/moin/DictionaryKeys">Why Lists Can’t Be Dictionary Keys</a>.</p>
<p>On peut également vouloir non pas compter
le nombre d’occurrence mais mémoriser les
positions des éléments tous identiques.
On doit utiliser un dictionnaire de listes :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {&#39;un&#39;: [0, 2], &#39;trois&#39;: [3], &#39;deux&#39;: [1]}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="s1">&#39;un&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;deux&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;trois&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">]}</span>
</pre></div>
</div>
<p>S’il suffit juste de compter, l’écriture la plus simple est :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="n">r</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="s1">&#39;un&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;deux&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;trois&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base0-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base0">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.compte, line 6)</p>
<div class="admonition-exref admonition" id="index-exref-0-2">
<p class="admonition-title">conversion d’un vecteur en une matrice</p>
<p>Dans un langage comme le <em>C++</em>, il arrive fréquemment
qu’une matrice ne soit pas
représentée par une liste de listes mais par une
seule liste car cette représentation
est plus efficace. Il faut donc convertir un
indice en deux indices ligne et colonne.
Il faut bien sûr que le nombre de colonnes sur
chaque ligne soit constant.
Le premier programme convertit une liste de
listes en une seule liste.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">vect</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">mat</span> <span class="o">=</span> <span class="p">[</span><span class="n">vect</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">ncol</span> <span class="p">:</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">ncol</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vect</span><span class="p">)</span> <span class="o">//</span> <span class="n">ncol</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base10-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base10">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.vect2mat, line 8)</p>
<div class="admonition-exref admonition" id="index-exref-0-3">
<p class="admonition-title">conversion d’une chaîne de caractère en matrice</p>
<p>Les quelques lignes qui suivent permettent de décomposer
une chaîne de caractères
en matrice. Chaque ligne et chaque colonne sont séparées par des
séparateurs différents. Ce procédé intervient souvent
lorsqu’on récupère des
informations depuis un fichier texte lui-même provenant
d’un tableur.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;case11;case12;case13|case21;case22;case23&quot;</span>
<span class="c1"># décomposition en matrice</span>
<span class="n">ligne</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>  <span class="c1"># lignes</span>
<span class="n">mat</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">ligne</span><span class="p">]</span>  <span class="c1"># colonnes</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[[</span><span class="s1">&#39;case11&#39;</span><span class="p">,</span> <span class="s1">&#39;case12&#39;</span><span class="p">,</span> <span class="s1">&#39;case13&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;case21&#39;</span><span class="p">,</span> <span class="s1">&#39;case22&#39;</span><span class="p">,</span> <span class="s1">&#39;case23&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Comme cette opération est très fréquente lorsqu’on travaille avec les données,
on ne l’implémente plus soi-même. On préfère utiliser un module comme
<a class="reference external" href="http://pandas.pydata.org/">pandas</a> qui est plus
robuste et considère plus de cas.
Pour écrire, utilise la méthode <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html">to_csv</a>,
pour lire, la fonction
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.parsers.read_csv.html">read_csv</a>.
On peut également directement enregistrer au format Excel
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.excel.read_excel.html">read_excel</a>
et écrire dans ce même format
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_excel.html">to_excel</a>.</p>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base8-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base8">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.text2mat, line 10)</p>
<div class="admonition-exref admonition" id="index-exref-0-4">
<p class="admonition-title">conversion d’une matrice en chaîne de caractères</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;case11&quot;</span><span class="p">,</span> <span class="s2">&quot;case12&quot;</span><span class="p">,</span> <span class="s2">&quot;case13&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;case21&quot;</span><span class="p">,</span> <span class="s2">&quot;case22&quot;</span><span class="p">,</span> <span class="s2">&quot;case23&quot;</span><span class="p">]]</span>
<span class="n">ligne</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">mat</span><span class="p">]</span>  <span class="c1"># colonnes</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>  <span class="c1"># lignes</span>

<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">case11</span><span class="p">;</span><span class="n">case12</span><span class="p">;</span><span class="n">case13</span><span class="o">|</span><span class="n">case21</span><span class="p">;</span><span class="n">case22</span><span class="p">;</span><span class="n">case23</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base2-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base2">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.mat2text, line 9)</p>
<div class="admonition-exref admonition" id="index-exref-0-5">
<p class="admonition-title">conversion d’une matrice en un vecteur</p>
<p>Dans un langage comme le <em>C++</em>, il arrive fréquemment
qu’une matrice ne soit pas
représentée par une liste de listes mais par une seule
liste car cette représentation
est plus efficace. Il faut donc convertir un indice
en deux indices ligne et colonne.
Il faut bien sûr que le nombre de colonnes sur chaque ligne soit constant.
Le premier programme convertit une liste de listes en une seule liste.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
<span class="n">lin</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat</span><span class="p">))</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">]))]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lin</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Vous pouvez aussi utiliser des fonctions telles que
<a class="reference external" href="https://docs.python.org/3/library/functools.html?highlight=reduce#module-functools">reduce</a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>

<span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
<span class="n">lin</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">mat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lin</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base3-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base3">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.mat2vect, line 7)</p>
<div class="admonition-exref admonition" id="index-exref-0-6">
<div class="docutils container">
</div>
<p class="admonition-title" id="paragraphe-fonction-variable">fonction comme paramètre</p>
<p>Une fonction peut aussi recevoir en paramètre une autre fonction.
L’exemple suivant inclut la fonction <code class="docutils literal notranslate"><span class="pre">calcul_n_valeur</span></code>
qui prend comme paramètres <code class="docutils literal notranslate"><span class="pre">l</span></code> et <code class="docutils literal notranslate"><span class="pre">f</span></code>.
Cette fonction calcule pour toutes les valeurs <code class="docutils literal notranslate"><span class="pre">x</span></code> de la liste
<code class="docutils literal notranslate"><span class="pre">l</span></code> la valeur <code class="docutils literal notranslate"><span class="pre">f(x)</span></code>.
<code class="docutils literal notranslate"><span class="pre">fonction_carre</span></code> ou <code class="docutils literal notranslate"><span class="pre">fonction_cube</span></code> sont passées en paramètres à la fonction
<code class="docutils literal notranslate"><span class="pre">calcul_n_valeur</span></code> qui les exécute.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction_carre</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>


<span class="k">def</span> <span class="nf">fonction_cube</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span>


<span class="k">def</span> <span class="nf">calcul_n_valeur</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">res</span>


<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3]</span>

<span class="n">l1</span> <span class="o">=</span> <span class="n">calcul_n_valeur</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">fonction_carre</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 4, 9]</span>

<span class="n">l2</span> <span class="o">=</span> <span class="n">calcul_n_valeur</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">fonction_cube</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 8, 27]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">27</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base1-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base1">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.integrale, line 10)</p>
<div class="admonition-exref admonition" id="index-exref-0-7">
<p class="admonition-title">minimum avec position</p>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#min">min</a>
retourne le minium d’un tableau mais pas sa position.
Le premier réflexe est alors de recoder le
parcours de la liste
tout en conservant la position du minimum.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">6436</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">li</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">i</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">3</span>
</pre></div>
</div>
<p>Mais il existe une astuce pour obtenir la
position sans avoir à le reprogrammer.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">6436</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">k</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">li</span><span class="p">)]</span>
<span class="n">m</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">min</span></code> choisit l’élément minimum d’un
tableau dont les éléments sont des
couples (élément du premier tableau, sa position).
Le minimum est choisi en comparant les éléments, et la position
départegera les exaequo.</p>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base4-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base4">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.minindex, line 6)</p>
<div class="admonition-exref admonition" id="index-exref-0-8">
<p class="admonition-title">recherche avec index</p>
<p>Lorsqu’on cherche un élément dans un tableau, on cherche plus souvent
sa position que le fait que le tableau contient cet élément.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recherche</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">c</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">56</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">recherche</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="mi">43</span><span class="p">))</span>  <span class="c1"># affiche 2</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">2</span>
</pre></div>
</div>
<p>En python, il existe un fonction simple qui permet de faire ça :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">43</span><span class="p">))</span>  <span class="c1"># affiche 2</span>
</pre></div>
</div>
<p>Lorsque l’élément n’y est pas, on retourne souvent la position <code class="docutils literal notranslate"><span class="pre">-1</span></code>
qui ne peut être prise par aucun élément :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">li</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Même si ce bout de code parcourt deux fois le
tableau (une fois déterminer
sa présence, une seconde fois pour sa position),
ce code est souvent plus rapide
que la première version et la probabilité
d’y faire une erreur plus faible.</p>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base5-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base5">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.recherche, line 7)</p>
<div class="admonition-exref admonition" id="index-exref-0-9">
<p class="admonition-title">recherche dichotomique</p>
<p>La <a class="reference external" href="http://fr.wikipedia.org/wiki/Dichotomie">recherche dichotomique</a>
est plus rapide qu’une recherche classique mais elle
suppose que celle-ci s’effectue dans un ensemble trié.
L’idée est de couper en deux l’intervalle de
recherche à chaque itération.
Comme l’ensemble est trié, en comparant
l’élément cherché à l’élément central,
on peut éliminer une partie de l’ensemble :
la moitié inférieure ou supérieure.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recherche_dichotomique</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">li</span><span class="p">[</span><span class="n">m</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">m</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">li</span><span class="p">[</span><span class="n">m</span><span class="p">]:</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>


<span class="nb">print</span><span class="p">(</span><span class="n">recherche_dichotomique</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">7</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">3</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base6-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base6">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.recherche_dichotomique, line 7)</p>
<div class="admonition-exref admonition" id="index-exref-0-10">
<p class="admonition-title">tri, garder les positions initiales</p>
<p>Le tri est une opération fréquente. On n’a pas
toujours le temps de programmer
le tri le plus efficace comme un tri <a class="reference external" href="http://fr.wikipedia.org/wiki/Tri_rapide">quicksort</a>
et un tri plus simple suffit la plupart du temps.
Le tri suivant consiste à recherche le plus petit élément puis à
échanger sa place avec le premier élément du tableau du tableau.
On recommence la même procédure à partir de la seconde position,
puis la troisième et ainsi de suite jusqu’à la fin du tableau.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>
    <span class="c1"># recherche du minimum entre i et len (li) exclu</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">li</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">li</span><span class="p">[</span><span class="n">pos</span><span class="p">]:</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">j</span>
    <span class="c1"># échange</span>
    <span class="n">ech</span> <span class="o">=</span> <span class="n">li</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span>
    <span class="n">li</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ech</span>

<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted">sorted</a>
trie également une liste mais selon un algorithme plus efficace
que celui-ci (voir <a class="reference external" href="http://en.wikipedia.org/wiki/Timsort">Timsort</a>).
On est parfois amené à reprogrammer un tri parce qu’on veut
conserver la position des éléments
dans le tableau non trié.
Cela arrive quand on souhaite trier un tableau et
appliquer la même transformation à un second
tableau.
Il est toujours préférable de ne pas reprogrammer
un tri (moins d’erreur).
Il suffit d’applicer la même idée que pour la
fonction &#64;see fn minindex.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;zero&quot;</span><span class="p">,</span> <span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">]</span>  <span class="c1"># tableau à trier</span>
<span class="n">pos</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">((</span><span class="n">t</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span>  <span class="c1"># tableau de couples</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>  <span class="c1"># affiche [(&#39;deux&#39;, 2), (&#39;un&#39;, 1), (&#39;zero&#39;, 0)]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[(</span><span class="s1">&#39;deux&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;un&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
<p>Si cette écriture est trop succincte, on peut la décomposer en :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;zero&quot;</span><span class="p">,</span> <span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">]</span>
<span class="n">tab_position</span> <span class="o">=</span> <span class="p">[(</span><span class="n">t</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tab</span><span class="p">)]</span>
<span class="n">tab_position</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tab_position</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[(</span><span class="s1">&#39;deux&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;un&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<p class="exref-source"><span class="target" id="indexindexexref-Base9-1"></span>(<a class="reference internal" href="api/classique.html#indexexref-Base9">entrée originale</a> : construction_classique.py:docstring of teachpyx.examples.construction_classique.triindex, line 6)</p>
</section>
<section id="constructions-negatives">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Constructions négatives</a><a class="headerlink" href="#constructions-negatives" title="Lien permanent vers cette rubrique">#</a></h2>
<ol class="simple">
</ol>
</section>
<section id="numpy">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Numpy</a><a class="headerlink" href="#numpy" title="Lien permanent vers cette rubrique">#</a></h2>
<ol class="simple">
</ol>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="api/classique.html"
       title="page précédente">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">précédent</p>
        <p class="prev-next-title">examples.construction_classique</p>
      </div>
    </a>
    <a class="right-next"
       href="i_faq.html"
       title="page suivante">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">suivant</p>
        <p class="prev-next-title">FAQ</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Sur cette page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#construction-classique">Construction classique</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constructions-negatives">Constructions négatives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy">Numpy</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/i_ex.rst">
      <i class="fa-solid fa-file-lines"></i> Montrer le code source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2016-2023, Xavier Dupré.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Construit avec le <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">Thème PyData Sphinx</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>