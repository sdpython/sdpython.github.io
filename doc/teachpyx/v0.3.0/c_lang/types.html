
<!DOCTYPE html>


<html lang="fr" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Types et variables du langage python &#8212; Documentation teachpyx 0.3.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=e5fbc548" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=83beb07c"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/translations.js?v=d99ca74e"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'c_lang/types';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Syntaxe du langage Python (boucles, tests, fonctions)" href="syntaxe.html" />
    <link rel="prev" title="Variables et fonctions" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Passer au contenu principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/project_ico.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/project_ico.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Variables et fonctions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_classes/index.html">
                        Classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_exception/index.html">
                        Exceptions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_module/index.html">
                        Entrées, Sorties, Modules
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_regex/index.html">
                        Expression régulières
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_parallelisation/index.html">
                        Parallélisation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_gui/index.html">
                        Interfaces graphiques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_data/index.html">
                        Matrices et DataFrames
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_resume/index.html">
                        Précis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        Code inclus dans cette librairie
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../articles/index.html">
                        Collections d’articles inclassables
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_ex.html">
                        Exemples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Bouts de code à conserver
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../defthe_index.html">
                        Syntaxes, Définitions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Variables et fonctions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_classes/index.html">
                        Classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_exception/index.html">
                        Exceptions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_module/index.html">
                        Entrées, Sorties, Modules
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_regex/index.html">
                        Expression régulières
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_parallelisation/index.html">
                        Parallélisation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_gui/index.html">
                        Interfaces graphiques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_data/index.html">
                        Matrices et DataFrames
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_resume/index.html">
                        Précis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        Code inclus dans cette librairie
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../articles/index.html">
                        Collections d’articles inclassables
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_ex.html">
                        Exemples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Bouts de code à conserver
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../defthe_index.html">
                        Syntaxes, Définitions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Navigation de la section">
  <p class="bd-links__title" role="heading" aria-level="1">Navigation de la section</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Types et variables du langage python</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntaxe.html">Syntaxe du langage Python (boucles, tests, fonctions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructions.html">Constructions classiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">Constructions classiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="dates.html">Dates</a></li>
<li class="toctree-l1"><a class="reference internal" href="encoding.html">Encoding et jeux de caractères</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Fils d'Ariane">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Fil d'Ariane">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Acceuil">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Variables et fonctions</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Types et variables du langage python</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="types-et-variables-du-langage-python">
<h1>Types et variables du langage python<a class="headerlink" href="#types-et-variables-du-langage-python" title="Lien permanent vers cette rubrique">#</a></h1>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#variables" id="id3">Variables</a></p></li>
<li><p><a class="reference internal" href="#types-immuables-ou-immutable" id="id4">Types immuables (ou immutable)</a></p>
<ul>
<li><p><a class="reference internal" href="#type-rien-ou-none" id="id5">Type « rien » ou None</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#nombres-reels-et-entiers" id="id6">Nombres réels et entiers</a></p>
<ul>
<li><p><a class="reference internal" href="#booleen" id="id7">Booléen</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#chaine-de-caracteres" id="id8">Chaîne de caractères</a></p>
<ul>
<li><p><a class="reference internal" href="#creation-d-une-chaine-de-caracteres-str" id="id9">Création d’une chaîne de caractères - str</a></p></li>
<li><p><a class="reference internal" href="#manipulation-d-une-chaine-de-caracteres" id="id10">Manipulation d’une chaîne de caractères</a></p></li>
<li><p><a class="reference internal" href="#formatage-d-une-chaine-de-caracteres" id="id11">Formatage d’une chaîne de caractères</a></p></li>
<li><p><a class="reference internal" href="#tuple" id="id12">tuple</a></p></li>
<li><p><a class="reference internal" href="#nombres-complexes" id="id13">Nombres complexes</a></p></li>
<li><p><a class="reference internal" href="#bytes" id="id14">bytes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#types-modifiables-ou-mutable" id="id15">Types modifiables ou mutable</a></p>
<ul>
<li><p><a class="reference internal" href="#bytearray" id="id16">bytearray</a></p></li>
<li><p><a class="reference internal" href="#liste" id="id17">Liste</a></p></li>
<li><p><a class="reference internal" href="#copie" id="id18">Copie</a></p></li>
<li><p><a class="reference internal" href="#dictionnaire" id="id19">Dictionnaire</a></p></li>
<li><p><a class="reference internal" href="#ensemble-ou-set" id="id20">Ensemble ou set</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#matrices-et-dataframes" id="id21">Matrices et DataFrames</a></p></li>
<li><p><a class="reference internal" href="#extensions" id="id22">Extensions</a></p>
<ul>
<li><p><a class="reference internal" href="#fonction-print-repr-et-conversion-en-chaine-de-caracteres" id="id23">Fonction <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">repr</span></code> et conversion en chaîne de caractères</a></p></li>
<li><p><a class="reference internal" href="#eval-fonction-chapitre-deux" id="id24">Fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code></a></p></li>
<li><p><a class="reference internal" href="#informations-fournies-par-python" id="id25">Informations fournies par <em>python</em></a></p></li>
<li><p><a class="reference internal" href="#affectations-multiples" id="id26">Affectations multiples</a></p></li>
<li><p><a class="reference internal" href="#hierarchie-des-objets" id="id27">Hiérarchie des objets</a></p></li>
<li><p><a class="reference internal" href="#objets-internes" id="id28">Objets internes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commentaires-accentues" id="id29">Commentaires accentués</a></p></li>
</ul>
</nav>
<section id="variables">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Variables</a><a class="headerlink" href="#variables" title="Lien permanent vers cette rubrique">#</a></h2>
<p id="index-0">Il est impossible d’écrire un programme sans utiliser de variable.
Ce terme désigne le fait d’attribuer un nom ou identificateur à des informations :
en les nommant, on peut manipuler ces informations beaucoup plus facilement.
L’autre avantage est de pouvoir écrire des programmes valables pour des valeurs
qui varient : on peut changer la valeur des variables, le programme s’exécutera
toujours de la même manière et fera les mêmes types de calculs quelles que soient
les valeurs manipulées. Les variables jouent un rôle semblable aux inconnues
dans une équation mathématique.</p>
<p>L’ordinateur ne sait pas faire l’addition de plus de deux nombres mais cela
suffit à calculer la somme de <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/> premiers nombres entiers.
Pour cela, il est nécessaire de créer une variable intermédiaire qu’on appellera
par exemple <code class="docutils literal notranslate"><span class="pre">somme</span></code> de manière à conserver le résultat des sommes intermédiaires.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">somme</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># initialisation : la somme est nulle</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>  <span class="c1"># pour tous les indices de 1 à n exclu</span>
    <span class="n">somme</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">+</span> <span class="n">i</span>  <span class="c1"># on ajoute le i ème élément à somme</span>
<span class="nb">print</span><span class="p">(</span><span class="n">somme</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">55</span>
</pre></div>
</div>
<span class="target" id="index-1"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition0">
<p class="admonition-title">Définition D1 : variable</p>
<p>Une variable est caractérisée par :</p>
<ul class="simple">
<li><p><strong>un identificateur :</strong> il peut contenir des lettres, des chiffres, des blancs soulignés
mais il ne peut commencer par un chiffre. Minuscules et majuscules
sont différenciées. Il est aussi unique.</p></li>
<li><p><strong>un type :</strong> c’est une information sur le contenu de la variable
qui indique à l’interpréteur <em>python</em>, la manière de manipuler cette information.</p></li>
</ul>
</div>
<p>Comme le typage est dynamique en <em>python</em>, le type n’est pas précisé explicitement,
il est implicitement liée à l’information manipulée. Par exemple, en écrivant,
<code class="docutils literal notranslate"><span class="pre">x=3.4</span></code>, on ne précise pas le type de la variable <code class="docutils literal notranslate"><span class="pre">x</span></code>
mais il est implicite car <img class="math" src="../_images/math/cdd160a57af92571d6838c69c7bde600843a23bf.svg" alt="x"/> reçoit une valeur réelle :
<code class="docutils literal notranslate"><span class="pre">x</span></code> est de type réel ou <cite>float</cite> en <em>python</em>. Pour leur première initialisation,
une variable reçoit dans la plupart des cas une constante :</p>
<span class="target" id="index-2"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition1">
<p class="admonition-title">Définition D2 : constante</p>
<p>Les constantes sont le contraire des variables, ce sont toutes les valeurs numériques,
chaînes de caractères, …, tout ce qui n’est pas désigné par un nom. Les constantes possèdent un type
mais pas d’identificateur.</p>
</div>
<p>Le langage <em>python</em> possède un certain nombre de types de variables déjà
définis ou types fondamentaux à partir desquels il sera possible de
définir ses propres types (voir chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>).
Au contraire de langages tels que le <em>C</em>, il n’est pas besoin de déclarer une
variable pour signifier qu’elle existe, il suffit de lui affecter une valeur.
Le type de la variable sera défini par le type de la constante qui lui est affectée.
Le type d’une variable peut changer, il correspond toujours au type de la dernière affectation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>   <span class="o">=</span> <span class="mf">3.5</span>      <span class="c1"># création d&#39;une variable nombre réel appelée x initialisée à 3.5</span>
               <span class="c1"># 3.5 est un réel, la variable est de type &quot;float&quot;</span>
<span class="n">sc</span> <span class="o">=</span> <span class="s2">&quot;chaîne&quot;</span>  <span class="c1"># création d&#39;une variable chaîne de caractères appelée str</span>
               <span class="c1"># initialisée à &quot;chaîne&quot;, sc est de type &quot;str&quot;</span>
</pre></div>
</div>
<p id="index-3">Pour tous les exemples qui suivront, le symbole <code class="docutils literal notranslate"><span class="pre">#</span></code> apparaîtra à maintes reprises.
Il marque le début d’un commentaire que la fin de la ligne termine.
Autrement dit, un commentaire est une information aidant à la compréhension
du programme mais n’en faisant pas partie comme dans l’exemple qui suit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>          <span class="c1"># affectation de la valeur entière 3 à la variable x</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">3.0</span>        <span class="c1"># affectation de la valeur réelle 3.0 à la variable y</span>
</pre></div>
</div>
<p id="index-4">Le <em>python</em> privilégie une instruction par ligne mais il n’est pas possible d’utiliser
plusieurs lorsqu’il n’y a aucune ambiguïté.
Dans le cas contraire, le symbole <code class="docutils literal notranslate"><span class="pre">\</span></code> permet d’indiquer que la ligne n’est pas finie.
L’exemple suivant est impossible.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span>
    <span class="mf">5.5</span>
</pre></div>
</div>
<p>Il devrait être rédigé comme suit :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span>  \
    <span class="mf">5.5</span>
</pre></div>
</div>
<p>Mais les parenthèses sont à privilégier :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span>  <span class="p">(</span>
    <span class="mf">5.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Avec ce symbole, les longues instructions peuvent être écrites sur plusieurs
lignes de manière plus lisibles, de sorte qu’elles apparaissent en entier à l’écran.
Si le dernier caractère est une virgule, il est implicite.</p>
<p>Les paragraphes suivant énumèrent les types incontournables en <em>python</em>.
Ils sont classés le plus souvent en deux catégories : types
<em>immuables</em> ou <em>modifiables</em>. Tous les types du langage <em>python</em> sont également
des objets, c’est pourquoi on retrouve dans ce chapitre certaines
formes d’écriture similaires à celles présentées plus tard dans
le chapitre concernant les classes (<a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>).</p>
</section>
<section id="types-immuables-ou-immutable">
<span id="index-5"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Types immuables (ou immutable)</a><a class="headerlink" href="#types-immuables-ou-immutable" title="Lien permanent vers cette rubrique">#</a></h2>
<div class="admonition-mathdef admonition" id="indexmathe-Définition2">
<p class="admonition-title">Définition D3 : type immuable (ou immutable)</p>
<p>Une variable de type immuable ne peut être modifiée. Une opération
sur une variable de ce type entraîne nécessairement la création d’une autre
variable du même type, même si cette dernière est temporaire.</p>
</div>
<p>Autrement dit, la simple instruction <code class="docutils literal notranslate"><span class="pre">x+=3</span></code> qui consiste à ajouter à la
variable <code class="docutils literal notranslate"><span class="pre">x</span></code> la valeur <code class="docutils literal notranslate"><span class="pre">3</span></code> crée une seconde variable dont la valeur
est celle de <code class="docutils literal notranslate"><span class="pre">x</span></code> augmentée de <code class="docutils literal notranslate"><span class="pre">3</span></code> puis à en recopier le contenu dans celui
de la variable <code class="docutils literal notranslate"><span class="pre">x</span></code>. Les nombres sont des types immuables tout comme les
chaînes de caractères et les <code class="docutils literal notranslate"><span class="pre">tuple</span></code> qui sont des tableaux d’objets.
Il n’est pas possible de modifier une variable de ce type, il faut en
recréer une autre du même type qui intègrera la modification.</p>
<section id="type-rien-ou-none">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Type « rien » ou None</a><a class="headerlink" href="#type-rien-ou-none" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-6"><em>python</em> propose un type <code class="docutils literal notranslate"><span class="pre">None</span></code> pour signifier qu’une variable ne contient rien.
La variable est de type <code class="docutils literal notranslate"><span class="pre">None</span></code> et est égale à <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="kc">None</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c1"># affiche None</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">None</span>
</pre></div>
</div>
<p>Certaines fonctions utilisent cette convention lorsqu’il leur est impossible
de retourner un résultat. Ce n’est pas la seule option pour gérer cette
impossibilité : il est possible de générer une <a class="reference internal" href="../c_exception/exception.html#chap-exception"><span class="std std-ref">exception</span></a>,
de retourner une valeur par défaut ou encore de retourner <code class="docutils literal notranslate"><span class="pre">None</span></code>.
Il n’y a pas de choix meilleur, il suffit juste de préciser la convention choisie.</p>
<p>Les fonctions sont définies au paragraphe <a class="reference internal" href="syntaxe.html#par-fonction"><span class="std std-ref">Fonctions</span></a>,
plus simplement, ce sont des mini-programmes : elles permettent de découper
un programme long en tâches plus petites. On les distingue des variables
car leur nom est suivi d’une liste de constantes ou variables comprises
entre parenthèses et séparées par une virgule.</p>
</section>
</section>
<section id="nombres-reels-et-entiers">
<span id="type-nombre"></span><span id="l-type-float"></span><span id="l-type-int"></span><span id="pyintfloat"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Nombres réels et entiers</a><a class="headerlink" href="#nombres-reels-et-entiers" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Documentation : <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex">Numeric Types — int, float, complex</a>.</p>
<p id="index-7">Il existe deux types de nombres en <em>python</em>, les nombres réels
<code class="docutils literal notranslate"><span class="pre">float</span></code> et les nombres entiers <code class="docutils literal notranslate"><span class="pre">int</span></code>. L’instruction <code class="docutils literal notranslate"><span class="pre">x=3</span></code> crée une variable
de type <code class="docutils literal notranslate"><span class="pre">int</span></code> initialisée à <code class="docutils literal notranslate"><span class="pre">3</span></code> tandis que <code class="docutils literal notranslate"><span class="pre">y=3.0</span></code> crée une variable de type
<code class="docutils literal notranslate"><span class="pre">float</span></code> initialisée à <code class="docutils literal notranslate"><span class="pre">3.0</span></code>. Le programme suivant permet de vérifier cela en
affichant pour les variables <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">y</span></code>, leurs valeurs et leurs
types respectifs grâce à la fonction <code class="docutils literal notranslate"><span class="pre">type</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x =&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;y =&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    x = 3 &lt;class &#39;int&#39;&gt;
    y = 3.0 &lt;class &#39;float&#39;&gt;
</pre></div>
</div>
<p>La liste des opérateurs qui s’appliquent aux nombres réels et
entiers suit. Les trois premiers résultats s’expliquent
en utilisant la représentation en base deux. <code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">&lt;&lt;</span> <span class="pre">1</span></code> s’écrit en base deux
<code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">&lt;&lt;</span> <span class="pre">1</span> <span class="pre">=</span> <span class="pre">1000</span></code>, ce qui vaut 16 en base décimale :
les bits sont décalés vers la droite ce qui équivaut à multiplier
par deux. De même, <code class="docutils literal notranslate"><span class="pre">7</span> <span class="pre">&amp;</span> <span class="pre">2</span></code> s’écrit <code class="docutils literal notranslate"><span class="pre">1011</span> <span class="pre">&amp;</span> <span class="pre">10</span> <span class="pre">=</span> <span class="pre">10</span></code>, qui vaut 2 en base décimale.
Les opérateurs <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> sont des opérateurs bit à bit,
ils se comprennent à partir de la représentation binaire des nombres entiers.</p>
<table class="table" id="index-8">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 55.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>opérateur</p></th>
<th class="head"><p>signification</p></th>
<th class="head"><p>exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span> <span class="pre">&gt;&gt;</span></code></p></td>
<td><p>décalage à gauche, à droite</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">8</span> <span class="pre">&lt;&lt;</span> <span class="pre">1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|</span></code></p></td>
<td><p>opérateur logique <code class="docutils literal notranslate"><span class="pre">ou</span></code> bit à bit</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">8</span> <span class="pre">|</span> <span class="pre">1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p>opérateur logique <code class="docutils literal notranslate"><span class="pre">et</span></code> bit à bit</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">11</span> <span class="pre">&amp;</span> <span class="pre">2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">-</span></code></p></td>
<td><p>addition, soustraction</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">z</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+=</span> <span class="pre">-=</span></code></p></td>
<td><p>addition ou soustraction puis affectation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span>&#160;&#160;&#160;&#160; <span class="pre">/</span></code></p></td>
<td><p>multiplication, division</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">*</span> <span class="pre">z</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span></code></p></td>
<td><p>division entière, le résultat est de type réel si l’un des nombres est réel</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">//</span> <span class="pre">3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></td>
<td><p>reste d’une division entière (modulo)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">%</span> <span class="pre">3</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*=</span> <span class="pre">/=</span></code></p></td>
<td><p>multiplication ou division puis affectation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*=</span> <span class="pre">3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">**</span></code></p></td>
<td><p>puissance (entière ou non, racine carrée = ** 0.5)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">**</span> <span class="pre">3</span></code></p></td>
</tr>
</tbody>
</table>
<p id="index-9">Les fonctions <code class="docutils literal notranslate"><span class="pre">int</span></code> et <code class="docutils literal notranslate"><span class="pre">float</span></code> permettent de convertir un nombre quelconque
ou une chaîne de caractères respectivement en un entier (arrondi) et en un nombre réel.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x:&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s2">&quot;   y:&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="s2">&quot;   z:&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    x: &lt;class &#39;int&#39;&gt;    y: &lt;class &#39;float&#39;&gt;    z: &lt;class &#39;int&#39;&gt;
</pre></div>
</div>
<p>Il peut arriver que la conversion en un nombre entier ne soit pas directe.
Dans l’exemple qui suit, on cherche à convertir une chaîne de caractères
(voir <a class="reference internal" href="#string-paragraphe-chaine"><span class="std std-ref">Chaîne de caractères</span></a>) en entier mais cette chaîne
représente un réel. Il faut d’abord la convertir en réel puis en entier,
c’est à ce moment que l’arrondi sera effectué.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="s2">&quot;3.5&quot;</span><span class="p">)</span>          <span class="c1"># provoque une erreur</span>
<span class="n">i</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="nb">float</span> <span class="p">(</span><span class="s2">&quot;3.5&quot;</span><span class="p">))</span>  <span class="c1"># fonctionne</span>
</pre></div>
</div>
<p id="index-10">Les opérateurs listés par le tableau ci-dessus ont des priorités
différentes, triés par ordre croissant.
Toutefois, il est conseillé d’avoir recours aux parenthèses pour
enlever les doutes : <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">**</span> <span class="pre">4</span> <span class="pre">=</span> <span class="pre">3</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">**</span> <span class="pre">4)</span></code>.
La page <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#operator-precedence">Opertor Precedence</a>
est plus complète à ce sujet.</p>
<p id="index-11"><em>python</em> propose l’opérateur <code class="docutils literal notranslate"><span class="pre">//</span></code> pour les divisions entières
et c’est une rare exception parmi les languages
qui ne possèdent qu’un seul opérateur <code class="docutils literal notranslate"><span class="pre">/</span></code> qui retourne
un entier pour une division entière excepté en <em>python</em> :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">//</span> <span class="n">y</span>  <span class="c1"># le résultat est 5 et non 5.5 car la division est entière</span>
<span class="n">zz</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>  <span class="c1"># le résultat est 5.5</span>

<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">zz</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">5</span> <span class="mf">5.5</span>
</pre></div>
</div>
<p>Pour éviter d’écrire le type <code class="docutils literal notranslate"><span class="pre">float</span></code>, on peut également écrire <code class="docutils literal notranslate"><span class="pre">11.0</span></code>
de façon à spécifier explicitement que la valeur <code class="docutils literal notranslate"><span class="pre">11.0</span></code> est réelle et non entière.
L’opérateur <code class="docutils literal notranslate"><span class="pre">//</span></code> permet d’effectuer une division entière lorsque
les deux nombres à diviser sont réels, le résultat est un entier mais la
variable est de type réel si l’un des nombres est de type réel.</p>
<section id="booleen">
<span id="l-type-bool"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink">Booléen</a><a class="headerlink" href="#booleen" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-12">Les booléens sont le résultat d’opérations logiques et ont deux
valeurs possibles : <code class="docutils literal notranslate"><span class="pre">True</span></code> ou <code class="docutils literal notranslate"><span class="pre">False</span></code>.
Voici la liste des <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#boolean-operations-and-or-not">opérateurs</a>
qui s’appliquent aux booléens.</p>
<table class="table" id="index-13">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 55.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>opérateur</p></th>
<th class="head"><p>signification</p></th>
<th class="head"><p>exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">and</span> <span class="pre">or</span></code></p></td>
<td><p>et, ou logique</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">True</span> <span class="pre">or</span> <span class="pre">False</span></code> (résultat = True)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">not</span></code></p></td>
<td><p>négation logique</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">not</span> <span class="pre">x</span></code></p></td>
</tr>
</tbody>
</table>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">&lt;</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche True</span>
<span class="nb">print</span><span class="p">(</span><span class="ow">not</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche False</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">True</span>
    <span class="kc">False</span>
</pre></div>
</div>
<p>Voici la liste des opérateurs de <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#comparisons">comparaisons</a>
qui retournent des booléens. Ceux-ci s’applique à tout type, aux entiers,
réels, chaînes de caractères, tuples… Une comparaison entre un entier
et une chaîne de caractères est syntaxiquement correcte même si le résultat a peu d’intérêt.</p>
<table class="table" id="index-14">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 55.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>opérateur</p></th>
<th class="head"><p>signification</p></th>
<th class="head"><p>exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span></code></p></td>
<td><p>inférieur, supérieur</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">5</span>&#160; <span class="pre">&lt;</span> <span class="pre">5</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span> <span class="pre">&gt;=</span></code></p></td>
<td><p>inférieur ou égal, supérieur ou égal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">5</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">!=</span></code></p></td>
<td><p>égal, différent</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">5</span> <span class="pre">==</span> <span class="pre">5</span></code></p></td>
</tr>
</tbody>
</table>
<p>A l’instar des nombres réels, il est préférable d’utiliser les
parenthèses pour éviter les problèmes de priorités d’opérateurs
dans des expressions comme : <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">and</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">7</span></code>.
Toutefois, pour cet exemple, <em>python</em> accepte l’écriture résumée
qui enchaîne des comparaisons : <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">and</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">7</span></code> est
équivalent à <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">7</span></code>. Il existe deux autres mots-clés
qui retournent un résultat de type booléen :</p>
<table class="table" id="index-15">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 55.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>opérateur</p></th>
<th class="head"><p>signification</p></th>
<th class="head"><p>exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is</span></code></p></td>
<td><p>test d’identification</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;3&quot;</span> <span class="pre">is</span> <span class="pre">str</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">in</span></code></p></td>
<td><p>test d’appartenance</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">in</span> <span class="pre">[3,</span> <span class="pre">4,</span> <span class="pre">5]</span></code></p></td>
</tr>
</tbody>
</table>
<p>Ces deux opérateurs seront utilisés ultérieurement,
<code class="docutils literal notranslate"><span class="pre">in</span></code> avec les listes, les dictionnaires, les boucles
(paragraphe <a class="reference internal" href="syntaxe.html#boucle-for"><span class="std std-ref">Boucle for</span></a>), <code class="docutils literal notranslate"><span class="pre">is</span></code> lors de l’étude des listes
(paragraphe <a class="reference internal" href="#par-liste-copie"><span class="std std-ref">Copie</span></a> et des <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">classes</span></a>).
Bien souvent, les booléens sont utilisés de manière implicite lors
de tests (paragraphe <a class="reference internal" href="syntaxe.html#test-test"><span class="std std-ref">test</span></a>) ce qui n’empêche pas de les
déclarer explicitement.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">y</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
</section>
<section id="chaine-de-caracteres">
<span id="l-type-str"></span><span id="string-paragraphe-chaine"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Chaîne de caractères</a><a class="headerlink" href="#chaine-de-caracteres" title="Lien permanent vers cette rubrique">#</a></h2>
<section id="creation-d-une-chaine-de-caracteres-str">
<span id="index-16"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink">Création d’une chaîne de caractères - str</a><a class="headerlink" href="#creation-d-une-chaine-de-caracteres-str" title="Lien permanent vers cette rubrique">#</a></h3>
<div class="admonition-mathdef admonition" id="indexmathe-Définition3">
<p class="admonition-title">Définition D4 : chaîne de caractères</p>
<p>Le terme « chaîne de caractères » ou <em>string</em> en anglais signifie
une suite finie de caractères, autrement dit, du texte.</p>
</div>
<p>Ce texte est compris entre deux guillemets ou deux apostrophes,
ces deux symboles sont interchangeables.
Le type <em>python</em> est <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>. L’exemple suivant montre comment
créer une chaîne de caractères. Il ne faut pas confondre la partie entre
guillemets ou apostrophes, qui est une constante, de la variable qui la contient.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;string = texte&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;string = texte, initialisation avec apostrophes&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;morceau 1&quot;</span> <span class="s2">&quot;morceau 2&quot;</span>
<span class="p">)</span>  <span class="c1"># second morceau ajouté au premier par l&#39;ajout du symbole \,</span>
<span class="c1"># il ne doit rien y avoir après le symbole \,</span>
<span class="c1"># pas d&#39;espace ni de commentaire</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;première ligne</span>
<span class="s2">seconde ligne&quot;&quot;&quot;</span>  <span class="c1"># chaîne de caractères qui s&#39;étend sur deux lignes</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    &lt;class &#39;str&#39;&gt; string = texte
    &lt;class &#39;str&#39;&gt; string = texte, initialisation avec apostrophes
    morceau 1morceau 2
    première ligne
        seconde ligne
</pre></div>
</div>
<p>La troisième chaîne de caractères créée lors de ce programme s’étend sur deux lignes.
Il est parfois plus commode d’écrire du texte sur deux lignes plutôt
que de le laisser caché par les limites de fenêtres d’affichage.
<em>python</em> offre la possibilité de couper le texte en deux chaînes de
caractères recollées à l’aide du symbole <code class="docutils literal notranslate"><span class="pre">\</span></code> à condition que
ce symbole soit le dernier de la ligne sur laquelle il apparaît. De même,
lorsque le texte contient plusieurs lignes, il suffit de les encadrer entre deux
symboles <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code> ou <code class="docutils literal notranslate"><span class="pre">'''</span></code> pour que l’interpréteur <em>python</em> considère l’ensemble
comme une chaîne de caractères et non comme une série d’instructions.</p>
<p>Par défaut, le <em>python</em> ne permet pas l’insertion de caractères tels que
les accents dans les chaînes de caractères, le paragraphe
<a class="reference internal" href="../introduction.html#par-intro-accent-code"><span class="std std-ref">Accents</span></a> explique comment résoudre ce problème.
De même, pour insérer un guillemet dans une chaîne de caractères
encadrée elle-même par des guillemets, il faut le faire précéder
du symbole <code class="docutils literal notranslate"><span class="pre">\</span></code>. La séquence <code class="docutils literal notranslate"><span class="pre">\</span></code> est appelée un extra-caractère
(voir table suivante) ou un caractère d’échappement.</p>
<table class="table" id="index-18">
<colgroup>
<col style="width: 23.1%" />
<col style="width: 76.9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code></p></th>
<th class="head"><p>guillemet</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'</span></code></p></td>
<td><p>apostrophe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>passage à la ligne</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\\</span></code></p></td>
<td><p>insertion du symbole <code class="docutils literal notranslate"><span class="pre">\</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\%</span></code></p></td>
<td><p>pourcentage, ce symbole est aussi un caractère spécial</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>tabulation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\r</span></code></p></td>
<td><p>retour à la ligne, peu usité, il a surtout son importance lorsqu’on passe
d’un système <em>Windows</em> à <em>Linux</em> car <em>Windows</em> l’ajoute
automatiquement à tous ses fichiers textes</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>Lire <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals">String and Bytes literals</a>.</p></td>
</tr>
</tbody>
</table>
<p>Liste des extra-caractères les plus couramment utilisés à
l’intérieur d’une chaîne de caractères
(voir  page <a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html">Lexical analysis</a>).</p>
<p>Il peut être fastidieux d’avoir à doubler tous les symboles <code class="docutils literal notranslate"><span class="pre">\</span></code> d’un nom de fichier.
Il est plus simple dans ce cas de préfixer la chaîne de caractères par <code class="docutils literal notranslate"><span class="pre">r</span></code>
de façon à éviter que l’utilisation du symbole <code class="docutils literal notranslate"><span class="pre">\</span></code> ne désigne un caractère
spécial. Les deux lignes suivantes sont équivalentes :</p>
<div class="highlight-default notranslate" id="index-19"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">Dupre</span><span class="se">\\</span><span class="s2">exemple.txt&quot;</span>
<span class="n">s</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\Users\Dupre\exemple.txt&quot;</span>
</pre></div>
</div>
<p>Sans la lettre <code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code>, tous les <code class="docutils literal notranslate"><span class="pre">\</span></code> doivent être doublés, dans le cas
contraire, <em>python</em> peut avoir des effets indésirables selon le
caractère qui suit ce symbole.</p>
</section>
<section id="manipulation-d-une-chaine-de-caracteres">
<span id="operation-string"></span><span id="fonction-str"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">Manipulation d’une chaîne de caractères</a><a class="headerlink" href="#manipulation-d-une-chaine-de-caracteres" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Une chaîne de caractères est semblable à un tableau et certains
opérateurs qui s’appliquent aux tableaux s’appliquent également aux
chaînes de caractères. Ceux-ci sont regroupés dans la table
<a class="reference internal" href="#operation-string"><span class="std std-ref">Manipulation d’une chaîne de caractères</span></a>. La fonction <code class="docutils literal notranslate"><span class="pre">str</span></code> permet de convertir un nombre,
un tableau, un objet (voir chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>) en chaîne de caractères
afin de pouvoir l’afficher. La fonction <code class="docutils literal notranslate"><span class="pre">len</span></code> retourne la longueur
de la chaîne de caractères.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">5.567</span>
<span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">s</span><span class="p">)</span>  <span class="c1"># &lt;type &#39;str&#39;&gt; 5.567</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>  <span class="c1"># affiche 5</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    &lt;class &#39;str&#39;&gt; 5.567
    5
</pre></div>
</div>
<table class="table" id="index-20">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 55.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>opérateur</p></th>
<th class="head"><p>signification</p></th>
<th class="head"><p>exemple</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>concaténation de chaînes de caractères</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">&quot;abc&quot;</span> <span class="pre">+</span> <span class="pre">&quot;def&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+=</span></code></p></td>
<td><p>concaténation puis affectation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">+=</span> <span class="pre">&quot;abc&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code></p></td>
<td><p>une chaîne en contient-elle une autre ?</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;ed&quot;</span> <span class="pre">in</span> <span class="pre">&quot;med&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>répétition d’une chaîne de caractères</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">&quot;abc&quot;</span> <span class="pre">*</span> <span class="pre">4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[n]</span></code></p></td>
<td><p>obtention du enième caractère, le premier
caractère a pour indice 0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">&quot;abc&quot;;</span> <span class="pre">print(t[0])</span>&#160; <span class="pre">#</span> <span class="pre">donne</span> <span class="pre">a</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[i:j]</span></code></p></td>
<td><p>obtention des caractères compris entre les indices <code class="docutils literal notranslate"><span class="pre">i</span></code> et
<code class="docutils literal notranslate"><span class="pre">j-1</span></code> inclus, le premier caractère a pour indice 0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">&quot;abc&quot;;</span> <span class="pre">print(t</span> <span class="pre">[0:2])</span> <span class="pre">#</span> <span class="pre">donne</span> <span class="pre">ab</span></code></p></td>
</tr>
</tbody>
</table>
<p>Il existe d’autres fonctions qui permettent de manipuler les chaînes de caractères.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">fonction</span> <span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">s</span></code> est une chaîne de caractères, <code class="docutils literal notranslate"><span class="pre">fonction</span></code>
est le nom de l’opération que l’on veut appliquer à <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">res</span></code>
est le résultat de cette manipulation.</p>
<p>La table suivante présente une liste non exhaustive
des fonctions disponibles dont un exemple d’utilisation suit.
Cette syntaxe <code class="docutils literal notranslate"><span class="pre">variable.fonction(arguments)</span></code> est celle des classes.</p>
<table class="table" id="index-21">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">count(</span> <span class="pre">sub[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Retourne le nombre d’occurences de la chaîne de caractères <code class="docutils literal notranslate"><span class="pre">sub</span></code>,
les paramètres par défaut <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> permettent de réduire la
recherche entre les caractères d’indice <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> exclu. Par défaut,
<code class="docutils literal notranslate"><span class="pre">start</span></code> est nul tandis que <code class="docutils literal notranslate"><span class="pre">end</span></code> correspond à la fin de la chaîne de caractères.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">find(</span> <span class="pre">sub[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Recherche une chaîne de caractères <code class="docutils literal notranslate"><span class="pre">sub</span></code>,
les paramètres par défaut <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> ont la même signification
que ceux de la fonction <code class="docutils literal notranslate"><span class="pre">count</span></code>. Cette fonction retourne -1 si
la recherche n’a pas abouti.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isalpha()</span></code></p></td>
<td><p>Retourne <code class="docutils literal notranslate"><span class="pre">True</span></code> si tous les caractères sont des lettres, <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isdigit()</span></code></p></td>
<td><p>Retourne <code class="docutils literal notranslate"><span class="pre">True</span></code> si tous les caractères sont des chiffres, <code class="docutils literal notranslate"><span class="pre">False</span></code> sinon.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">replace(</span> <span class="pre">old,</span> <span class="pre">new[,</span> <span class="pre">count])</span></code></p></td>
<td><p>Retourne une copie de la chaîne de caractères en remplaçant toutes les
occurrences de la chaîne <code class="docutils literal notranslate"><span class="pre">old</span></code> par <code class="docutils literal notranslate"><span class="pre">new</span></code>. Si le paramètre optionnel
<code class="docutils literal notranslate"><span class="pre">count</span></code> est renseigné, alors seules les <code class="docutils literal notranslate"><span class="pre">count</span></code> premières occurrences
seront remplacées.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">split(</span> <span class="pre">[sep</span> <span class="pre">[,maxsplit]])</span></code></p></td>
<td><p>Découpe la chaîne de caractères en se servant de la chaîne <code class="docutils literal notranslate"><span class="pre">sep</span></code> comme
délimiteur. Si le paramètre <code class="docutils literal notranslate"><span class="pre">maxsplit</span></code> est renseigné, au plus <code class="docutils literal notranslate"><span class="pre">maxsplit</span></code>
coupures seront effectuées.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">upper()</span></code></p></td>
<td><p>Remplace les minuscules par des majuscules.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lower()</span></code></p></td>
<td><p>Remplace les majuscules par des minuscules.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">join</span> <span class="pre">(</span> <span class="pre">li</span> <span class="pre">)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">li</span></code> est une liste,
cette fonction agglutine tous les éléments d’une liste séparés par <code class="docutils literal notranslate"><span class="pre">sep</span></code>
dans l’expression <code class="docutils literal notranslate"><span class="pre">sep.join</span> <span class="pre">(</span> <span class="pre">[&quot;un&quot;,</span> <span class="pre">&quot;deux&quot;])</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">startswith(prefix[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Teste si la chaîne commence par <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">endswith(suffix[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Teste si la chaîne se termine par <code class="docutils literal notranslate"><span class="pre">suffix</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>Lire <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#string-methods">String Methods</a>.</p></td>
</tr>
</tbody>
</table>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">st</span> <span class="o">=</span> <span class="s2">&quot;langage python&quot;</span>
<span class="n">st</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>  <span class="c1"># mise en lettres majuscules</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;PYTHON&quot;</span><span class="p">)</span>  <span class="c1"># on cherche &quot;PYTHON&quot; dans st</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># affiche 8</span>
<span class="nb">print</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;PYTHON&quot;</span><span class="p">))</span>  <span class="c1"># affiche 1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;PYTHON&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>  <span class="c1"># affiche 0</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">8</span>
    <span class="mi">1</span>
    <span class="mi">0</span>
</pre></div>
</div>
<p id="exemple-string-join">L’exemple suivant permet de retourner une chaîne de caractères contenant
plusieurs éléments séparés par <code class="docutils literal notranslate"><span class="pre">&quot;;&quot;</span></code>. La chaîne <code class="docutils literal notranslate"><span class="pre">&quot;un;deux;trois&quot;</span></code>
doit devenir <code class="docutils literal notranslate"><span class="pre">&quot;trois;deux;un&quot;</span></code>. On utilise pour cela les fonctionnalités
<code class="docutils literal notranslate"><span class="pre">split</span></code> et <code class="docutils literal notranslate"><span class="pre">join</span></code>.
L’exemple utilise également la fonctionnalité <code class="docutils literal notranslate"><span class="pre">reverse</span></code> des listes qui
seront décrites plus loin dans ce chapitre. Il faut simplement retenir
qu’une liste est un tableau. <code class="docutils literal notranslate"><span class="pre">reverse</span></code> retourne le tableau.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;un;deux;trois&quot;</span>
<span class="n">mots</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>  <span class="c1"># mots est égal à [&#39;un&#39;, &#39;deux&#39;, &#39;trois&#39;]</span>
<span class="n">mots</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>  <span class="c1"># retourne la liste, mots devient égal à</span>
<span class="c1">#                 [&#39;trois&#39;, &#39;deux&#39;, &#39;un&#39;]</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mots</span><span class="p">)</span>  <span class="c1"># concaténation des éléments de mots séparés par &quot;;&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>  <span class="c1"># affiche trois;deux;un</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">trois</span><span class="p">;</span><span class="n">deux</span><span class="p">;</span><span class="n">un</span>
</pre></div>
</div>
</section>
<section id="formatage-d-une-chaine-de-caracteres">
<span id="label-formattage-string"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">Formatage d’une chaîne de caractères</a><a class="headerlink" href="#formatage-d-une-chaine-de-caracteres" title="Lien permanent vers cette rubrique">#</a></h3>
<section id="syntaxe">
<span id="index-22"></span><h4>Syntaxe %<a class="headerlink" href="#syntaxe" title="Lien permanent vers cette rubrique">#</a></h4>
<p><em>python</em> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting">printf-style String Formatting</a>)
offre une manière plus concise de former une chaîne
de caractères à l’aide de plusieurs types d’informations en
évitant la conversion explicite de ces informations (type <code class="docutils literal notranslate"><span class="pre">str</span></code>)
et leur concaténation. Il est particulièrement intéressant pour les
nombres réels qu’il est possible d’écrire en imposant un nombre
de décimales fixe. Le format est le suivant :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;.... </span><span class="si">%c</span><span class="s2">1  ....  </span><span class="si">%c</span><span class="s2">2 &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">c1</span></code> est un code choisi parmi ceux de la table
<a class="reference internal" href="#format-string"><span class="std std-ref">format print</span></a>. Il indique le format dans lequel la variable
<code class="docutils literal notranslate"><span class="pre">v1</span></code> devra être transcrite. Il en est de même pour le code
<code class="docutils literal notranslate"><span class="pre">c2</span></code> associé à la variable <code class="docutils literal notranslate"><span class="pre">v2</span></code>. Les codes insérés dans la chaîne
de caractères seront remplacés par les variables citées entre
parenthèses après le symbole <code class="docutils literal notranslate"><span class="pre">%</span></code> suivant la fin de la chaîne de
caractères. Il doit y avoir autant de codes que de variables,
qui peuvent aussi être des constantes.</p>
<p>Voici concrètement l’utilisation de cette syntaxe :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">5.5</span>
<span class="n">d</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;caractères&quot;</span>
<span class="n">res</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;un nombre réel </span><span class="si">%f</span><span class="s2"> et un entier </span><span class="si">%d</span><span class="s2">, une chaîne de </span><span class="si">%s</span><span class="s2">, </span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="s2">&quot;un réel d&#39;abord converti en chaîne de caractères </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">))</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;un nombre réel &quot;</span>
    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="o">+</span> <span class="s2">&quot; et un entier &quot;</span>
    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="o">+</span> <span class="s2">&quot;, une chaîne de &quot;</span>
    <span class="o">+</span> <span class="n">s</span>
    <span class="o">+</span> <span class="s2">&quot;,</span><span class="se">\n</span><span class="s2"> un réel d&#39;abord converti en chaîne de caractères &quot;</span>
    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">un</span> <span class="n">nombre</span> <span class="n">réel</span> <span class="mf">5.500000</span> <span class="n">et</span> <span class="n">un</span> <span class="n">entier</span> <span class="mi">7</span><span class="p">,</span> <span class="n">une</span> <span class="n">chaîne</span> <span class="n">de</span> <span class="n">caractères</span><span class="p">,</span> 
    <span class="n">un</span> <span class="n">réel</span> <span class="n">d</span><span class="s1">&#39;abord converti en chaîne de caractères 9.5</span>
    <span class="n">un</span> <span class="n">nombre</span> <span class="n">réel</span> <span class="mf">5.5</span> <span class="n">et</span> <span class="n">un</span> <span class="n">entier</span> <span class="mi">7</span><span class="p">,</span> <span class="n">une</span> <span class="n">chaîne</span> <span class="n">de</span> <span class="n">caractères</span><span class="p">,</span>
     <span class="n">un</span> <span class="n">réel</span> <span class="n">d</span><span class="s1">&#39;abord converti en chaîne de caractères 9.5</span>
</pre></div>
</div>
<p>La seconde affectation de la variable <code class="docutils literal notranslate"><span class="pre">res</span></code> propose une solution équivalente
à la première en utilisant l’opérateur de concaténation <code class="docutils literal notranslate"><span class="pre">+</span></code>.
Les deux solutions sont équivalentes, tout dépend des préférences de celui qui écrit le programme.
La première option permet néanmoins un formatage plus précis des nombres réels
en imposant par exemple un nombre défini de décimal. Le format est le suivant :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;%n.df&quot;</span> <span class="o">%</span> <span class="n">x</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">n</span></code> est le nombre de chiffres total et <code class="docutils literal notranslate"><span class="pre">d</span></code> est le nombre de décimales,
<code class="docutils literal notranslate"><span class="pre">f</span></code> désigne un format réel indiqué par la présence du symbole <code class="docutils literal notranslate"><span class="pre">%</span></code>.</p>
<p>Exemple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">0.123456789</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche 0.123456789</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%1.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche 0.12</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%06.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche 000.12</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">0.123456789</span>
    <span class="mf">0.12</span>
    <span class="mf">000.12</span>
</pre></div>
</div>
<p id="format-string">Il existe d’autres formats regroupés dans la table suivante.
L’aide reste encore le meilleur réflexe car le langage <em>python</em>
est susceptible d’évoluer et d’ajouter de nouveaux formats.</p>
<table class="table">
<colgroup>
<col style="width: 23.1%" />
<col style="width: 76.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
<td><p>entier relatif</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e</span></code></p></td>
<td><p>nombre réel au format exponentiel</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">f</span></code></p></td>
<td><p>nombre réel au format décimal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">g</span></code></p></td>
<td><p>nombre réel, format décimal ou exponentiel si la puissance est trop grande ou trop petite</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
<td><p>chaîne de caractères</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>Lire <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting">printf-style String Formatting</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="methode-format">
<h4>Méthode format<a class="headerlink" href="#methode-format" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-23">La méthode <a class="reference external" href="https://pyformat.info/">format</a> propose plus d’options pour formatter
le texte et son usage est de plus en plus fréquent.
La méthode interprète les accolades <code class="docutils literal notranslate"><span class="pre">{}</span></code> comme des codes qu’elle remplace
avec les valeurs passée en argument. Le type n’importe plus.
Quelques exemples :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">, </span><span class="si">{1}</span><span class="s2">, </span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">))</span>  <span class="c1"># le format le plus simple</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">))</span>  <span class="c1"># sans numéro</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{2}</span><span class="s2">, </span><span class="si">{1}</span><span class="s2">, </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">))</span>  <span class="c1"># ordre changé</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}{1}{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;abra&quot;</span><span class="p">,</span> <span class="s2">&quot;cad&quot;</span><span class="p">))</span>  <span class="c1"># répétition</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
    <span class="n">abracadabra</span>
</pre></div>
</div>
<p>La méthode accepte aussi les paramètres nommées et des expressions.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;Coordinates: </span><span class="si">{latitude}</span><span class="s2">, </span><span class="si">{longitude}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">latitude</span><span class="o">=</span><span class="s2">&quot;37.24N&quot;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s2">&quot;-115.81W&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">coord</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;X: </span><span class="si">{0[0]}</span><span class="s2">;  Y: </span><span class="si">{0[1]}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">coord</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">Coordinates</span><span class="p">:</span> <span class="mf">37.24</span><span class="n">N</span><span class="p">,</span> <span class="o">-</span><span class="mf">115.81</span><span class="n">W</span>
    <span class="n">X</span><span class="p">:</span> <span class="mi">3</span><span class="p">;</span>  <span class="n">Y</span><span class="p">:</span> <span class="mi">5</span>
</pre></div>
</div>
<p>L’alignement est plus simple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A</span><span class="si">{:&lt;30}</span><span class="s2">B&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;left aligned&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A</span><span class="si">{:&gt;30}</span><span class="s2">B&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;right aligned&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A</span><span class="si">{:^30}</span><span class="s2">B&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;centered&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A</span><span class="si">{:*^30}</span><span class="s2">B&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;centered&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">Aleft</span> <span class="n">aligned</span>                  <span class="n">B</span>
    <span class="n">A</span>                 <span class="n">right</span> <span class="n">alignedB</span>
    <span class="n">A</span>           <span class="n">centered</span>           <span class="n">B</span>
    <span class="n">A</span><span class="o">***********</span><span class="n">centered</span><span class="o">***********</span><span class="n">B</span>
</pre></div>
</div>
<p>Format numérique :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2%}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">19.0</span> <span class="o">/</span> <span class="mf">22.0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;int: </span><span class="si">{0:d}</span><span class="s2">;  hex: </span><span class="si">{0:x}</span><span class="s2">;  oct: </span><span class="si">{0:o}</span><span class="s2">;  bin: </span><span class="si">{0:b}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;int: </span><span class="si">{0:d}</span><span class="s2">;  hex: </span><span class="si">{0:#x}</span><span class="s2">;  oct: </span><span class="si">{0:#o}</span><span class="s2">;  bin: </span><span class="si">{0:#b}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">86.36</span><span class="o">%</span>
    <span class="nb">int</span><span class="p">:</span> <span class="mi">42</span><span class="p">;</span>  <span class="nb">hex</span><span class="p">:</span> <span class="mi">2</span><span class="n">a</span><span class="p">;</span>  <span class="nb">oct</span><span class="p">:</span> <span class="mi">52</span><span class="p">;</span>  <span class="nb">bin</span><span class="p">:</span> <span class="mi">101010</span>
    <span class="nb">int</span><span class="p">:</span> <span class="mi">42</span><span class="p">;</span>  <span class="nb">hex</span><span class="p">:</span> <span class="mh">0x2a</span><span class="p">;</span>  <span class="nb">oct</span><span class="p">:</span> <span class="mo">0o52</span><span class="p">;</span>  <span class="nb">bin</span><span class="p">:</span> <span class="mb">0b101010</span>
    <span class="mi">1</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">567</span><span class="p">,</span><span class="mi">890</span>
</pre></div>
</div>
<p>Dates :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;{:%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">2023</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">02</span> <span class="mi">22</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">29</span>
</pre></div>
</div>
<p>Le site <a class="reference external" href="https://pyformat.info/">format</a> recense d’autres usages de la méthode
<cite>format</cite> comme l’affichage de chaînes de caractères tronquées.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:10.5}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;formatages&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">forma</span>
</pre></div>
</div>
<p>La méthode format référence les informations à afficher par
numéro <code class="docutils literal notranslate"><span class="pre">{1}</span></code>, par ordre avec <code class="docutils literal notranslate"><span class="pre">{}</span></code> ou par nom <code class="docutils literal notranslate"><span class="pre">{name}</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A </span><span class="si">{}</span><span class="s2"> B </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A </span><span class="si">{1}</span><span class="s2"> B </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A </span><span class="si">{un}</span><span class="s2"> B </span><span class="si">{deux}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">un</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">deux</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">A</span> <span class="mi">0</span> <span class="n">B</span> <span class="mi">1</span>
    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">0</span>
    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="notation-f">
<h4>Notation <cite>f{}</cite><a class="headerlink" href="#notation-f" title="Lien permanent vers cette rubrique">#</a></h4>
<p>Les dernières version de <a class="reference external" href="https://www.python.org/">python</a> (voir <a class="reference external" href="https://www.python.org/dev/peps/pep-0498/">PEP 498</a> ont indroduit
une notation plus concise encore avec l’utilisation du préfixe
<code class="docutils literal notranslate"><span class="pre">f&quot;...&quot;</span></code> ou <code class="docutils literal notranslate"><span class="pre">f'...'</span></code>. La syntaxe est identique à celle de la méthode
<em>format</em> lorsque les informations sont nommées. Les noms correspondent
alors à des variables.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A </span><span class="si">{un}</span><span class="s2"> B </span><span class="si">{deux}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">un</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">deux</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="n">un</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">deux</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="n">un</span><span class="si">}</span><span class="s2"> B </span><span class="si">{</span><span class="n">deux</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">2</span>
    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Il faut que les variables à afficher existent et on peut se
permettre quelques excentricités.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A </span><span class="si">{un}</span><span class="s2"> B </span><span class="si">{deux}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">un</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">deux</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="n">un</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="n">un</span><span class="si">}</span><span class="s2"> B </span><span class="si">{</span><span class="n">un</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">2</span>
    <span class="n">A</span> <span class="mi">1</span> <span class="n">B</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="un-cas-particuler-r-ou-r">
<h4>Un cas particuler <cite>%r</cite> ou <cite>{!r}</cite><a class="headerlink" href="#un-cas-particuler-r-ou-r" title="Lien permanent vers cette rubrique">#</a></h4>
<p>Avec l’expérience, on s’aperçoit que des messages d’erreur
précis accélère notablement sa résolution. Le message
doit inclure des valeurs, des types
pour donner le plus d’informations possible.
Lorsqu’on construit ce message, il n’est plus possible
de distinguer un entier <code class="docutils literal notranslate"><span class="pre">1</span></code> d’une chaîne de caractères
<code class="docutils literal notranslate"><span class="pre">'1'</span></code>. Cette distinction est néanmoins très importante
car au premier coup d’oeil, on s’oriente vers une cause
plutôt qu’une autre. C’est pourquoi on utilise beaucoup
dans les exceptions le format <cite>%r</cite> ou <cite>{!r}</cite> qui propose
un formattage proche de l’expression de la valeur au format
python.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&#39;True&#39; n&#39;est pas True&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> n&#39;est pas </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;True&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{!r}</span><span class="s2"> n&#39;est pas </span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;True&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;True&#39;</span><span class="si">}</span><span class="s2"> n&#39;est pas </span><span class="si">{</span><span class="kc">True</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="s1">&#39;True&#39;</span><span class="si">}</span><span class="s2">&#39; n&#39;est pas </span><span class="si">{</span><span class="kc">True</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="s1">&#39;True&#39;</span> <span class="n">n</span><span class="s1">&#39;est pas True</span>
    <span class="kc">True</span> <span class="n">n</span><span class="s1">&#39;est pas True</span>
    <span class="s1">&#39;True&#39;</span> <span class="n">n</span><span class="s1">&#39;est pas True</span>
    <span class="kc">True</span> <span class="n">n</span><span class="s1">&#39;est pas True</span>
    <span class="s1">&#39;True&#39;</span> <span class="n">n</span><span class="s1">&#39;est pas True</span>
</pre></div>
</div>
</section>
</section>
<section id="tuple">
<span id="l-type-tuple"></span><span id="parag-tuple-defindfg"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">tuple</a><a class="headerlink" href="#tuple" title="Lien permanent vers cette rubrique">#</a></h3>
<span class="target" id="index-24"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition4">
<p class="admonition-title">Définition D5 : tuple</p>
<p>Les tuple sont un tableau d’objets qui peuvent être de tout type.
Ils ne sont pas modifiables
(les <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>
sont <em>immuables</em> ou <em>immutable</em>).</p>
</div>
<p>Un tuple apparaît comme une liste d’objets comprise entre parenthèses
et séparés par des virgules. Leur création reprend le même format :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>               <span class="c1"># création d&#39;un tuple composé de 2 entiers</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;un&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;deux&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>   <span class="c1"># création d&#39;un tuple composé de 2 chaînes de caractères</span>
                        <span class="c1"># et de 2 entiers, l&#39;ordre d&#39;écriture est important</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>                <span class="c1"># création d&#39;un tuple d&#39;un élément, sans la virgule,</span>
                        <span class="c1"># le résultat est un entier</span>
</pre></div>
</div>
<p>Ces objets sont des vecteurs d’objets.
Etant donné que les chaînes de caractères sont également des tableaux,
ces opérations reprennent en partie celles des <a class="reference internal" href="#string-paragraphe-chaine"><span class="std std-ref">Chaîne de caractères</span></a>
et décrites par le paragraphe
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#typesseq-common">Common Sequence Operations</a>.</p>
<span id="index-25"></span><table class="table" id="l-type-tuple-op">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">s</span></code></p></td>
<td><p>vrai si <code class="docutils literal notranslate"><span class="pre">x</span></code> est un des éléments de <code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">s</span></code></p></td>
<td><p>réciproque de la ligne précédente</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">+</span> <span class="pre">t</span></code></p></td>
<td><p>concaténation de <code class="docutils literal notranslate"><span class="pre">s</span></code> et <code class="docutils literal notranslate"><span class="pre">t</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">*</span> <span class="pre">n</span></code></p></td>
<td><p>concatène <code class="docutils literal notranslate"><span class="pre">n</span></code> copies de <code class="docutils literal notranslate"><span class="pre">s</span></code> les unes à la suite des autres</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s[i]</span></code></p></td>
<td><p>retourne le ième élément de <code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s[i:j]</span></code></p></td>
<td><p>retourne un tuple contenant une copie des éléments de <code class="docutils literal notranslate"><span class="pre">s</span></code> d’indices <em>i</em> à <em>j</em> exclu</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s[i:j:k]</span></code></p></td>
<td><p>retourne un tuple contenant une copie des éléments de <code class="docutils literal notranslate"><span class="pre">s</span></code> dont les indices sont compris entre <em>i</em> et <em>j</em>
exclu, ces indices sont espacés de <em>k</em> : <img class="math" src="../_images/math/998dc69f458dbe567011c468c24f6e46e5224ca4.svg" alt="i, i+k, i+2k, i+3k, ..."/></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">len(s)</span></code></p></td>
<td><p>nombre d’éléments de <code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">min(s)</span></code></p></td>
<td><p>plus petit élément de <code class="docutils literal notranslate"><span class="pre">s</span></code>, résultat difficile à prévoir
lorsque les types des éléments sont différents</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max(s)</span></code></p></td>
<td><p>plus grand élément de <code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sum(s)</span></code></p></td>
<td><p>retourne la somme de tous les éléments</p></td>
</tr>
</tbody>
</table>
<p>Les tuples ne sont pas <strong>modifiables</strong> (ou <strong>mutable</strong>), cela signifie qu’il est impossible de
modifier un de leurs éléments. Par conséquent, la ligne d’affectation suivante n’est pas correcte :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># déclenche une erreur d&#39;exécution</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">4</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139776071544960</span>
    <span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;tuple&#39;</span> <span class="nb">object</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">item</span> <span class="n">assignment</span>
</pre></div>
</div>
<p>Pour changer cet élément, il est possible de s’y prendre
de la manière suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># crée un tuple d&#39;un élément concaténé</span>
                   <span class="c1"># avec la partie inchangée de a</span>
</pre></div>
</div>
</section>
<section id="nombres-complexes">
<span id="l-type-complex"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">Nombres complexes</a><a class="headerlink" href="#nombres-complexes" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-26">Il existe d’autres types comme le type <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex">complex</a>
permettant de représenter les nombres complexes.
Ce type numérique suit les mêmes règles et fonctionne avec les mêmes opérateurs (excepté les opérateurs de comparaisons)
que ceux présentés au paragraphe <a class="reference internal" href="#type-nombre"><span class="std std-ref">Nombres réels et entiers</span></a> et décrivant les nombres.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">c</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="n">j</span><span class="p">)</span>
    <span class="mi">2</span><span class="n">j</span>
</pre></div>
</div>
<p>Le langage <em>python</em> offre la possibilité de créer ses propres types immuables
(voir <a class="reference internal" href="../c_classes/classes.html#classe-slots-att"><span class="std std-ref">__slots__</span></a>)
mais ils seront définis à partir des types immuables présentés jusqu’ici.</p>
</section>
<section id="bytes">
<span id="l-type-bytes"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">bytes</a><a class="headerlink" href="#bytes" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-27">Le type <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(disponible dans Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>
représente un tableau d’octets. Il fonctionne quasiment pareil que le type
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(disponible dans Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>. Les opérations qu’on peut faire dessus sont quasiment identiques :</p>
<table class="table" id="index-28">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">count(</span> <span class="pre">sub[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Retourne le nombre d’occurences de la séquence d’octets <code class="docutils literal notranslate"><span class="pre">sub</span></code>,
les paramètres par défaut <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> permettent de réduire la
recherche entre les octets d’indice <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> exclu. Par défaut,
<code class="docutils literal notranslate"><span class="pre">start</span></code> est nul tandis que <code class="docutils literal notranslate"><span class="pre">end</span></code> correspond à la fin de la séquence d’octets.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">find(</span> <span class="pre">sub[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Recherche une séquence d’octets <code class="docutils literal notranslate"><span class="pre">sub</span></code>,
les paramètres par défaut <code class="docutils literal notranslate"><span class="pre">start</span></code> et <code class="docutils literal notranslate"><span class="pre">end</span></code> ont la même signification
que ceux de la fonction <code class="docutils literal notranslate"><span class="pre">count</span></code>. Cette fonction retourne -1 si
la recherche n’a pas abouti.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">replace(</span> <span class="pre">old,</span> <span class="pre">new[,</span> <span class="pre">count])</span></code></p></td>
<td><p>Retourne une copie de la séquence d’octets en remplaçant toutes les
occurrences de la séquence <code class="docutils literal notranslate"><span class="pre">old</span></code> par <code class="docutils literal notranslate"><span class="pre">new</span></code>. Si le paramètre optionnel
<code class="docutils literal notranslate"><span class="pre">count</span></code> est renseigné, alors seules les <code class="docutils literal notranslate"><span class="pre">count</span></code> premières occurrences
seront remplacées.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">partition(</span> <span class="pre">[sep</span> <span class="pre">[,maxsplit]])</span></code></p></td>
<td><p>Découpe la séquence d’octets en se servant de la séquence <code class="docutils literal notranslate"><span class="pre">sep</span></code> comme
délimiteur. Si le paramètre <code class="docutils literal notranslate"><span class="pre">maxsplit</span></code> est renseigné, au plus <code class="docutils literal notranslate"><span class="pre">maxsplit</span></code>
coupures seront effectuées.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">join</span> <span class="pre">(</span> <span class="pre">li</span> <span class="pre">)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">li</span></code> est une liste,
cette fonction agglutine tous les éléments d’une liste séparés par <code class="docutils literal notranslate"><span class="pre">sep</span></code>
dans l’expression <code class="docutils literal notranslate"><span class="pre">sep.join</span> <span class="pre">(</span> <span class="pre">[&quot;un&quot;,</span> <span class="pre">&quot;deux&quot;])</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">startswith(prefix[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Teste si la chaîne commence par <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">endswith(suffix[,</span> <span class="pre">start[,</span> <span class="pre">end]])</span></code></p></td>
<td><p>Teste si la chaîne se termine par <code class="docutils literal notranslate"><span class="pre">suffix</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>Lire <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes-methods">Bytes and Bytearray Operations</a>.</p></td>
</tr>
</tbody>
</table>
<p id="index-29">Pour déclarer un tableau de <em>bytes</em>, il faut préfixer une chaîne de caractères
par <strong>b</strong> :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;345&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>

<span class="n">b</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s2">&quot;2Ef0 F1f2  &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    b&#39;345&#39; &lt;class &#39;bytes&#39;&gt;
    b&#39;.\xf0\xf1\xf2&#39; &lt;class &#39;bytes&#39;&gt;
</pre></div>
</div>
<p id="index-30">Le type <em>bytes</em> est très utilisé quand il s’agit de convertit une chaîne
de caractères d’un <a class="reference external" href="https://fr.wikipedia.org/wiki/Codage_des_caract%C3%A8res">encoding</a>
à l’autre.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    b&#39;abc&#39; abc
    &lt;class &#39;bytes&#39;&gt; &lt;class &#39;str&#39;&gt;
</pre></div>
</div>
<p>Les <a class="reference external" href="https://fr.wikipedia.org/wiki/Codage_des_caract%C3%A8res">encoding</a>
sont utiles dès qu’une chaîne de caractères contient un caractère non anglais
(accent, sigle…). Les bytes sont aussi très utilisés pour
<a class="reference external" href="https://fr.wikipedia.org/wiki/S%C3%A9rialisation">sérialiser</a> un objet.</p>
</section>
</section>
<section id="types-modifiables-ou-mutable">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Types modifiables ou mutable</a><a class="headerlink" href="#types-modifiables-ou-mutable" title="Lien permanent vers cette rubrique">#</a></h2>
<p id="index-31">Les types modifiables sont des conteneurs (ou containers en anglais) :
ils contiennent d’autres objets, que ce soit des nombres, des chaînes de caractères
ou des objets de type modifiable.
Plutôt que d’avoir dix variables pour désigner dix objets,
on en n’utilise qu’une seule qui désigne ces dix objets.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Définition5">
<p class="admonition-title">Définition D6 : type modifiable (ou mutable)</p>
<p>Une variable de type modifiable peut être modifiée, elle conserve le même type
et le même identificateur. C’est uniquement son contenu qui évolue.</p>
</div>
<p>On pourrait penser que les types modifiables sont plus pratiques à l’usage
mais ce qu’on gagne en souplesse, on le perd en taille mémoire.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="n">tu</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">li</span><span class="p">),</span> <span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">tu</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">104</span> <span class="mi">80</span>
</pre></div>
</div>
<section id="bytearray">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">bytearray</a><a class="headerlink" href="#bytearray" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-33">Le type <a class="reference external" href="https://docs.python.org/3/library/functions.html#bytearray">bytearray</a> est la version <em>mutable</em> du type <a class="reference internal" href="#l-type-bytes"><span class="std std-ref">bytes</span></a>.</p>
</section>
<section id="liste">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Liste</a><a class="headerlink" href="#liste" title="Lien permanent vers cette rubrique">#</a></h3>
<section id="definition-et-methodes-list">
<span id="index-34"></span><h4>Définition et méthodes (list)<a class="headerlink" href="#definition-et-methodes-list" title="Lien permanent vers cette rubrique">#</a></h4>
<div class="admonition-mathdef admonition" id="indexmathe-Définition6">
<p class="admonition-title">Définition D7 : liste</p>
<p>Les listes sont des collections d’objets qui peuvent être de tout type.
Elles sont modifiables.</p>
</div>
<p>Une liste apparaît comme une succession d’objets compris entre crochets et
séparés par des virgules. Leur création reprend le même format :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>               <span class="c1"># création d&#39;une liste composée de deux entiers</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;deux&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># création d&#39;une liste composée de</span>
                        <span class="c1"># deux chaînes de caractères</span>
                        <span class="c1"># et de deux entiers, l&#39;ordre d&#39;écriture est important</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,]</span>                <span class="c1"># création d&#39;une liste d&#39;un élément, sans la virgule,</span>
                        <span class="c1"># le résultat reste une liste</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span> <span class="p">]</span>                 <span class="c1"># crée une liste vide</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">list</span> <span class="p">()</span>             <span class="c1"># crée une liste vide</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>               <span class="c1"># accède au premier élément</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>              <span class="c1"># accède au dernier élément</span>
</pre></div>
</div>
<p>Ces objets sont des listes chaînées d’autres objets de type quelconque
(immuable ou modifiable). Il est possible d’effectuer les opérations qui suivent.
Ces opérations reprennent celles des <a class="reference internal" href="#parag-tuple-defindfg"><span class="std std-ref">tuple</span></a>
(voir <a class="reference internal" href="#l-type-tuple-op"><span class="std std-ref">opération tuple</span></a>)
et incluent d’autres fonctionnalités puisque les listes sont modifiables.
Il est donc possible d’insérer, de supprimer des éléments, de les trier.
La syntaxe des opérations sur les listes est similaire à celle des opérations
qui s’appliquent sur les chaînes de caractères, elles sont présentées par la table suivante.</p>
<span id="operation-liste"></span><span id="index-35"></span><table class="table" id="l-type-list-op">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">l</span></code></p></td>
<td><p>vrai si <code class="docutils literal notranslate"><span class="pre">x</span></code> est un des éléments de <code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">l</span></code></p></td>
<td><p>réciproque de la ligne précédente</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">+</span> <span class="pre">t</span></code></p></td>
<td><p>concaténation de <code class="docutils literal notranslate"><span class="pre">l</span></code> et <code class="docutils literal notranslate"><span class="pre">t</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">*</span> <span class="pre">n</span></code></p></td>
<td><p>concatène <code class="docutils literal notranslate"><span class="pre">n</span></code> copies de <code class="docutils literal notranslate"><span class="pre">l</span></code> les unes à la suite des autres</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l[i]</span></code></p></td>
<td><p>retourne l’élément i$^text{ème}$ élément de <code class="docutils literal notranslate"><span class="pre">l</span></code>,
à la différence des tuples, l’instruction <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">[i]</span> <span class="pre">=</span> <span class="pre">&quot;a&quot;</span></code>
est valide, elle remplace l’élément <code class="docutils literal notranslate"><span class="pre">i</span></code> par <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code>.
Un indice négatif correspond à la position <code class="docutils literal notranslate"><span class="pre">len(l)+i</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l[i:j]</span></code></p></td>
<td><p>retourne une liste contenant les éléments de <code class="docutils literal notranslate"><span class="pre">l</span></code> d’indices <em>i</em> à
<em>j</em> exclu. Il est possible de remplacer cette sous-liste par une autre en
utilisant l’affectation <code class="docutils literal notranslate"><span class="pre">l[i:j]</span> <span class="pre">=</span> <span class="pre">l2</span></code> où <code class="docutils literal notranslate"><span class="pre">l2</span></code>
est une autre liste (ou un tuple) de dimension différente ou égale.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l[i:j:k]</span></code></p></td>
<td><p>retourne une liste contenant les éléments de <code class="docutils literal notranslate"><span class="pre">l</span></code> dont les
indices sont compris entre <em>i</em> et <em>j</em> exclu, ces indices sont espacés de <em>k</em> :
<img class="math" src="../_images/math/998dc69f458dbe567011c468c24f6e46e5224ca4.svg" alt="i, i+k, i+2k, i+3k, ..."/> Ici encore, il est possible d’écrire l’affectation
suivante : <code class="docutils literal notranslate"><span class="pre">l[i:j:k]</span> <span class="pre">=</span> <span class="pre">l2</span></code> mais <code class="docutils literal notranslate"><span class="pre">l2</span></code> doit être une liste (ou un tuple)
de même dimension que <code class="docutils literal notranslate"><span class="pre">l[i:j:k]</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">len(l)</span></code></p></td>
<td><p>nombre d’éléments de <code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">min(l)</span></code></p></td>
<td><p>plus petit élément de <code class="docutils literal notranslate"><span class="pre">l</span></code>, résultat difficile à prévoir
lorsque les types des éléments sont différents</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max(l)</span></code></p></td>
<td><p>plus grand élément de <code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sum(l)</span></code></p></td>
<td><p>retourne la somme de tous les éléments</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">l</span> <span class="pre">[i:j]</span></code></p></td>
<td><p>supprime les éléments d’indices entre <code class="docutils literal notranslate"><span class="pre">i</span></code> et <code class="docutils literal notranslate"><span class="pre">j</span></code> exclu.
Cette instruction est équivalente à <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">[i:j]</span> <span class="pre">=</span> <span class="pre">[]</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">(x)</span></code></p></td>
<td><p>convertit <code class="docutils literal notranslate"><span class="pre">x</span></code> en une liste quand cela est possible</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l.count</span> <span class="pre">(x)</span></code></p></td>
<td><p>Retourne le nombre d’occurrences de l’élément <code class="docutils literal notranslate"><span class="pre">x</span></code>. Cette notation
suit la syntaxe des classes développée au chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>.
<code class="docutils literal notranslate"><span class="pre">count</span></code> est une méthode de la classe <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l.index</span> <span class="pre">(x)</span></code></p></td>
<td><p>Retourne l’indice de la première occurrence de l’élément <code class="docutils literal notranslate"><span class="pre">x</span></code>
dans la liste <code class="docutils literal notranslate"><span class="pre">l</span></code>. Si celle-ci n’existe pas, une exception est
déclenchée (voir le paragraphe <a class="reference internal" href="../c_exception/exception.html#chap-exception"><span class="std std-ref">Exceptions</span></a>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l.append</span> <span class="pre">(x)</span></code></p></td>
<td><p>Ajoute l’élément <code class="docutils literal notranslate"><span class="pre">x</span></code> à la fin de la liste <code class="docutils literal notranslate"><span class="pre">l</span></code>. Si <code class="docutils literal notranslate"><span class="pre">x</span></code>
est une liste, cette fonction ajoute la liste <code class="docutils literal notranslate"><span class="pre">x</span></code> en tant qu’élément,
au final, la liste <code class="docutils literal notranslate"><span class="pre">l</span></code> ne contiendra qu’un élément de plus.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l.extend</span> <span class="pre">(k)</span></code></p></td>
<td><p>Ajoute tous les éléments de la liste <code class="docutils literal notranslate"><span class="pre">k</span></code> à la liste <code class="docutils literal notranslate"><span class="pre">l</span></code>.
La liste <code class="docutils literal notranslate"><span class="pre">l</span></code> aura autant d’éléments supplémentaires qu’il y en a dans la liste <code class="docutils literal notranslate"><span class="pre">k</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l.insert(i,x)</span></code></p></td>
<td><p>Insère l’élément <code class="docutils literal notranslate"><span class="pre">x</span></code> à la position <code class="docutils literal notranslate"><span class="pre">i</span></code> dans la liste <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l.remove</span> <span class="pre">(x)</span></code></p></td>
<td><p>Supprime la première occurrence de l’élément <code class="docutils literal notranslate"><span class="pre">x</span></code> dans la liste <code class="docutils literal notranslate"><span class="pre">l</span></code>.
S’il n’y a aucune occurrence de <code class="docutils literal notranslate"><span class="pre">x</span></code>, cette méthode déclenche une exception.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l.pop</span> <span class="pre">([i])</span></code></p></td>
<td><p>Retourne l’élément <code class="docutils literal notranslate"><span class="pre">l[i]</span></code> et le supprime de la liste. Le
paramètre <code class="docutils literal notranslate"><span class="pre">i</span></code> est facultatif, s’il n’est pas précisé, c’est le dernier
élément qui est retourné puis supprimé de la liste.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l.reverse</span> <span class="pre">(x)</span></code></p></td>
<td><p>Retourne la liste, le premier et dernier élément échange leurs places,
le second et l’avant dernier, et ainsi de suite.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l.sort</span> <span class="pre">([key=None,</span> <span class="pre">reverse=False])</span></code></p></td>
<td><p>Cette fonction trie la liste par ordre croissant. Le paramètre <code class="docutils literal notranslate"><span class="pre">key</span></code>
est facultatif, il permet de préciser la fonction qui précise clé de comparaison qui doit
être utilisée lors du tri.
Si <code class="docutils literal notranslate"><span class="pre">reverse</span></code> est <code class="docutils literal notranslate"><span class="pre">True</span></code>, alors le tri est décroissant.
Lire <a class="reference external" href="https://docs.python.org/3/howto/sorting.html#sortinghowto">Sorting HOW TO</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="exemples-list">
<h4>Exemples (list)<a class="headerlink" href="#exemples-list" title="Lien permanent vers cette rubrique">#</a></h4>
<p>L’exemple suivant montre une utilisation de la méthode <code class="docutils literal notranslate"><span class="pre">sort</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>  <span class="c1"># définition d&#39;une liste</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche cette liste</span>
<span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>  <span class="c1"># trie la liste par ordre croissant</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affiche la liste triée</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>Pour classer les objets contenus par la liste mais selon un ordre
différent, il faut définir une fonction qui détermine un ordre entre
deux éléments de la liste. C’est la fonction <code class="docutils literal notranslate"><span class="pre">compare</span></code>
de l’exemple suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compare_key</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">x</span>


<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">compare_key</span><span class="p">)</span>  <span class="c1"># trie la liste x à l&#39;aide de la fonction compare</span>
<span class="c1"># cela revient à la trier par ordre décroissant</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>L’exemple suivant illustre un exemple dans lequel on essaye
d’accéder à l’indice d’un élément qui n’existe pas dans la liste :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># cherche la position de l&#39;élément 1</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">4</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139776067344192</span>
    <span class="ne">ValueError</span><span class="p">:</span> <span class="mi">1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span>
</pre></div>
</div>
<p>Comme cet élément n’existe pas, on déclenche ce qu’on
appelle une exception qui se traduit par l’affichage d’un message
d’erreur. Le message indique le nom de l’exception générée (<code class="docutils literal notranslate"><span class="pre">ValueError</span></code>)
ainsi qu’un message d’information permettant en règle générale
de connaître l’événement qui en est la cause.</p>
<p>Pour éviter cela, on choisit d’intercepter l’exception
(voir paragraphe <a class="reference internal" href="../c_exception/exception.html#chap-exception"><span class="std std-ref">Exceptions</span></a>).</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 n&#39;est pas présent dans la liste x&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;trouvé&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span> <span class="n">n</span><span class="s1">&#39;est pas présent dans la liste x</span>
</pre></div>
</div>
</section>
<section id="fonction-range">
<span id="fonction-range-xrange"></span><h4>Fonction range<a class="headerlink" href="#fonction-range" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-37">Les listes sont souvent utilisées dans des boucles ou notamment
par l’intermédiaire de la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#func-range">range</a>.
Cette fonction retourne un <a class="reference external" href="https://fr.wikipedia.org/wiki/It%C3%A9rateur">itérateur</a>
sur des entiers. Nous verrons les itérateurs plus tard. Disons pour le moment
les itérateurs ont l’apparence d’un ensembe mais ce n’en est pas un.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span> <span class="p">(</span><span class="n">debut</span><span class="p">,</span> <span class="n">fin</span> <span class="p">[,</span><span class="n">marche</span><span class="p">])</span>
</pre></div>
</div>
<p>Retourne une liste incluant tous les entiers compris entre <code class="docutils literal notranslate"><span class="pre">debut</span></code> et <code class="docutils literal notranslate"><span class="pre">fin</span></code>
exclu. Si le paramètre facultatif <code class="docutils literal notranslate"><span class="pre">marche</span></code> est renseigné, la liste
contient tous les entiers <code class="docutils literal notranslate"><span class="pre">n</span></code> compris <code class="docutils literal notranslate"><span class="pre">debut</span></code> et <code class="docutils literal notranslate"><span class="pre">fin</span></code>
exclu et tels que <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">-</span> <span class="pre">debut</span></code> soit un multiple de <code class="docutils literal notranslate"><span class="pre">marche</span></code>.</p>
<p>Exemple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<p>Cette fonction est souvent utilisée lors de boucles <a class="reference internal" href="syntaxe.html#boucle-for"><span class="std std-ref">for</span></a>
pour parcourir tous les éléments d’un tuple, d’une liste, d’un dictionnaire…
Le programme suivant permet par exemple de calculer la somme de tous
les entiers impairs compris entre 1 et 20 exclu.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">:</span>  <span class="c1"># ce programme est équivalent à</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">n</span>                 <span class="c1"># s = sum (range(1,20,2))</span>
</pre></div>
</div>
<p>Le programme suivant permet d’afficher tous les éléments d’une liste.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x[</span><span class="si">%d</span><span class="s2">] = </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">un</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">deux</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">trois</span>
    <span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
</section>
<section id="boucles-et-listes">
<span id="liste-for-raccourci"></span><h4>Boucles et listes<a class="headerlink" href="#boucles-et-listes" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-38">Il est possible aussi de ne pas se servir des indices comme intermédiaires
pour accéder aux éléments d’une liste quand il s’agit d’effectuer un
même traitement pour tous les éléments de la liste <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;la liste inclut : &quot;</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">la</span> <span class="n">liste</span> <span class="n">inclut</span> <span class="p">:</span>  <span class="n">un</span>
    <span class="n">la</span> <span class="n">liste</span> <span class="n">inclut</span> <span class="p">:</span>  <span class="mi">1</span>
    <span class="n">la</span> <span class="n">liste</span> <span class="n">inclut</span> <span class="p">:</span>  <span class="n">deux</span>
    <span class="n">la</span> <span class="n">liste</span> <span class="n">inclut</span> <span class="p">:</span>  <span class="mi">2</span>
</pre></div>
</div>
<p>L’instruction <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">el</span> <span class="pre">in</span> <span class="pre">x</span> <span class="pre">:</span></code> se traduit littéralement par :
<em>pour tous les éléments de la liste, faire…</em>.</p>
<p>Il existe également des notations abrégées lorsqu’on cherche à construire
une liste à partir d’une autre. Le programme suivant construit la liste des
entiers de 1 à 5 à partir du résultat retourné par la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#func-range">range</a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Le langage <em>python</em> offre la possibilité de résumer cette écriture en une
seule ligne. Cette syntaxe sera reprise au paragraphe <a class="reference internal" href="syntaxe.html#liste-for-raccourci2"><span class="std std-ref">Listes, boucle for, liste en extension</span></a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Cette définition de liste peut également inclure des tests ou des boucles imbriquées.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># sélection les éléments pairs</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># affiche [0,2,4]</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">]</span>  <span class="c1"># construit tous les nombres i+j possibles</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="collage-de-sequences-fonction-zip">
<span id="fonction-zip"></span><h4>Collage de séquences, fonction zip<a class="headerlink" href="#collage-de-sequences-fonction-zip" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-39">On suppose qu’on dispose de <em>n</em> séquences d’éléments (tuple, liste), toutes de
longueur <em>l</em>. La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#zip">zip</a>
permet de construire une liste de tuples qui est la juxtaposition de toutes
ces séquences. Le  ième tuple de la liste résultante contiendra tous les
ième éléments des séquences juxtaposées. Si les longueurs des séquences sont
différentes, la liste résultante aura même taille que la plus courte des séquences.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">,</span> <span class="s2">&quot;quatre&quot;</span><span class="p">]</span>
<span class="n">d</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">&lt;</span><span class="nb">zip</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f2026da5440</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="concatenation-de-chaine-de-caracteres">
<h4>Concaténation de chaîne de caractères<a class="headerlink" href="#concatenation-de-chaine-de-caracteres" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-40">Il arrive fréquemment de constuire une chaîne de caractères petits
bouts par petits bouts comme le montre le premier exemple ci-dessous.
Cette construction peut s’avérer très lente lorsque le résultat est
long. Dans ce cas, il est nettement plus rapide d’ajouter chaque morceau
dans une liste puis de les concaténer en une seule fois grâce à la méthode
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.join" title="(disponible dans Python v3.11)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.join()</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">s</span> <span class="o">+=</span> <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">append</span> <span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="copie">
<span id="copy-deepopy-remarque"></span><span id="par-liste-copie"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink">Copie</a><a class="headerlink" href="#copie" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-41">A l’inverse des objets de type immuable, une affectation ne signifie
pas une copie. Afin d’éviter certaines opérations superflues et
parfois coûteuses en temps de traitement, on doit distinguer la variable
de son contenu. Une variable désigne une liste avec un mot (ou identificateur),
une affection permet de créer un second mot pour désigner la même liste.
Il est alors équivalent de faire des opérations avec le premier mot
ou le second comme le montre l’exemple suivant avec les listes <code class="docutils literal notranslate"><span class="pre">l</span></code> et <code class="docutils literal notranslate"><span class="pre">l2</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">l2</span> <span class="o">=</span> <span class="n">l</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [4,5,6]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [4,5,6]</span>
<span class="n">l2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;modif&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [4, &#39;modif&#39;, 6]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [4, &#39;modif&#39;, 6]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p>Dans cet exemple, il n’est pas utile de créer une seconde variable,
dans le suivant, cela permet quelques raccourcis.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="n">l1</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">l1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;modif&quot;</span>  <span class="c1"># ligne équivalente à : l [0][0] = &quot;modif&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">l1</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[[</span><span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span> <span class="p">[</span><span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Par conséquent, lorsqu’on affecte une liste à une variable, celle-ci
n’est pas recopiée, la liste reçoit seulement un nom de variable.
L’affectation est en fait l’association d’un nom avec un objet
(voir paragraphe <a class="reference internal" href="../c_classes/classes.html#par-copie-objet"><span class="std std-ref">Copie d’instances</span></a>).
Pour copier une liste, il faut utiliser la fonction
<a class="reference external" href="https://docs.python.org/3/library/copy.html#copy.copy" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">copy.copy()</span></code></a> du module <a class="reference external" href="https://docs.python.org/3/library/copy.html#module-copy" title="(disponible dans Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">copy</span></code></a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">l2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [4,5,6]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [4,5,6]</span>
<span class="n">l2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;modif&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [4,5,6]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [4, &#39;modif&#39;, 6]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p>Le module <a class="reference external" href="https://docs.python.org/3/library/copy.html#module-copy" title="(disponible dans Python v3.11)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">copy</span></code></a>
est une extension interne. Cette syntaxe sera vue au chapitre <a class="reference internal" href="../c_module/module.html#chap-module"><span class="std std-ref">Module ou extension</span></a>.
Ce point sera rappelé au paragraphe <a class="reference internal" href="../c_classes/classes.html#classe-list-dict-ref-par"><span class="std std-ref">Listes et dictionnaires</span></a>.
L’opérateur <code class="docutils literal notranslate"><span class="pre">==</span></code> permet de savoir si deux listes sont égales même si l’une est
une copie de l’autre. Le mot-clé <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#comparisons">is</a>
permet de vérifier si deux variables font référence à la même liste
ou si l’une est une copie de l’autre comme le montre l’exemple suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">l2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="n">l3</span> <span class="o">=</span> <span class="n">l</span>

<span class="nb">print</span><span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span> <span class="ow">is</span> <span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche False</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span> <span class="ow">is</span> <span class="n">l3</span><span class="p">)</span>  <span class="c1"># affiche True</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">True</span>
    <span class="kc">False</span>
    <span class="kc">True</span>
</pre></div>
</div>
<p><strong>Fonction ``copy`` et ``deepcopy``</strong></p>
<p>Le comportement de la fonction <a class="reference external" href="https://docs.python.org/3/library/copy.html#copy.copy" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">copy.copy()</span></code></a>
peut surprendre dans le cas où une liste contient d’autres listes.
Pour être sûr que chaque élément d’une liste a été correctement recopiée,
il faut utiliser la fonction <a class="reference external" href="https://docs.python.org/3/library/copy.html?highlight=copy#copy.deepcopy">deepcopy</a>.
La fonction est plus longue mais elle recopie toutes les listes que
ce soit une liste incluse dans une liste elle-même incluse
dans une autre liste elle-même incluse…</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="n">l2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="n">l3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1111</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [[1111, 2, 3], [4, 5, 6]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche [[1111, 2, 3], [4, 5, 6]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l3</span><span class="p">)</span>  <span class="c1"># affiche [[1, 2, 3], [4, 5, 6]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span> <span class="ow">is</span> <span class="n">l2</span><span class="p">)</span>  <span class="c1"># affiche False</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">l2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># affiche True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">l3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># affiche False</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[[</span><span class="mi">1111</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
    <span class="p">[[</span><span class="mi">1111</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
    <span class="kc">False</span>
    <span class="kc">True</span>
    <span class="kc">False</span>
</pre></div>
</div>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/copy.html?highlight=copy#copy.deepcopy">deepcopy</a>
est plus lente à exécuter car elle prend en compte les références récursives
comme celles de l’exemple suivant où deux listes se contiennent l’une l’autre.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="n">ll</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># ll contient l</span>
<span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ll</span>  <span class="c1"># l contient ll</span>
<span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche [[[...], 3], &#39;a&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span>  <span class="c1"># affiche [[[...], &#39;a&#39;], 3]</span>

<span class="kn">import</span> <span class="nn">copy</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>  <span class="c1"># affiche [[[...], 3], &#39;a&#39;]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[[[</span><span class="o">...</span><span class="p">],</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
    <span class="p">[[[</span><span class="o">...</span><span class="p">],</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">]</span>
    <span class="p">[[[</span><span class="o">...</span><span class="p">],</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="dictionnaire">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Dictionnaire</a><a class="headerlink" href="#dictionnaire" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-42">Les dictionnaires sont des tableaux plus souples que les listes.
Une liste référence les éléments en leur donnant une position :
la liste associe à chaque élément une position entière comprise entre
0 et <img class="math" src="../_images/math/ba547baa93dbae50702c10f2afbb3ed5a8610713.svg" alt="n-1"/> si <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/> est la longueur de la liste.
Un dictionnaire permet d’associer à un élément autre chose qu’une
position entière : ce peut être un entier, un réel, une chaîne de
caractères, un tuple contenant des objets immuables. D’une manière générale,
un dictionnaire associe à une valeur ce qu’on appelle une clé de type immuable.
Cette clé permettra de retrouver la valeur associée.</p>
<p>L’avantage principal des dictionnaires est la recherche optimisée des clés.
Par exemple, on recense les noms des employés d’une entreprise dans une liste.
On souhaite ensuite savoir si une personne ayant un nom précisé à l’avance
appartient à cette liste. Il faudra alors parcourir la liste jusqu’à trouver
ce nom ou parcourir toute la liste si jamais celui-ci ne s’y trouve pas.
Dans le cas d’un dictionnaire, cette recherche du nom sera beaucoup plus
rapide à écrire et à exécuter.</p>
<section id="definition-et-methodes-dict">
<h4>Définition et méthodes (dict)<a class="headerlink" href="#definition-et-methodes-dict" title="Lien permanent vers cette rubrique">#</a></h4>
<span class="target" id="index-43"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition7">
<p class="admonition-title">Définition D8 : dictionnaire</p>
<p>Les dictionnaires sont des listes de couples. Chaque couple contient une clé et une valeur.
Chaque valeur est indicée par sa clé. La valeur peut-être de tout type, la clé doit être
de type immuable, ce ne peut donc être ni une liste, ni un dictionnaire. Chaque clé comme chaque valeur
peut avoir un type différent des autres clés ou valeurs.</p>
</div>
<p>Un dictionnaire apparaît comme une succession de couples d’objets
comprise entre accolades et séparés par des virgules. La clé et sa valeur
sont séparées par le symbole <code class="docutils literal notranslate"><span class="pre">:</span></code>. Leur création reprend le même format :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;cle1&quot;</span><span class="p">:</span><span class="s2">&quot;valeur1&quot;</span><span class="p">,</span> <span class="s2">&quot;cle2&quot;</span><span class="p">:</span><span class="s2">&quot;valeur2&quot;</span> <span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>         <span class="c1"># crée un dictionnaire vide</span>
<span class="n">z</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>      <span class="c1"># crée aussi un dictionnaire vide</span>
</pre></div>
</div>
<p>Les indices ne sont plus entiers mais des chaînes de caractères pour
cet exemple. Pour associer la valeur à la clé « cle1 », il suffit d’écrire :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cle1&quot;</span><span class="p">:</span> <span class="s2">&quot;valeur1&quot;</span><span class="p">,</span> <span class="s2">&quot;cle2&quot;</span><span class="p">:</span> <span class="s2">&quot;valeur2&quot;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;cle1&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">valeur1</span>
</pre></div>
</div>
<p>La plupart des fonctions disponibles pour les listes sont interdites
pour les dictionnaires comme la concaténation ou l’opération de multiplication
(<code class="docutils literal notranslate"><span class="pre">*</span></code>). Il n’existe plus non plus d’indices entiers pour repérer les éléments,
le seul repère est leur clé. La table suivante dresse la liste des opérations sur les dictionnaires.</p>
<table class="table" id="index-44">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">d</span></code></p></td>
<td><p>vrai si <code class="docutils literal notranslate"><span class="pre">x</span></code> est une des clés de <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">d</span></code></p></td>
<td><p>réciproque de la ligne précédente</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d[i]</span></code></p></td>
<td><p>retourne l’élément associé à la clé <code class="docutils literal notranslate"><span class="pre">i</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">len(d)</span></code></p></td>
<td><p>nombre d’éléments de <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">min(d)</span></code></p></td>
<td><p>plus petite clé</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max(d)</span></code></p></td>
<td><p>plus grande clé</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">d</span> <span class="pre">[i]</span></code></p></td>
<td><p>supprime l’élément associé à la clé <code class="docutils literal notranslate"><span class="pre">i</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">(d)</span></code></p></td>
<td><p>retourne une liste contenant toutes les clés du dictionnaire <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dict</span> <span class="pre">(x)</span></code></p></td>
<td><p>convertit <code class="docutils literal notranslate"><span class="pre">x</span></code> en un dictionnaire si cela est possible,
<code class="docutils literal notranslate"><span class="pre">d</span></code> est alors égal à <code class="docutils literal notranslate"><span class="pre">dict</span> <span class="pre">(</span> <span class="pre">d.items</span> <span class="pre">()</span> <span class="pre">)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">d.copy</span> <span class="pre">()</span></code></p></td>
<td><p>Retourne une copie de <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d.items</span> <span class="pre">()</span></code></p></td>
<td><p>Retourne un itérateur sur tous les couples (clé, valeur)
inclus dans le dictionnaire.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">d.keys</span> <span class="pre">()</span></code></p></td>
<td><p>Retourne un itérateur sur toutes les clés du dictionnaire <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d.values</span> <span class="pre">()</span></code></p></td>
<td><p>Retourne un itérateur sur toutes les
valeurs du dictionnaire <code class="docutils literal notranslate"><span class="pre">d</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">d.get</span> <span class="pre">(k[,x])</span></code></p></td>
<td><p>Retourne <code class="docutils literal notranslate"><span class="pre">d[k]</span></code>, si la clé <code class="docutils literal notranslate"><span class="pre">k</span></code> est manquante, alors
la valeur <code class="docutils literal notranslate"><span class="pre">None</span></code> est retournée à moins que le paramètre optionnel <code class="docutils literal notranslate"><span class="pre">x</span></code>
soit renseigné, auquel cas, ce sera cette valeur qui sera retourné.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d.clear</span> <span class="pre">()</span></code></p></td>
<td><p>Supprime tous les éléments du dictionnaire.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">d.update(d2)</span></code></p></td>
<td><p>Le dictionnaire <code class="docutils literal notranslate"><span class="pre">d</span></code> reçoit le contenu de <code class="docutils literal notranslate"><span class="pre">d2</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">d.setdefault(k[,x])</span></code></p></td>
<td><p>Définit <code class="docutils literal notranslate"><span class="pre">d[k]</span></code> si la clé <code class="docutils literal notranslate"><span class="pre">k</span></code> existe, sinon, affecte <code class="docutils literal notranslate"><span class="pre">x</span></code> à <code class="docutils literal notranslate"><span class="pre">d[k]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">d.pop()</span></code></p></td>
<td><p>Retourne un élément et le supprime du dictionnaire.</p></td>
</tr>
</tbody>
</table>
<p>Contrairement à une liste, un dictionnaire ne peut être trié car sa
structure interne est optimisée pour effectuer des recherches rapides
parmi les éléments. On peut aussi se demander quel est l’intérêt de la
méthode <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#mutable-sequence-types">pop</a>
qui retourne un élément puis le supprime alors qu’il existe le mot-clé <code class="docutils literal notranslate"><span class="pre">del</span></code>.
Cette méthode est simplement plus rapide car elle choisit à chaque fois l’élément
le moins coûteux à supprimer, surtout lorsque le dictionnaire est volumineux.</p>
<p>Les itérateurs sont des objets qui permettent de parcourir rapidement un dictionnaire,
ils seront décrits en détail au chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a> sur les classes.
Un exemple de leur utilisation est présenté dans le paragraphe suivant.</p>
</section>
<section id="exemples-dict">
<h4>Exemples (dict)<a class="headerlink" href="#exemples-dict" title="Lien permanent vers cette rubrique">#</a></h4>
<p>Il n’est pas possible de trier un dictionnaire. L’exemple
suivant permet néanmoins d’afficher tous les éléments d’un dictionnaire selon
un ordre croissant des clés. Ces exemples font appel aux paragraphes sur
les boucles (voir chapitre <a class="reference internal" href="syntaxe.html#chap-boucle"><span class="std std-ref">Syntaxe du langage Python (boucles, tests, fonctions)</span></a>).</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;un&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;zéro&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;deux&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;trois&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;quatre&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;cinq&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;six&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">&quot;sept&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;huit&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;neuf&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;dix&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">key</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">cinq</span> <span class="mi">5</span>
    <span class="n">deux</span> <span class="mi">2</span>
    <span class="n">dix</span> <span class="mi">10</span>
    <span class="n">huit</span> <span class="mi">8</span>
    <span class="n">neuf</span> <span class="mi">9</span>
    <span class="n">quatre</span> <span class="mi">4</span>
    <span class="n">sept</span> <span class="mi">1</span>
    <span class="n">six</span> <span class="mi">6</span>
    <span class="n">trois</span> <span class="mi">3</span>
    <span class="n">un</span> <span class="mi">1</span>
    <span class="n">zéro</span> <span class="mi">0</span>
</pre></div>
</div>
<p>L’exemple suivant montre un exemple d’utilisation des itérateurs.
Il s’agit de construire un dictionnaire inversé pour lequel les valeurs
seront les clés et réciproquement.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;un&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;zero&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;deux&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;trois&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;quatre&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;cinq&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;six&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">&quot;sept&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;huit&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;neuf&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;dix&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">dinv</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># création d&#39;un dictionnaire vide, on parcout</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>  <span class="c1"># les éléments du dictionnaire comme si</span>
    <span class="c1"># c&#39;était une liste de 2-uple (clé,valeur)</span>
    <span class="n">dinv</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>  <span class="c1"># on retourne le dictionnaire</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dinv</span><span class="p">)</span>  <span class="c1"># affiche {0: &#39;zero&#39;, 1: &#39;un&#39;, 2: &#39;deux&#39;,</span>
<span class="c1"># 3: &#39;trois&#39;, 4: &#39;quatre&#39;, 5: &#39;cinq&#39;, 6: &#39;six&#39;,</span>
<span class="c1"># 8: &#39;huit&#39;, 9: &#39;neuf&#39;, 10: &#39;dix&#39;}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sept&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;deux&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;trois&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;quatre&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;cinq&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;six&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;huit&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;neuf&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;dix&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>La méthode <code class="docutils literal notranslate"><span class="pre">items</span></code> retourne un itérateur. Cela permet de parcourir les éléments du dicionnaire
sans créer de liste intermédiaire. Ceci explique ce qu’affiche le programme suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;un&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;zero&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;deux&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;trois&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;quatre&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;cinq&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;six&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">&quot;sept&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;huit&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;neuf&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;dix&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">dict_items</span><span class="p">([(</span><span class="s1">&#39;un&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;deux&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;trois&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;quatre&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;cinq&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;six&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;sept&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;huit&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;neuf&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;dix&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)])</span>
    <span class="p">[(</span><span class="s1">&#39;un&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;deux&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;trois&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;quatre&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;cinq&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;six&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;sept&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;huit&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;neuf&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;dix&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>
</pre></div>
</div>
<p>D’une manière générale, il faut éviter d’ajouter ou de supprimer un élément
dans une liste ou un dictionnaire qu’on est en train de parcourir au sein
d’une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> ou <code class="docutils literal notranslate"><span class="pre">while</span></code>. Cela peut marcher mais cela peut aussi
aboutir à des résultats imprévisibles surtout avec l’utilisation
d’itérateurs (fonction <code class="docutils literal notranslate"><span class="pre">items</span></code>, <code class="docutils literal notranslate"><span class="pre">values</span></code>, <code class="docutils literal notranslate"><span class="pre">keys</span></code>).
Il est préférable de terminer le parcours de la liste ou du dictionnaire puis
de faire les modifications désirées une fois la boucle terminée.
Dans le meilleur des cas, l’erreur suivante survient :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">File</span> <span class="s2">&quot;essai.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">d</span> <span class="p">:</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">dictionary</span> <span class="n">changed</span> <span class="n">size</span> <span class="n">during</span> <span class="n">iteration</span>
</pre></div>
</div>
</section>
<section id="copie-dict">
<span id="par-dictionnaire-copie"></span><h4>Copie (dict)<a class="headerlink" href="#copie-dict" title="Lien permanent vers cette rubrique">#</a></h4>
<p id="index-45">A l’instar des listes (voir paragraphe <a class="reference internal" href="#par-liste-copie"><span class="std std-ref">Copie</span></a>),
les dictionnaires sont des objets et une affectation n’est pas
équivalente à une copie comme le montre le programme suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">d</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: 5, 6: 6}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: 5, 6: 6}</span>
<span class="n">d2</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;modif&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: &#39;modif&#39;, 6: 6}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: &#39;modif&#39;, 6: 6}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
</pre></div>
</div>
<p>Lorsqu’on affecte un dictionnaire à une variable, celui-ci n’est pas recopié,
le dictionnaire reçoit seulement un nom de variable. L’affectation est en fait
l’association d’un nom avec un objet (voir paragraphe <a class="reference internal" href="../c_classes/classes.html#par-copie-objet"><span class="std std-ref">Copie d’instances</span></a>).
Pour copier un dictionnaire, on peut utiliser la méthode
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.copy" title="(disponible dans Python v3.11)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.copy()</span></code></a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: 5, 6: 6}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: 5, 6: 6}</span>
<span class="n">d2</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;modif&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: 5, 6: 6}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>  <span class="c1"># affiche {4: 4, 5: &#39;modif&#39;, 6: 6}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
    <span class="p">{</span><span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;modif&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
</pre></div>
</div>
<p>Le mot-clé <code class="docutils literal notranslate"><span class="pre">is</span></code> a la même signification pour les dictionnaires que
pour les listes, l’exemple du paragraphe <a class="reference internal" href="#par-liste-copie"><span class="std std-ref">Copie</span></a>
est aussi valable pour les dictionnaires. Il en est de même
pour la remarque concernant la fonction
<a class="reference external" href="https://docs.python.org/3/library/copy.html?highlight=copy#copy.deepcopy">deepcopy</a>.
Cette fonction recopie les listes et les dictionnaires.</p>
</section>
<section id="cles-de-type-modifiable">
<span id="cle-dict-modificalbe-apr"></span><h4>Clés de type modifiable<a class="headerlink" href="#cles-de-type-modifiable" title="Lien permanent vers cette rubrique">#</a></h4>
<p>Ce paragraphe concerne davantage des utilisateurs avertis qui souhaitent
malgré tout utiliser des clés de type modifiable. Dans l’exemple qui suit,
la clé d’un dictionnaire est également un dictionnaire et cela
provoque une erreur. Il en serait de même si la variable <code class="docutils literal notranslate"><span class="pre">k</span></code>
utilisée comme clé était une liste.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="n">d</span> <span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>La sortie :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;cledict.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">d</span> <span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="nb">dict</span> <span class="n">objects</span> <span class="n">are</span> <span class="n">unhashable</span>
</pre></div>
</div>
<p>Cela ne veut pas dire qu’il faille renoncer à utiliser un dictionnaire ou
une liste comme clé. La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#id">id</a>
permet d’obtenir un entier qui identifie de manière unique tout objet.
Le code suivant est parfaitement correct.</p>
<div class="highlight-default notranslate" id="index-46"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="n">d</span> <span class="p">[</span><span class="nb">id</span> <span class="p">(</span><span class="n">k</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Toutefois, ce n’est pas parce que deux dictionnaires auront des contenus identiques
que leurs identifiants retournés par la fonction <code class="docutils literal notranslate"><span class="pre">id</span></code> seront égaux.
C’est ce qui explique l’erreur que provoque la dernière ligne du programme suivant.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="n">d</span> <span class="p">[</span><span class="nb">id</span> <span class="p">(</span><span class="n">k</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">k</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">)])</span>  <span class="c1"># affiche bien zéro</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">c</span><span class="p">)])</span>  <span class="c1"># provoque une erreur car même si k et c ont des contenus égaux,</span>
                 <span class="c1"># ils sont distincts, la clé id(c) n&#39;existe pas dans d</span>
</pre></div>
</div>
<p>Il existe un cas où on peut se passer de la fonction <code class="docutils literal notranslate"><span class="pre">id</span></code>
mais il inclut la notion de classe définie au chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>.
L’exemple suivant utilise directement l’instance <code class="docutils literal notranslate"><span class="pre">k</span></code> comme clé.
En affichant le dictionnaire <code class="docutils literal notranslate"><span class="pre">d</span></code>, on vérifie que la clé est liée au résultat
de l’instruction <code class="docutils literal notranslate"><span class="pre">id(k)</span></code> même si ce n’est pas la clé.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span> <span class="p">:</span> <span class="k">pass</span>

<span class="n">k</span> <span class="o">=</span> <span class="n">A</span> <span class="p">()</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="n">d</span> <span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>                   <span class="c1"># affiche {&lt;__main__.A object at 0x0120DB90&gt;: 0}</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">k</span><span class="p">)))</span>   <span class="c1"># affiche 18930576, 0x120db90</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">k</span><span class="p">)])</span>            <span class="c1"># provoque une erreur</span>
</pre></div>
</div>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#hex">hex</a>
convertit un entier en notation hexadécimale. Les nombres affichés changent
à chaque exécution. Pour conclure, ce dernier exemple montre comment se passer
de la fonction <code class="docutils literal notranslate"><span class="pre">id</span></code> dans le cas d’une clé de type dictionnaire.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


<span class="n">k</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">k</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche {{&#39;t&#39;: 4}: 0}</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}:</span> <span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="ensemble-ou-set">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Ensemble ou set</a><a class="headerlink" href="#ensemble-ou-set" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-47">Le langage <em>python</em> définit également ce qu’on appelle un ensemble.
Il est défini par les classes <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set">set</a>
de type modifiable et la classe
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#frozenset">frozenset</a>
de type immuable. Ils n’acceptent que des types identiques
et offrent la plupart des opérations liées aux ensembles
comme l’intersection, l’union.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">set</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>
<span class="c1"># construit l&#39;intersection qui est set([2, 3])</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
<div class="admonition-mathdef admonition" id="indexmathe-Définition8">
<p class="admonition-title">Définition D9 : set</p>
<p>Un <cite>set</cite> est un ensemble de valeurs uniques.
Ajouter une valeur déjà dans la liste
n’a donc aucun impact. On s’en sert beaucoup
pour récupérer une liste d’éléments uniques.
Ce type est dit <em>mutable</em> car il est possible
d’ajouter des valeurs. Comme pour les dictionnaires,
les valeurs stockées dans un ensemble doivent être
immutables. Sans cela, le langage ne pourrait garantir
l’unicité.</p>
</div>
<div class="admonition-mathdef admonition" id="indexmathe-Définition9">
<p class="admonition-title">Définition D10 : frozenset</p>
<p>Un <cite>set</cite> est un ensemble de valeurs uniques.
Ajouter une valeur déjà dans la liste
n’a donc aucun impact. On s’en sert beaucoup
pour récupérer une liste d’éléments uniques.
Ce type est dit <em>immutable</em> car il est impossible
d’ajouter des valeurs. En contrepartie, on peut s’en
servir comme clé dans un dictionnaire ou comme
valeur dans un <cite>set</cite> ou <cite>frozenset</cite>.</p>
</div>
</section>
</section>
<section id="matrices-et-dataframes">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">Matrices et DataFrames</a><a class="headerlink" href="#matrices-et-dataframes" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Bien que ces objects soient maintenant incontournables
et font une des force du langage <a class="reference external" href="https://www.python.org/">python</a>, ils ne
font pas partie du langage mais sont implémentés dans
les librairies <a class="reference external" href="https://www.numpy.org/">numpy</a> et <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/">pandas</a>.
Ces deux objets nécessitent un chapitre à part :
<a class="reference internal" href="../c_data/index.html#l-matrix-dataframe"><span class="std std-ref">Matrices et DataFrames</span></a>.</p>
</section>
<section id="extensions">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Extensions</a><a class="headerlink" href="#extensions" title="Lien permanent vers cette rubrique">#</a></h2>
<section id="fonction-print-repr-et-conversion-en-chaine-de-caracteres">
<span id="fonction-print-eval"></span><h3><a class="toc-backref" href="#id23" role="doc-backlink">Fonction <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">repr</span></code> et conversion en chaîne de caractères</a><a class="headerlink" href="#fonction-print-repr-et-conversion-en-chaine-de-caracteres" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-48">La fonction <code class="docutils literal notranslate"><span class="pre">print</span></code> est déjà apparue dans les exemples présentés ci-dessus,
elle permet d’afficher une ou plusieurs variables préalablement définies,
séparées par des virgules. Les paragraphes qui suivent donnent quelques
exemples d’utilisation. La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#print">print</a>
permet d’afficher n’importe quelle variable ou objet à l’écran, cet affichage
suppose la conversion de cette variable ou objet en une chaîne de caractères.
Deux fonctions permettent d’effectuer cette étape sans
toutefois afficher le résultat à l’écran.</p>
<p><strong>Point à retenir :</strong> la fonction <code class="docutils literal notranslate"><span class="pre">print</span></code> ne change pas le programme, elle affiche à l’écran
le résultat d’une variable sans la modifier. Cela revient à écouter un programme avec un stéthoscope
pour comprendre comment il fonctionne sans altérer son fonctionnement.</p>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#func-str">str</a>
(voir paragraphe <a class="reference internal" href="#fonction-str"><span class="std std-ref">Manipulation d’une chaîne de caractères</span></a> permet de convertir toute variable en
chaîne de caractères. Il existe cependant une autre fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#repr">repr</a>
qui effectue cette conversion. Dans ce cas, le résultat peut être
interprété par la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#eval">eval</a>
qui se charge de la conversion inverse.
Pour les types simples comme ceux présentés dans ce chapitre,
ces deux fonctions retournent des résultats identiques.
Pour l’exemple, <code class="docutils literal notranslate"><span class="pre">x</span></code> désigne n’importe quelle variable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">==</span> <span class="nb">eval</span> <span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># est toujours vrai (True)</span>
<span class="n">x</span> <span class="o">==</span> <span class="nb">eval</span> <span class="p">(</span><span class="nb">str</span> <span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># n&#39;est pas toujours vrai</span>
</pre></div>
</div>
</section>
<section id="eval-fonction-chapitre-deux">
<span id="fonction-eval"></span><span id="id2"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink">Fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code></a><a class="headerlink" href="#eval-fonction-chapitre-deux" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-49">Comme le suggère le paragraphe précédent, la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#eval">eval</a>
permet d’évaluer une chaîne de caractères ou plutôt de l’interpréter
comme si c’était une instruction en <em>python</em>.
Le petit exemple suivant permet de tester toutes les opérations de
calcul possibles entre deux entiers.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">op</span> <span class="o">=</span> <span class="s2">&quot;+ - * / % // &amp; | and or &lt;&lt; &gt;&gt;&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">op</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">o</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot; = &quot;</span><span class="p">,</span> <span class="nb">eval</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">32</span> <span class="o">+</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">41</span>
    <span class="mi">32</span> <span class="o">-</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">23</span>
    <span class="mi">32</span> <span class="o">*</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">288</span>
    <span class="mi">32</span> <span class="o">/</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mf">3.5555555555555554</span>
    <span class="mi">32</span> <span class="o">%</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">5</span>
    <span class="mi">32</span> <span class="o">//</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">3</span>
    <span class="mi">32</span> <span class="o">&amp;</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">0</span>
    <span class="mi">32</span> <span class="o">|</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">41</span>
    <span class="mi">32</span> <span class="ow">and</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">9</span>
    <span class="mi">32</span> <span class="ow">or</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">32</span>
    <span class="mi">32</span> <span class="o">&lt;&lt;</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">16384</span>
    <span class="mi">32</span> <span class="o">&gt;&gt;</span>  <span class="mi">9</span>  <span class="o">=</span>  <span class="mi">0</span>
</pre></div>
</div>
<p>Le programme va créer une chaîne de caractères pour chacune des opérations
et celle-ci sera évaluée grâce à la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#eval">eval</a>
comme si c’était une expression numérique. Il faut bien sûr que les
variables que l’expression mentionne existent durant son évaluation.</p>
</section>
<section id="informations-fournies-par-python">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">Informations fournies par <em>python</em></a><a class="headerlink" href="#informations-fournies-par-python" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Bien que les fonctions ne soient définies que plus tard
(paragraphe <a class="reference internal" href="syntaxe.html#par-fonction"><span class="std std-ref">Fonctions</span></a>, il peut être intéressant de mentionner
la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=dir#dir">dir</a>
qui retourne la liste de toutes les variables créées et accessibles à cet
instant du programme. L’exemple suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">())</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="s1">&#39;__WD__&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Certaines variables - des chaînes des caractères - existent déjà avant même
la première instruction. Elles contiennent différentes informations concernant
l’environnement dans lequel est exécuté le programme <em>python</em> :</p>
<table class="table" id="index-50">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__builtins__</span></code></p></td>
<td><p>Ce module contient tous les éléments présents dès le début d’un
programme <em>python</em>, il contient entre autres
les types présentés dans ce
chapitre et des fonctions simples comme <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#func-range">range</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__doc__</span></code></p></td>
<td><p>C’est une chaîne commentant le fichier, c’est une chaîne de caractères
insérée aux premières lignes
du fichiers et souvent entourée des symboles <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code>
(voir chapitre <a class="reference internal" href="../c_module/module.html#chap-module"><span class="std std-ref">Module ou extension</span></a>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">__file__</span></code></p></td>
<td><p>Contient le nom du fichier où est écrit ce programme.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">__name__</span></code></p></td>
<td><p>Contient le nom du module.</p></td>
</tr>
</tbody>
</table>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=dir#dir">dir</a>
est également pratique pour afficher toutes les fonctions d’un module.
L’instruction <code class="docutils literal notranslate"><span class="pre">dir(sys)</span></code> affiche la liste des fonctions du module
<a class="reference external" href="https://docs.python.org/3/library/sys.html?highlight=sys#module-sys">sys</a>
(voir chapitre <a class="reference internal" href="../c_module/module.html#chap-module"><span class="std std-ref">Module ou extension</span></a>).</p>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">dir()</span></code> appelée sans argument donne la liste des fonctions
et variables définies à cet endroit du programme. Ce résultat peut varier
selon qu’on se trouver dans une fonction, une méthode de classe ou à
l’extérieur du programme. L’instruction <code class="docutils literal notranslate"><span class="pre">dir([])</span></code> donne la liste
des méthodes qui s’appliquent à une liste.</p>
<p id="index-51">De la même manière, la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=id#type">type</a>
retourne une information concernant le type d’une variable.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># affiche 3 &lt;type &#39;int&#39;&gt;</span>
<span class="n">x</span> <span class="o">=</span> <span class="mf">3.5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># affiche 3.5 &lt;type &#39;float&#39;&gt;</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    3 &lt;class &#39;int&#39;&gt;
    3.5 &lt;class &#39;float&#39;&gt;
</pre></div>
</div>
</section>
<section id="affectations-multiples">
<span id="affectation-multiple"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink">Affectations multiples</a><a class="headerlink" href="#affectations-multiples" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-52">Il est possible d’effectuer en <em>python</em> plusieurs affectations simultanément.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>       <span class="c1"># affecte 5 à x</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>       <span class="c1"># affecte 6 à y</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span><span class="mi">6</span>   <span class="c1"># affecte en une seule instruction 5 à x et 6 à y</span>
</pre></div>
</div>
<p>Cette particularité reviendra lorsque les fonctions seront décrites
puisqu’il est possible qu’une fonction retourne plusieurs résultats
comme la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=divmod#divmod">divmod</a>
illustrée par le programme suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># affiche 3 2</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;17 / 5 = 5 * &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># affiche 17 / 5 = 5 *  3  +  2</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">3</span> <span class="mi">2</span>
    <span class="mi">17</span> <span class="o">/</span> <span class="mi">5</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span>  <span class="mi">3</span>  <span class="o">+</span>  <span class="mi">2</span>
</pre></div>
</div>
<p>Le langage <em>python</em> offre la possibilité d’effectuer plusieurs
affectations sur la même ligne. Dans l’exemple qui suit,
le couple <img class="math" src="../_images/math/73f773e0651af54a82b8f5d56a6014a1b8a91bde.svg" alt="(5,5)"/> est affecté à la variable <code class="docutils literal notranslate"><span class="pre">point</span></code>,
puis le couple <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> reçoit les deux valeurs du tuple <code class="docutils literal notranslate"><span class="pre">point</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">point</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span><span class="mi">5</span>
</pre></div>
</div>
</section>
<section id="hierarchie-des-objets">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Hiérarchie des objets</a><a class="headerlink" href="#hierarchie-des-objets" title="Lien permanent vers cette rubrique">#</a></h3>
<p>La page <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#types">modèle de données</a> décrit les différentes
catégories d’objets du langage. Des objets de la même classe propose des fonctionnalités similaires.</p>
</section>
<section id="objets-internes">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Objets internes</a><a class="headerlink" href="#objets-internes" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Les objets <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#internal-objects">objet internes</a>
sont à peu près tout ce qui n’existe pas dans un langage compilé. Elles sont propres
au langage et laisse transparaître des informations dont l’interpréteur a besoin
pour comprendre le programme. Il est déconseillé de s’en servir si jamais
on souhaite un jour traduire le même code dans un autre langage.</p>
</section>
</section>
<section id="commentaires-accentues">
<h2><a class="toc-backref" href="#id29" role="doc-backlink">Commentaires accentués</a><a class="headerlink" href="#commentaires-accentues" title="Lien permanent vers cette rubrique">#</a></h2>
<p id="index-54">Les commentaires commencent par le symbole <code class="docutils literal notranslate"><span class="pre">#</span></code> et se terminent par la fin de la ligne ;
ils ne sont pas interprétés, ils n’ont aucune influence sur l’exécution du programme.
Lorsque les commentaires incluent des symboles exclusivement français tels que
les accents, le compilateur génère l’erreur suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">Non</span><span class="o">-</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="n">code</span> <span class="n">starting</span> <span class="k">with</span> <span class="s1">&#39;</span><span class="se">\xe9</span><span class="s1">&#39;</span> <span class="ow">in</span> <span class="n">file</span> <span class="n">f</span><span class="o">.</span><span class="n">py</span> <span class="n">on</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">but</span> <span class="n">no</span> <span class="n">encoding</span> <span class="n">declared</span><span class="p">;</span> <span class="n">see</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">peps</span><span class="o">/</span><span class="n">pep</span><span class="o">-</span><span class="mi">0263</span><span class="o">/</span>
<span class="k">for</span> <span class="n">details</span>
</pre></div>
</div>
<p id="par-intro-accent-code">Il est néanmoins possible d’utiliser des accents dans les commentaires
à condition d’insérer le commentaire suivant à la première ligne du
programme. Il n’est pas nécessaire de retenir cette commande si le
programme est écrit dans l’éditeur de texte fourni avec <em>python</em>
car ce dernier propose automatiquement d’insérer cette ligne.
Ce point est abordé au paragraphe <a class="reference internal" href="../introduction.html#par-intro-accent-code"><span class="std std-ref">Accents</span></a>.
Il faut inclure la placer le texte suivant en première ligne :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
</pre></div>
</div>
<p>Ou :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># coding: cp1252</span>
</pre></div>
</div>
<p>Ou encore :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># coding: latin-1</span>
</pre></div>
</div>
<p>Le premier encoding <code class="docutils literal notranslate"><span class="pre">utf-8</span></code> est le plus communément utilisé dans le monde internet.
Le second est utilisé par Windows.</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="page précédente">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">précédent</p>
        <p class="prev-next-title">Variables et fonctions</p>
      </div>
    </a>
    <a class="right-next"
       href="syntaxe.html"
       title="page suivante">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">suivant</p>
        <p class="prev-next-title">Syntaxe du langage Python (boucles, tests, fonctions)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Sur cette page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#types-immuables-ou-immutable">Types immuables (ou immutable)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-rien-ou-none">Type « rien » ou None</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nombres-reels-et-entiers">Nombres réels et entiers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#booleen">Booléen</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chaine-de-caracteres">Chaîne de caractères</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creation-d-une-chaine-de-caracteres-str">Création d’une chaîne de caractères - str</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulation-d-une-chaine-de-caracteres">Manipulation d’une chaîne de caractères</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formatage-d-une-chaine-de-caracteres">Formatage d’une chaîne de caractères</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#syntaxe">Syntaxe %</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#methode-format">Méthode format</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#notation-f">Notation <cite>f{}</cite></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#un-cas-particuler-r-ou-r">Un cas particuler <cite>%r</cite> ou <cite>{!r}</cite></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tuple">tuple</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nombres-complexes">Nombres complexes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bytes">bytes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#types-modifiables-ou-mutable">Types modifiables ou mutable</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bytearray">bytearray</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#liste">Liste</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#definition-et-methodes-list">Définition et méthodes (list)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#exemples-list">Exemples (list)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fonction-range">Fonction range</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#boucles-et-listes">Boucles et listes</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#collage-de-sequences-fonction-zip">Collage de séquences, fonction zip</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenation-de-chaine-de-caracteres">Concaténation de chaîne de caractères</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#copie">Copie</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dictionnaire">Dictionnaire</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#definition-et-methodes-dict">Définition et méthodes (dict)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#exemples-dict">Exemples (dict)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#copie-dict">Copie (dict)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cles-de-type-modifiable">Clés de type modifiable</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-ou-set">Ensemble ou set</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#matrices-et-dataframes">Matrices et DataFrames</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extensions">Extensions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fonction-print-repr-et-conversion-en-chaine-de-caracteres">Fonction <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">repr</span></code> et conversion en chaîne de caractères</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eval-fonction-chapitre-deux">Fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#informations-fournies-par-python">Informations fournies par <em>python</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#affectations-multiples">Affectations multiples</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hierarchie-des-objets">Hiérarchie des objets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objets-internes">Objets internes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#commentaires-accentues">Commentaires accentués</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/c_lang/types.rst">
      <i class="fa-solid fa-file-lines"></i> Montrer le code source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2016-2023, Xavier Dupré.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Construit avec le <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">Thème PyData Sphinx</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>