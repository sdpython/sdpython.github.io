<!doctype html>
<html class="no-js" lang="fr" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Recherche" href="../../search.html" /><link rel="next" title="Constructions classiques" href="constructions.html" /><link rel="prev" title="Types et variables du langage python" href="types.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.08.19 -->
        <title>Syntaxe du langage Python (boucles, tests, fonctions) - Documentation teachpyx 0.3.1</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Documentation teachpyx 0.3.1</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/project_ico.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Documentation teachpyx 0.3.1</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Recherche" name="q" aria-label="Recherche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Lectures</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Le langage Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Le langage Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Variables et fonctions</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Variables et fonctions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="types.html">Types et variables du langage python</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Syntaxe du langage Python (boucles, tests, fonctions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="constructions.html">Constructions classiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="collections.html">Constructions classiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="dates.html">Dates</a></li>
<li class="toctree-l3"><a class="reference internal" href="encoding.html">Encoding et jeux de caractères</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_classes/index.html">Classes</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Classes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_classes/classes.html">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_classes/questions.html">Questions</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_exception/index.html">Exceptions</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Exceptions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_exception/exception.html">Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_exception/exception_ext.html">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_exception/warning.html">Warning et logging</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_module/index.html">Entrées, Sorties, Modules</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Entrées, Sorties, Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_module/files.html">Fichiers</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../c_module/serialization.html">Sérialisation</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Sérialisation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../auto_examples/plot_serialisation_examples.html">Sérialisation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../c_module/module.html">Module ou extension</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_regex/index.html">Expressions régulières</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Expressions régulières</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_regex/regex.html">Expressions régulières</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_parallelisation/index.html">Parallélisation</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Parallélisation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_parallelisation/thread.html">Threads</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_gui/index.html">Interfaces graphiques</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Interfaces graphiques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_gui/tkinter.html">tkinter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../c_data/index.html">Matrices et DataFrames</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Matrices et DataFrames</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../c_data/matrices.html">Calcul matriciel</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Calcul matriciel</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../c_data/nb_array.html">Calcul Matriciel, Optimisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../c_data/nb_numpy.html">Calcul matriciel avec numpy (version courte)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../c_data/dataframes.html">Dataframes</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Dataframes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../c_data/nb_dataframe.html">DataFrame et Graphes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../c_data/nb_pandas.html">Manipulation de données avec pandas (version courte)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../c_resume/index.html">Précis</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Précis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../c_resume/python_sheet.html">Cheat sheet: Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../c_resume/conseil_programmes.html">Quelques conseils pour écrire un programme</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../articles/index.html">Collections d’articles inclassables</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Collections d’articles inclassables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../articles/2023-09-06-ensae.html">2023-09-06 : ENSAE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../articles/2023-08-09-hermionne.html">2023-08-09 : l’énigme d’Hermionne</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../articles/2023-08-03-code-jam.html">2023-08-03 : Code Jam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../articles/2022-12-07-cartopy.html">2022-12-07 : Utilisation de cartopy sous Windows (sous WSL)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exercices</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../practice/index_python.html">Exercices sur le langage python</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Exercices sur le langage python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/code_liste_tuple.html">Liste, tuple, ensemble, dictionnaire, liste chaînée, coût des opérations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/nbheap.html">Heap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/structures_donnees_conversion.html">D’une structure de données à l’autre</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/recherche_dichotomique.html">Recherche dichotomique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/exercice_hash.html">Répartition, table de hashage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/classes_metro.html">Un bref aperçu des classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/classes_2048.html">2048 et les classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/pivot_gauss.html">Pivot de gauss avec numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/coloriage_carre.html">Jeux de coloriage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/code_multinomial.html">Simuler une loi multinomiale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/tableau_contingence.html">Calculer un chi 2 sur un tableau de contingence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/tri_nlnd.html">Tri plus rapide que prévu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/histogramme_rapide.html">Histogramme et dictionnaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/exercice_pi.html">Calculs de surface et autres calculs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/profiling_example.html">Exemple de profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/profile_gini.html">Profiling la fonction Gini</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/profiling_conv.html">Profiling, application à la convolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/exercice_regex.html">Expressions régulières</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/exercice_json_xml.html">JSON - XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/py-base/exercice_serialisation_json.html">Sérialisation avec JSON, XML, pickle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/premiers_pas.html">Premiers pas en Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/variable_boucle_tests.html">Variables, boucles, tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/dictionnaire_vigenere.html">Dictionnaires, fonctions, code de Vigenère</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/module_file_regex.html">Modules, fichiers, expressions régulières</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/integrale_rectangle.html">Intégrale et la méthode des rectangles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/j2048.html">2048 - stratégie gagnante</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/texte_langue.html">Deviner la langue d’un texte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/pyramide_bigarree.html">Tracer une pyramide bigarrée</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/classes_carre_magique.html">Classes, méthodes, attributs, opérateurs et carré magique</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/classes_heritage.html">Classes, héritage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/premiers_pas_correction.html">Premiers pas en Python (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/variable_boucle_tests_correction.html">Variables, boucles, tests (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/dictionnaire_vigenere_correction.html">Dictionnaires, fonctions, code de Vigenère (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/module_file_regex_correction.html">Modules, fichiers, expressions régulières (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/integrale_rectangle_correction.html">Intégrale et la méthode des rectangles - correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/j2048_correction.html">2048 - stratégie gagnante - correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/texte_langue_correction.html">Deviner la langue d’un texte (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/pyramide_bigarree_correction.html">Tracer une pyramide bigarrée - correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/classes_carre_magique_correction.html">Classes, méthodes, attributs, opérateurs et carré magique (correction)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/tds-base/classes_heritage_correction.html">Classes, héritage (correction)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../practice/index_algo.html">Algorithmes</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Algorithmes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/matrix_dictionary.html">Produit matriciel avec une matrice creuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_echelle.html">Calculer le nombre de façons de monter une échelle.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_plus_grande_somme.html">La sous-séquence de plus grande somme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_xn.html">Calculer x**n le plus rapidement possible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_topk.html">Les k premiers éléments (top k)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_suffix.html">Algo - jeux de dictionnaires, plus grand suffixe commun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/BJKST.html">Algorithmes de streaming, BJKST</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_editdist.html">Distance entre deux mots de même longueur et tests unitaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_edit_distance.html">Distance d’édition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_ordonnancement.html">Algo - Problème d’ordonnancement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_tsp.html">Réflexions autour du voyage de commerce (TSP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_tsp.html">TSP - Traveling Salesman Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/tsp_aparte.html">Aparté sur le voyageur de commerce</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_compose_connexe.html">Graphe et Composantes connexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_random_graph.html">Graphes aléatoires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_simulation_covid_simple.html">Modèle épidémiologique (SIRD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-base/exercice_simulation_covid.html">Simulation COVID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_einstein_riddle.html">L’énigme d’Einstein et sa résolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-compose/paris_parcours.html">Parcourir les rues de Paris</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-compose/vigenere.html">Casser le code de Vigenère</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../practice/algo-compose/exercice_morse.html">Décoder du Morse sans espaces</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../practice/index_exam.html">Séances minutées</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Séances minutées</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../practice/exams.html">Exercices minutés</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Exercices minutés</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2013_coloriage_correction.html">1A.e - TD noté, 27 novembre 2012 (coloriage, correction)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2013_bout_de_code_coloriage.html">1A.e - TD noté, 27 novembre 2012 (éléments de code pour le coloriage)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2015.html">1A.e - TD noté, 5 décembre 2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2015_rattrapage_enonce.html">1A.e - TD noté 2015 rattrapage (énoncé, écrit et oral)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2016.html">1A.e - TD noté, 11 décembre 2015</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2017.html">1A.e - TD noté, 16 décembre 2016</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2017_2.html">1A.e - TD noté, 21 février 2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2017_2.html#Exercice-1">Exercice 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2018_1.html">1A.e - Enoncé 12 décembre 2017 (1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2018_2.html">1A.e - Enoncé 12 décembre 2017 (2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2019_1.html">1A.e - Enoncé 23 octobre 2018 (1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2019_2.html">1A.e - Enoncé 23 octobre 2018 (2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2020_1.html">1A.e - Enoncé 22 octobre 2019 (1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2020_2.html">1A.e - Enoncé 22 octobre 2019 (2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2021.html">1A - Enoncé 24 novembre 2020</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2022.html">1A - Enoncé 3 novembre 2021</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2022_rattrapage.html">1A - Enoncé 15 novembre 2021 - rattrapage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2022_rattrapage2.html">1A - Enoncé 3 mars 2022- rattrapage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/td_note_2023.html">1A - Enoncé 26 octobre 2022</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2014_09.html">1A.e - Correction de l’interrogation écrite du 26 septembre 2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2014_10.html">1A.e - Correction de l’interrogation écrite du 10 octobre 2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2014_11.html">1A.e - Correction de l’interrogation écrite du 14 novembre 2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2014_12.html">1A.e - Correction de l’interrogation écrite du 14 novembre 2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2015_09.html">1A.e - Correction de l’interrogation écrite du 26 septembre 2015</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../practice/exams/interro_rapide_20_minutes_2015_11.html">1A.e - Correction de l’interrogation écrite du 6 novembre 2015</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Compléments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../algorithm_culture.html">Survol algorithmique</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../i_index.html">En diagonal</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of En diagonal</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../auto_examples/index.html">Gallerie d’exemples</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Gallerie d’exemples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_pandas_groupby.html">Pandas et groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_numpy_tricks.html">Points d’implémentation avec numpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_lambda_function.html">Astuces avec les lambda functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_gil_example.html">Le GIL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_matador.html">Mathador, énigme à 4 opérations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_serialisation_protobuf.html">Sérialisation avec protobuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_float_and_double_rouding.html">Float Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_partie_dame.html">Parties de dames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_hypercube.html">Hypercube et autres exercices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_serialisation_examples.html">Sérialisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_tarabiscote.html">Exercices expliqués de programmation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_tsp.html">Réflexions autour du voyage de commerce (TSP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../auto_examples/plot_einstein_riddle.html">L’énigme d’Einstein et sa résolution</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/index.html">Code inclus dans cette librairie</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Code inclus dans cette librairie</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/classique.html">examples.construction_classique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/tools.html">tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/practice/rues_paris.html">teachpyx.practice.rues_paris</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/numpysex.html">examples.numpysex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/faqs.html">faq</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../i_ex.html">Syntaxes et définitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i_faq.html">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOGS.html">Change Logs</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="syntaxe-du-langage-python-boucles-tests-fonctions">
<span id="chap-boucle"></span><span id="chap-syntaxe"></span><h1>Syntaxe du langage Python (boucles, tests, fonctions)<a class="headerlink" href="#syntaxe-du-langage-python-boucles-tests-fonctions" title="Lien permanent vers cette rubrique">#</a></h1>
<p>Avec les variables, les boucles et les fonctions, on connaît suffisamment d’éléments pour écrire
des programmes. Le plus difficile n’est pas forcément de les comprendre mais plutôt d’arriver
à découper un algorithme complexe en utilisant ces briques élémentaires. C’est l’objectif
des chapitres centrés autour des exercices. Toutefois, même si ce chapitre présente les
composants élémentaires du langage, l’aisance qu’on peut acquérir en programmation vient
à la fois de la connaissance du langage mais aussi de la connaissance d’algorithmes standards
comme celui du tri ou d’une recherche dichotomique. C’est cette connaissance tout autant
que la maîtrise d’un langage de programmation qui constitue l’expérience en programmation.</p>
<section id="les-trois-concepts-des-algorithmes">
<h2>Les trois concepts des algorithmes<a class="headerlink" href="#les-trois-concepts-des-algorithmes" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Les algorithmes sont composés d’instructions, ce sont des opérations
élémentaires que le processeur exécute selon trois schémas :</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>la séquence</p></td>
<td><p>enchaînement des instructions les unes à la suite des autres :
passage d’une instruction à la suivante</p></td>
</tr>
<tr class="row-even"><td><p>le saut</p></td>
<td><p>passage d’une instruction à une autre qui n’est pas forcément la suivante
(c’est une rupture de séquence)</p></td>
</tr>
<tr class="row-odd"><td><p>le test</p></td>
<td><p>choix entre deux instructions</p></td>
</tr>
</tbody>
</table>
</div>
<p>Le saut n’apparaît plus de manière explicite dans les langages évolués car
il est une source fréquente d’erreurs. Il intervient dorénavant de manière
implicite au travers des boucles qui combinent un saut et un test.
On écrit toujours ceci avec les langages les plus récents :</p>
<blockquote>
<div><div class="line-block">
<div class="line">initialisation de la variable moy à 0</div>
<div class="line">faire pour i allant de 1 à N</div>
<div class="line-block">
<div class="line">moy reçoit moy + ni</div>
</div>
<div class="line">moy reçoit moy / N</div>
</div>
</div></blockquote>
<p>Et ceci est traduit par :</p>
<blockquote>
<div><div class="line-block">
<div class="line">ligne 1 : initialisation de la variable moy à 0</div>
<div class="line">ligne 2 : initialisation de la variable i à 1</div>
<div class="line">ligne 3 : moy reçoit moy + ni</div>
<div class="line">ligne 4 : i reçoit i + 1</div>
<div class="line">ligne 5 : si i est inférieur ou égal à N alors aller à la ligne 3</div>
<div class="line">ligne 6 : moy reçoit moy / N</div>
</div>
</div></blockquote>
<p>Tout programme peut se résumer à ces trois concepts. Chaque langage les met en place
avec sa propre syntaxe et parfois quelques nuances mais il est souvent facile
de les reconnaître même dans des langages inconnus. Le calcul d’une somme décrit
plus haut et écrit en <em>python</em> correspond à l’exemple suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">moy</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># de 1 à N+1 exclu --&gt; de 1 à N inclus</span>
    <span class="n">moy</span> <span class="o">+=</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># le premier indice est 0 et non 1</span>
<span class="n">moy</span> <span class="o">/=</span> <span class="n">N</span>
<span class="nb">print</span><span class="p">(</span><span class="n">moy</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">2.0</span>
</pre></div>
</div>
<p>Le premier élément de cette syntaxe est constituée de ses mots-clés
<code class="docutils literal notranslate"><span class="pre">for</span></code> et <code class="docutils literal notranslate"><span class="pre">in</span></code> et des symboles <code class="docutils literal notranslate"><span class="pre">=</span></code>, <code class="docutils literal notranslate"><span class="pre">+=</span></code>, <code class="docutils literal notranslate"><span class="pre">/=</span></code>,
<code class="docutils literal notranslate"><span class="pre">[</span></code>, <code class="docutils literal notranslate"><span class="pre">]</span></code>, <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">)</span></code>, <code class="docutils literal notranslate"><span class="pre">:</span></code>. La fonction
<a class="reference external" href="https://docs.python.org/3/library/keyword.html#keyword.iskeyword">iskeyword</a>
permet de savoir si un mot-clé donné fait partie du langage <em>python</em>.
Même si les modules seront décrits plus tard, la syntaxe
suivante reste accessible :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">keyword</span>

<span class="nb">print</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">iskeyword</span><span class="p">(</span><span class="s2">&quot;for&quot;</span><span class="p">))</span>  <span class="c1"># affiche True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">iskeyword</span><span class="p">(</span><span class="s2">&quot;until&quot;</span><span class="p">))</span>  <span class="c1"># affiche False</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">True</span>
    <span class="kc">False</span>
</pre></div>
</div>
<p>Le programme suivant permet de récupérer la liste des
<a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#keywords">mots-clés</a> du langage :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">keyword</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">kwlist</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">False</span>
    <span class="kc">None</span>
    <span class="kc">True</span>
    <span class="ow">and</span>
    <span class="k">as</span>
    <span class="k">assert</span>
    <span class="k">async</span>
    <span class="k">await</span>
    <span class="k">break</span>
    <span class="k">class</span>
    <span class="nc">continue</span>
    <span class="k">def</span>
    <span class="nf">del</span>
    <span class="k">elif</span>
    <span class="k">else</span>
    <span class="k">except</span>
    <span class="k">finally</span>
    <span class="k">for</span>
    <span class="kn">from</span>
    <span class="nn">global</span>
    <span class="k">if</span>
    <span class="kn">import</span>
    <span class="nn">in</span>
    <span class="ow">is</span>
    <span class="k">lambda</span>
    <span class="k">nonlocal</span>
    <span class="ow">not</span>
    <span class="ow">or</span>
    <span class="k">pass</span>
    <span class="k">raise</span>
    <span class="k">return</span>
    <span class="k">try</span>
    <span class="k">while</span>
    <span class="k">with</span>
    <span class="k">yield</span>
</pre></div>
</div>
<p>A cela s’ajoutent les symboles :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span>  <span class="o">-</span>  <span class="o">*</span>  <span class="o">**</span>  <span class="o">/</span>  <span class="o">//</span>  <span class="o">%</span>
<span class="o">&lt;</span> <span class="o">&gt;</span> <span class="o">==</span> <span class="o">&lt;=</span> <span class="o">&gt;=</span>  <span class="o">!=</span>
<span class="o">&lt;&lt;</span>  <span class="o">&gt;&gt;</span>  <span class="o">&amp;</span>  <span class="o">|</span>  \  <span class="o">~</span>  <span class="o">^</span>
<span class="o">=</span>  <span class="o">+=</span>  <span class="o">-=</span>  <span class="o">*=</span>  <span class="o">/=</span>  <span class="o">//=</span>  <span class="o">%=</span>  <span class="o">**=</span>
<span class="o">|=</span>  <span class="o">&amp;=</span>  <span class="o">&lt;&lt;=</span>  <span class="o">&gt;&gt;=</span>  <span class="o">~=</span>  <span class="o">^=</span>
<span class="p">(</span>  <span class="p">)</span>  <span class="p">[</span>  <span class="p">]</span>  <span class="p">{</span>  <span class="p">}</span>
<span class="s2">&quot;  &quot;&quot;&quot;</span>  <span class="s1">&#39;  &#39;&#39;&#39;</span>
<span class="p">,</span>  <span class="p">:</span>  <span class="o">.</span>
<span class="c1">#</span>
<span class="o">@</span>  <span class="o">@=</span>
</pre></div>
</div>
<p>Les espaces entre les mots-clés et les symboles ont peu d’importance, il peut n’y en
avoir aucun comme dix. Les espaces servent à séparer un mot-clé, un nombre d’une variable.
Les mots-clés et les symboles définissent la grammaire du langage <em>python</em>.
Toutes ces règles sont décrites dans un langage un peu particuilier par
la page <a class="reference external" href="https://docs.python.org/3/reference/grammar.html">Full Grammar specification</a>.</p>
<p>Les fonctions <a class="reference external" href="https://docs.python.org/3/library/functions.html#built-in-functions">builtin</a>
ne font pas partie de la grammaire du langage même si elles sont directement accessibles
comme la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#abs">abs</a>
qui retourne la valeur absolue d’un nombre. C’est un choix d’implémentation
du programme qui interprète le langage mais absent de la grammaire.</p>
</section>
<section id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Lien permanent vers cette rubrique">#</a></h2>
<section id="definition-et-syntaxe">
<span id="label-test"></span><h3>Définition et syntaxe<a class="headerlink" href="#definition-et-syntaxe" title="Lien permanent vers cette rubrique">#</a></h3>
<span class="target" id="index-0"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition0">
<div class="docutils container">
</div>
<p class="admonition-title" id="test-test">Définition D1 : test</p>
<p>Les tests permettent d’exécuter des instructions différentes
selon la valeur d’une condition logique.</p>
</div>
<p>Syntaxe :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe0">
<p class="admonition-title">Syntaxe S1 : Tests</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition1</span> <span class="p">:</span>
   <span class="n">instruction1</span>
   <span class="n">instruction2</span>
   <span class="o">...</span>
<span class="k">else</span> <span class="p">:</span>
   <span class="n">instruction3</span>
   <span class="n">instruction4</span>
   <span class="o">...</span>
</pre></div>
</div>
</div>
<p>La clause <code class="docutils literal notranslate"><span class="pre">else</span></code> est facultative. Lorsque la condition <code class="docutils literal notranslate"><span class="pre">condition1</span></code> est fausse et qu’il
n’y a aucune instruction à exécuter dans ce cas, la clause <code class="docutils literal notranslate"><span class="pre">else</span></code> est inutile.
La syntaxe du test devient :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition1</span> <span class="p">:</span>
   <span class="n">instruction1</span>
   <span class="n">instruction2</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>S’il est nécessaire d’enchaîner plusieurs tests d’affilée,
il est possible de condenser l’écriture avec le mot-clé <code class="docutils literal notranslate"><span class="pre">elif</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition1</span> <span class="p">:</span>
   <span class="n">instruction1</span>
   <span class="n">instruction2</span>
   <span class="o">...</span>
<span class="k">elif</span> <span class="n">condition2</span> <span class="p">:</span>
   <span class="n">instruction3</span>
   <span class="n">instruction4</span>
   <span class="o">...</span>
<span class="k">elif</span> <span class="n">condition3</span> <span class="p">:</span>
   <span class="n">instruction5</span>
   <span class="n">instruction6</span>
   <span class="o">...</span>
<span class="k">else</span> <span class="p">:</span>
   <span class="n">instruction7</span>
   <span class="n">instruction8</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>Le décalage des instructions par rapport aux lignes contenant les mots-clés
<code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">elif</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code> est très important : il fait partie de la syntaxe du langage
et s’appelle l”<a class="reference external" href="https://fr.wikipedia.org/wiki/Style_d%27indentation">indentation</a>.
Celle-ci permet de grouper les instructions ensemble. Le programme suivant est syntaxiquement
correct même si le résultat n’est pas celui désiré.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;le nombre est positif&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;le nombre est négatif&quot;</span><span class="p">)</span>  <span class="c1"># ligne mal indentée (au sens de l&#39;algorithme)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;signe = &quot;</span><span class="p">,</span> <span class="n">signe</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">le</span> <span class="n">nombre</span> <span class="n">est</span> <span class="n">positif</span>
    <span class="n">le</span> <span class="n">nombre</span> <span class="n">est</span> <span class="n">négatif</span>
    <span class="n">signe</span> <span class="o">=</span>  <span class="mi">1</span>
</pre></div>
</div>
<p>Une ligne est mal indentée : <code class="docutils literal notranslate"><span class="pre">print(&quot;le</span> <span class="pre">nombre</span> <span class="pre">est</span> <span class="pre">négatif&quot;)</span></code>.
Elle ne devrait être exécutée que si la condition <code class="docutils literal notranslate"><span class="pre">x&gt;0</span></code> n’est pas vérifiée.
Le fait qu’elle soit alignée avec les premières instructions du programme fait que son
exécution n’a plus rien à voir avec cette condition. La programme répond de manière erronée.</p>
<p>Dans certains cas, l’interpréteur <em>python</em> ne sait pas à quel bloc attacher une instruction,
c’est le cas de l’exemple suivant, la même ligne a été décalée de deux espaces,
ce qui est différent de la ligne qui précède et de la ligne qui suit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;le nombre est positif&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;le nombre est négatif&quot;</span><span class="p">)</span>     <span class="c1"># ligne mal indentée (au sens de la grammaire)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;signe = &quot;</span><span class="p">,</span> <span class="n">signe</span><span class="p">)</span>
</pre></div>
</div>
<p id="l-indentation-error">L’interpréteur retourne l’erreur suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;test.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">7</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;le nombre est négatif&quot;</span><span class="p">)</span>
                                  <span class="o">^</span>
<span class="ne">IndentationError</span><span class="p">:</span> <span class="n">unindent</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">match</span> <span class="nb">any</span> <span class="n">outer</span> <span class="n">indentation</span> <span class="n">level</span>
</pre></div>
</div>
</section>
<section id="comparaisons-possibles">
<span id="par-comparaison"></span><h3>Comparaisons possibles<a class="headerlink" href="#comparaisons-possibles" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Les comparaisons possibles entre deux entités sont avant tout numériques mais ces opérateurs
peuvent être définis pour tout type (voir <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>),
notamment sur les chaînes de caractères pour lesquelles les opérateurs de comparaison
transcrivent l’ordre alphabétique.</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>inférieur, supérieur</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>inférieur ou égal, supérieur ou égal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code></p></td>
<td><p>égal, différent</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">is</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> vérifie que <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">y</span></code>
sont égaux, <code class="docutils literal notranslate"><span class="pre">not</span>&#160; <span class="pre">is</span></code>, différents,
l’opérateur <code class="docutils literal notranslate"><span class="pre">is</span></code> est différent de l’opérateur <code class="docutils literal notranslate"><span class="pre">==</span></code>,
il est expliqué au paragraphe <a class="reference internal" href="types.html#par-liste-copie"><span class="std std-ref">Copie</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code></p></td>
<td><p>appartient, n’appartient pas</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="operateurs-logiques">
<span id="par-operateur-logique"></span><h3>Opérateurs logiques<a class="headerlink" href="#operateurs-logiques" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Il existe trois opérateurs logiques qui combinent entre eux les conditions.</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">not</span></code></p></td>
<td><p>négation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">and</span></code></p></td>
<td><p>et logique</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">or</span></code></p></td>
<td><p>ou logique</p></td>
</tr>
</tbody>
</table>
</div>
<p id="index-1">La priorité des opérations numériques est identique à celle rencontrée en mathématiques.
L’opérateur puissance vient en premier, la multiplication/division ensuite puis l’addition/soustraction.
Ces opérations sont prioritaires sur les opérateurs de comparaisons (<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, …)
qui sont eux-mêmes sur les opérateurs logiques <code class="docutils literal notranslate"><span class="pre">not</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>.
Il est tout de même conseillé d’ajouter des parenthèses en cas de doute.
C’est ce qu décrit la page <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#operator-precedence">Operator precedence</a>.</p>
</section>
<section id="ecriture-condensee-test">
<h3>Ecriture condensée (test)<a class="headerlink" href="#ecriture-condensee-test" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Il existe deux écritures condensées de tests.
La première consiste à écrire un test et l’unique instruction qui en dépend sur une seule ligne.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition</span> <span class="p">:</span>
    <span class="n">instruction1</span>
<span class="k">else</span> <span class="p">:</span>
    <span class="n">instruction2</span>
</pre></div>
</div>
<p>Ce code peut tenir en deux lignes :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition</span> <span class="p">:</span> <span class="n">instruction1</span>
<span class="k">else</span> <span class="p">:</span> <span class="n">instruction2</span>
</pre></div>
</div>
<p>Le second cas d’écriture condensée concerne les comparaisons enchaînées.
Le test <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">and</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">5</span> <span class="pre">:</span> <span class="pre">instruction</span></code> peut être condensé par <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">5</span> <span class="pre">:</span> <span class="pre">instruction</span></code>.
Il est ainsi possible de juxtaposer autant de comparaisons que nécessaire :
<code class="docutils literal notranslate"><span class="pre">if</span>&#160; <span class="pre">3</span> <span class="pre">&lt;</span> <span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">&lt;</span> <span class="pre">5</span> <span class="pre">:</span> <span class="pre">instruction</span></code>.</p>
<p>Le mot-clé <code class="docutils literal notranslate"><span class="pre">in</span></code> permet également de condenser certains tests lorsque la
variable à tester est entière. <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">1</span> <span class="pre">or</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">6</span>&#160; <span class="pre">or</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">50</span> <span class="pre">:</span></code>
peut être résumé simplement par <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">(1,6,50)</span> <span class="pre">:</span></code> ou <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">{1,6,50}:</span></code>
pour les grandes listes.</p>
</section>
<section id="exemple-test">
<h3>Exemple (test)<a class="headerlink" href="#exemple-test" title="Lien permanent vers cette rubrique">#</a></h3>
<p>L’exemple suivant associe à la variable <code class="docutils literal notranslate"><span class="pre">signe</span></code> le signe de la variable <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">signe</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Son écriture condensée lorsqu’il n’y a qu’une instruction à exécuter :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">signe</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Le programme suivant saisit une ligne au clavier et dit si c’est « oui » ou « non » qui a été saisi.
La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#input" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code></a> retourne
ce qui vient de l’utilisateur :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="nb">input</span> <span class="p">(</span><span class="s2">&quot;dites oui : &quot;</span><span class="p">)</span>    <span class="c1"># voir remarque suivante</span>
<span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;oui&quot;</span> <span class="ow">or</span> <span class="n">s</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;o&quot;</span> <span class="ow">or</span> <span class="n">s</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;O&quot;</span> <span class="ow">or</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;oui&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;non&quot;</span>
</pre></div>
</div>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#input" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code></a>
invite l’utilisateur d’un programme à saisir une réponse lors de l’exécution du programme.
Tant que la touche entrée n’a pas été pressée, l’exécution du programme ne peut continuer.
Cette fonction est en réalité peu utilisée. Les interfaces graphiques sont
faciles d’accès en <em>python</em>, on préfère donc saisir une réponse via une fenêtre plutôt
qu’en ligne de commande. L’exemple suivant montre comment remplacer cette fonction à l’aide d’une fenêtre graphique.</p>
<div class="highlight-default notranslate" id="rawinput-programme-label"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="k">def</span> <span class="nf">question</span><span class="p">(</span><span class="n">legende</span><span class="p">):</span>
    <span class="n">reponse</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span> <span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;pseudo input&quot;</span><span class="p">)</span>
    <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">legende</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;def&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">rget</span><span class="p">():</span>
        <span class="n">reponse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span> <span class="p">()</span>
        <span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
    <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;ok&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">rget</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
    <span class="k">return</span><span class="p">(</span><span class="n">reponse</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;réponse &quot;</span><span class="p">,</span> <span class="n">question</span><span class="p">(</span><span class="s2">&quot;texte de la question&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>On peut améliorer la fonction <code class="docutils literal notranslate"><span class="pre">question</span></code>
en précisant une valeur par défaut par exemple (voir <a class="reference internal" href="../c_gui/tkinter.html#chap-interface"><span class="std std-ref">tkinter</span></a> à ce sujet).
Le programme affiche la fenêtre suivante :</p>
<img alt="../../_images/rawinput.png" src="../../_images/rawinput.png" />
</section>
<section id="none-true-et-1">
<h3>None, True et 1<a class="headerlink" href="#none-true-et-1" title="Lien permanent vers cette rubrique">#</a></h3>
<p>L’écriture de certains tests peut encore être réduite lorsqu’on
cherche à comparer une variable entière, booléenne ou <code class="docutils literal notranslate"><span class="pre">None</span></code> comme le précise
la table suivant :</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>type</p></th>
<th class="head"><p>test</p></th>
<th class="head"><p>test équivalent</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">==</span> <span class="pre">True</span> <span class="pre">:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">==</span> <span class="pre">False</span> <span class="pre">:</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">!=</span> <span class="pre">0:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">v</span> <span class="pre">:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">==</span> <span class="pre">0</span> <span class="pre">:</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">!=</span> <span class="pre">0.0</span> <span class="pre">:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">v</span> <span class="pre">:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">==</span> <span class="pre">0.0</span> <span class="pre">:</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">None</span> <span class="pre">and</span> <span class="pre">len(v)</span> <span class="pre">&gt;</span> <span class="pre">0:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">is</span> <span class="pre">None</span> <span class="pre">or</span> <span class="pre">len(v)</span> <span class="pre">==</span> <span class="pre">0:</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">None:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">v:</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">v</span> <span class="pre">is</span> <span class="pre">None</span> <span class="pre">:</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="passer-instruction-pass">
<h3>Passer, instruction <code class="docutils literal notranslate"><span class="pre">pass</span></code><a class="headerlink" href="#passer-instruction-pass" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-2">Dans certains cas, aucune instruction ne doit être exécutée même si un
test est validé. En <em>python</em>, le corps d’un test ne peut être vide,
il faut utiliser l’instruction <code class="docutils literal notranslate"><span class="pre">pass</span></code>. Lorsque celle-ci est manquante,
<em>python</em> affiche un message d’erreur.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe1">
<p class="admonition-title">Syntaxe S2 : Instruction pass</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">signe</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="n">signe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
   <span class="k">pass</span>          <span class="c1"># signe est déjà égal à 0</span>
<span class="k">else</span> <span class="p">:</span>
    <span class="n">signe</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Dans ce cas précis, si l’instruction <code class="docutils literal notranslate"><span class="pre">pass</span></code> est oubliée,
l’interpréteur <em>python</em> génère l’erreur suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;nopass.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span>
    <span class="k">else</span> <span class="p">:</span>
    <span class="o">^</span>
<span class="ne">IndentationError</span><span class="p">:</span> <span class="n">expected</span> <span class="n">an</span> <span class="n">indented</span> <span class="n">block</span>
</pre></div>
</div>
</section>
</section>
<section id="boucles">
<h2>Boucles<a class="headerlink" href="#boucles" title="Lien permanent vers cette rubrique">#</a></h2>
<span class="target" id="index-3"></span><div class="admonition-mathdef admonition" id="indexmathe-Boucle0">
<div class="docutils container">
</div>
<p class="admonition-title" id="id-boucle-def">Boucle B1 : test</p>
<p>Les boucles permettent de répéter une séquence d’instructions tant qu’une certaine condition
est vérifiée.</p>
</div>
<p>Le langage <em>python</em> propose deux types de boucles.
La boucle <code class="docutils literal notranslate"><span class="pre">while</span></code> suit scrupuleusement la définition précédent.
La boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> est une boucle <code class="docutils literal notranslate"><span class="pre">while</span></code> déguisée (voir <a class="reference internal" href="#boucle-for"><span class="std std-ref">Boucle for</span></a>),
elle propose une écriture simplifiée pour répéter la même séquence
d’instructions pour tous les éléments d’un ensemble.</p>
<section id="boucle-while">
<h3>Boucle while<a class="headerlink" href="#boucle-while" title="Lien permanent vers cette rubrique">#</a></h3>
<p>L’implémentation d’une boucle de type <code class="docutils literal notranslate"><span class="pre">while</span></code> suit le schéma d’écriture suivant :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe2">
<p class="admonition-title">Syntaxe S3 : Boucle while</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">cond</span> <span class="p">:</span>
    <span class="n">instruction</span> <span class="mi">1</span>
    <span class="o">...</span>
    <span class="n">instruction</span> <span class="n">n</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">cond</span></code> est une condition qui détermine la poursuite de la répétition
des instructions incluses dans la boucle. Tant que celle-ci est vraie,
les instructions 1 à <em>n</em> sont exécutées.</p>
<p>Tout comme les tests, l’indentation joue un rôle important.
Le décalage des lignes d’un cran vers la droite par rapport à l’instruction <code class="docutils literal notranslate"><span class="pre">while</span></code>
permet de les inclure dans la boucle comme le montre l’exemple suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;à l&#39;intérieur &quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;à l&#39;extérieur &quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">à</span> <span class="n">l</span><span class="s1">&#39;intérieur  0</span>
    <span class="n">à</span> <span class="n">l</span><span class="s1">&#39;intérieur  1</span>
    <span class="n">à</span> <span class="n">l</span><span class="s1">&#39;intérieur  2</span>
    <span class="n">à</span> <span class="n">l</span><span class="s1">&#39;extérieur  3</span>
</pre></div>
</div>
<p id="index-4">Les conditions suivent la même syntaxe que celles définies lors des
tests (voir <a class="reference internal" href="#par-comparaison"><span class="std std-ref">Comparaisons possibles</span></a>). A moins d’inclure l’instruction <a class="reference internal" href="#bbrak-instruction-par"><span class="std std-ref">break</span></a>
qui permet de sortir prématurément d’une boucle, la condition qui régit cette boucle
doit nécessairement être modifiée à
l’intérieur de celle-ci. Dans le cas contraire, on appelle une telle boucle une
<a class="reference external" href="https://fr.wikipedia.org/wiki/Boucle_infinie">boucle infinie</a>
puisqu’il est impossible d’en sortir.</p>
<p>L’exemple suivant contient une boucle infinie car le symbole <code class="docutils literal notranslate"><span class="pre">=</span></code> est manquant dans
la dernière instruction. La variable <code class="docutils literal notranslate"><span class="pre">n</span></code> n’est jamais modifiée et
la condition <code class="docutils literal notranslate"><span class="pre">n&lt;3</span></code> toujours vraie.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
   <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>        <span class="c1"># n n&#39;est jamais modifié, l&#39;instruction correcte serait n += 1</span>
</pre></div>
</div>
</section>
<section id="boucle-for">
<span id="id1"></span><h3>Boucle for<a class="headerlink" href="#boucle-for" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-5">L’implémentation d’une boucle de type <code class="docutils literal notranslate"><span class="pre">for</span></code> suit le schéma d’écriture suivant :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe3">
<p class="admonition-title">Syntaxe S4 : Boucle for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ensemble</span><span class="p">:</span>
    <span class="n">instruction</span> <span class="mi">1</span>
    <span class="o">...</span>
    <span class="n">instruction</span> <span class="n">n</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">x</span></code> est un élément de l’ensemble <code class="docutils literal notranslate"><span class="pre">ensemble</span></code>. Les instructions 1 à <em>n</em> sont exécutées pour
chaque élément <code class="docutils literal notranslate"><span class="pre">x</span></code> de l’ensemble <code class="docutils literal notranslate"><span class="pre">ensemble</span></code>. Cet ensemble peut être une chaîne de caractères,
un tuple, une liste, un dictionnaire, un set ou tout autre type incluant des itérateurs
qui sont présentés au chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>.</p>
<p>Tout comme les tests, l’indentation est importante.
L’exemple suivant affiche tous les éléments d’un tuple à l’aide d’une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>  <span class="c1"># affiche les nombres 1,2,3,4</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># chacun sur une ligne différente</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
</pre></div>
</div>
<p>Lors de l’affichage d’un dictionnaire, les éléments n’apparaissent
pas triés ni dans l’ordre dans lequel ils y ont été insérés. L’exemple
suivant montre comment afficher les clés et valeurs d’un dictionnaire
dans l’ordre croissant des clés.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># affiche le dictionnaire {8: -2, 1: 2, 3: 4, 5: 6, 7: -1}</span>
<span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>  <span class="c1"># affiche les clés [8, 1, 3, 5, 7]</span>
<span class="n">k</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>  <span class="c1"># affiche les clés triées [1, 3, 5, 7, 8]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">k</span><span class="p">:</span>  <span class="c1"># affiche les éléments du dictionnaire</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>  <span class="c1"># triés par clés croissantes</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">}</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
    <span class="mi">1</span> <span class="p">:</span> <span class="mi">2</span>
    <span class="mi">3</span> <span class="p">:</span> <span class="mi">4</span>
    <span class="mi">5</span> <span class="p">:</span> <span class="mi">6</span>
    <span class="mi">7</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
    <span class="mi">8</span> <span class="p">:</span> <span class="o">-</span><span class="mi">2</span>
</pre></div>
</div>
<p>Le langage <em>python</em> propose néanmoins la fonction <code class="docutils literal notranslate"><span class="pre">sorted</span></code>
qui réduit l’exemple suivant en trois lignes:</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">}</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>  <span class="c1"># pour les clés dans l&#39;ordre croissant</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span> <span class="p">:</span> <span class="mi">2</span>
    <span class="mi">3</span> <span class="p">:</span> <span class="mi">4</span>
    <span class="mi">5</span> <span class="p">:</span> <span class="mi">6</span>
    <span class="mi">7</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
    <span class="mi">8</span> <span class="p">:</span> <span class="o">-</span><span class="mi">2</span>
</pre></div>
</div>
<p>La boucle la plus répandue est celle qui parcourt des indices entiers
compris entre <em>0</em> et <em>n-1</em>. On utilise pour cela la boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> et la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#func-range">range</a> comme dans l’exemple qui suit.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>  <span class="c1"># va de 0 à N exclu</span>
    <span class="nb">sum</span> <span class="o">+=</span> <span class="n">n</span>  <span class="c1"># additionne tous les entiers compris entre 0 et N-1</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
</pre></div>
</div>
<p>Ou encore pour une liste quelconque :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>  <span class="c1"># va de 0 à len(li) exclu</span>
    <span class="nb">sum</span> <span class="o">+=</span> <span class="n">li</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>  <span class="c1"># additionne tous les éléments de li</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
</pre></div>
</div>
</section>
<section id="listes-boucle-for-liste-en-extension">
<span id="liste-for-raccourci2"></span><h3>Listes, boucle for, liste en extension<a class="headerlink" href="#listes-boucle-for-liste-en-extension" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Le paragraphe <a class="reference internal" href="types.html#liste-for-raccourci"><span class="std std-ref">Boucles et listes</span></a> a montré comment le mot-clé <code class="docutils literal notranslate"><span class="pre">for</span></code>
peut être utilisé pour simplifier la création d’une liste à partir d’une autre.
La syntaxe d’une <a class="reference external" href="http://sametmax.com/python-love-les-listes-en-intention-partie/">liste en extension</a>
suit le schéma suivant :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe4">
<p class="admonition-title">Syntaxe S5 : Liste en extension</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">expression</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ensemble</span> <span class="p">]</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">expression</span></code> est une expression numérique incluant ou non <code class="docutils literal notranslate"><span class="pre">x</span></code>,
la variable de la boucle, <code class="docutils literal notranslate"><span class="pre">ensemble</span></code> est un ensemble d’éléments, tuple, liste, dictionnaire, set
ou tout autre chose qui peut être parcouru.
Cette syntaxe permet de résumer en une ligne la création de la séquence
<code class="docutils literal notranslate"><span class="pre">y</span></code> du programme suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># affiche [1,2,3,4,5]</span>

<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>  <span class="c1"># résume trois lignes du programme précédent</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># affiche [1,2,3,4,5]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Un autre exemple de cette syntaxe réduite a été présenté au paragraphe <a class="reference internal" href="types.html#liste-for-raccourci"><span class="std std-ref">Boucles et listes</span></a>.
Cette écriture condensée est bien souvent plus lisible même si
tout dépend des préférences de celui qui programme. Elle peut être étendue au dictionnaire.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="iterateurs">
<span id="paragraphe-tterafsd-syntaxe"></span><h3>Itérateurs<a class="headerlink" href="#iterateurs" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-6">Toute boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> peut s’appliquer sur un objet muni d’un itérateur
tels que les chaînes de caractères, tuples, les listes, les dictionnaires, les ensembles.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affichage de tous les éléments de d</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">un</span>
    <span class="n">deux</span>
    <span class="n">trois</span>
</pre></div>
</div>
<p>Cette syntaxe réduite a déjà été introduite pour les listes et les dictionnaires
au chapitre précédent. Il existe une version équivalente avec la boucle
<code class="docutils literal notranslate"><span class="pre">while</span></code> utilisant de façon explicite les itérateurs. Il peut être utile de lire
le chapitre suivant sur les classes et le chapitre <a class="reference internal" href="../c_exception/exception.html#chap-exception"><span class="std std-ref">Exceptions</span></a> sur les exceptions
avant de revenir sur la suite de cette section qui n’est de toutes façons pas essentielle.</p>
<p>L’exemple précédent est convertible en une boucle <code class="docutils literal notranslate"><span class="pre">while</span></code> en faisant apparaître
explicitement les itérateurs (voir <a class="reference internal" href="../c_classes/classes.html#chap-iterateur"><span class="std std-ref">Itérateurs</span></a>).
Un itérateur est un objet qui permet de parcourir aisément un ensemble.
La fonction <code class="docutils literal notranslate"><span class="pre">it</span> <span class="pre">=</span> <span class="pre">iter(e)</span></code> permet d’obtenir un itérateur <code class="docutils literal notranslate"><span class="pre">it</span></code> sur l’ensemble <code class="docutils literal notranslate"><span class="pre">e</span></code>.
L’appel à l’instruction <code class="docutils literal notranslate"><span class="pre">it.next()</span></code> parcourt du premier élément jusqu’au
dernier en retournant la valeur de chacun d’entre eux. Lorsqu’il
n’existe plus d’élément, l’exception <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> est déclenchée
(voir <a class="reference internal" href="../c_exception/exception.html#chap-exception"><span class="std std-ref">Exceptions</span></a>). Il suffit de l’intercepter pour
mettre fin au parcours.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># obtient un itérateur sur d</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>  <span class="c1"># obtient l&#39;élément suivant, s&#39;il n&#39;existe pas</span>
    <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># déclenche une exception</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># affichage de tous les éléments de d</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">un</span>
    <span class="n">deux</span>
    <span class="n">trois</span>
</pre></div>
</div>
</section>
<section id="plusieurs-variables-de-boucles">
<h3>Plusieurs variables de boucles<a class="headerlink" href="#plusieurs-variables-de-boucles" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-7">Jusqu’à présent, la boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> n’a été utilisée qu’avec une seule variable de boucle,
comme dans l’exemple suivant où on parcourt une liste de tuple pour les afficher.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Lorsque les éléments d’un ensemble sont des tuples, des listes, des dictionnaires
ou des ensembles composés de taille fixe, il est possible d’utiliser une notation
qui rappelle les affectations multiples (voir <a class="reference internal" href="types.html#affectation-multiple"><span class="std std-ref">Affectations multiples</span></a>).
L’exemple précédent devient dans ce cas :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
    <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>
    <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Cette écriture n’est valable que parce que chaque élément de la liste <code class="docutils literal notranslate"><span class="pre">d</span></code>
est un tuple composé de trois nombres. Lorsqu’un des éléments est de taille
différente à celle des autres, comme dans l’exemple suivant, une erreur survient.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>  <span class="c1"># un élément de taille quatre</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">4</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730207266432</span>
    <span class="ne">ValueError</span><span class="p">:</span> <span class="n">too</span> <span class="n">many</span> <span class="n">values</span> <span class="n">to</span> <span class="n">unpack</span> <span class="p">(</span><span class="n">expected</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Cette syntaxe est très pratique associée à la fonction <code class="docutils literal notranslate"><span class="pre">zip</span></code> (voir <a class="reference internal" href="types.html#fonction-zip"><span class="std std-ref">Collage de séquences, fonction zip</span></a>).
Il est alors possible de parcourir plusieurs séquences
(tuple, liste, dictionnaire, ensemble) simultanément.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="s2">&quot; est le carré de &quot;</span><span class="p">,</span> <span class="n">x</span>
    <span class="c1"># affichage à droite</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">0</span>
    <span class="mi">1</span>
    <span class="mi">4</span>
    <span class="mi">9</span>
    <span class="mi">16</span>
</pre></div>
</div>
</section>
<section id="ecriture-condensee-for">
<h3>Ecriture condensée (for)<a class="headerlink" href="#ecriture-condensee-for" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Comme pour les tests, lorsque les boucles ne contiennent
qu’une seule instruction, il est possible de l’écrire sur
la même ligne que celle de la déclaration de la boucle
<code class="docutils literal notranslate"><span class="pre">for</span></code> ou <code class="docutils literal notranslate"><span class="pre">while</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># une seule instruction</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">un</span>
    <span class="n">deux</span>
    <span class="n">trois</span>
</pre></div>
</div>
<p>Il existe peu de cas où la boucle <code class="docutils literal notranslate"><span class="pre">while</span></code> s’écrit sur une ligne
car elle inclut nécessairement une instruction permettant de
modifier la condition d’arrêt.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;un&quot;</span><span class="p">,</span> <span class="s2">&quot;deux&quot;</span><span class="p">,</span> <span class="s2">&quot;trois&quot;</span><span class="p">]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;trois&quot;</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;trois a pour position &quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">trois</span> <span class="n">a</span> <span class="n">pour</span> <span class="n">position</span>  <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="pilotage-d-une-boucle-continue">
<h3>Pilotage d’une boucle : continue<a class="headerlink" href="#pilotage-d-une-boucle-continue" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-8">Pour certains éléments d’une boucle, lorsqu’il n’est pas nécessaire
d’exécuter toutes les instructions, il est possible de passer
directement à l’élément suivant ou l’itération suivante.
Le programme suivant utilise le
<a class="reference external" href="https://fr.wikipedia.org/wiki/Crible_d'%C3%89ratosth%C3%A8ne">crible d’Eratosthène</a>
pour dénicher tous les nombres premiers compris entre 1 et 99.</p>
<p><em>Aparté sur le crible d’Eratosthène</em></p>
<p>Le crible d’Eratosthène est un algorithme permettant de
déterminer les nombres premiers. Pour un nombre premier <em>p</em>,
il paraît plus simple de considérer tous les entiers de <img class="math" src="../../_images/math/ccd9152530667879f94738464c4701a4cc915086.svg" alt="p-1"/> à <em>1</em>
pour savoir si l’un d’eux divise <em>p</em>. C’est ce qu’on fait lorsqu’on doit
vérifier le caractère premier d’un seul nombre. Pour plusieurs nombres à la fois,
le crible d’Eratosthène est plus efficace : au lieu de s’intéresser
aux diviseurs, on s’intéresse aux multiples d’un nombre.
Pour un nombre <em>i</em>, on sait que <img class="math" src="../../_images/math/aaf3842284620528eac91629ed0d93e400f835b9.svg" alt="2i"/>, <img class="math" src="../../_images/math/04d6318956fdff65f425049ab097fbb0474bfd4e.svg" alt="3i"/>, … ne sont pas premiers.
On les raye de la liste. On continue avec <img class="math" src="../../_images/math/9f15c1a06b2054c3a3fc391db082179602d27c72.svg" alt="i+1"/>, <img class="math" src="../../_images/math/f89cc43cbe0b797982606e403cfdf4fe20ab725b.svg" alt="2(i+1)"/>,
<img class="math" src="../../_images/math/10b5e0d114607688570f2e47ee2aff08037e99cf.svg" alt="3(i+1)"/>…</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>  <span class="c1"># d [i] est vrai si i est un nombre premier</span>
    <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># au début, comme on ne sait pas, on suppose</span>
    <span class="c1"># que tous les nombres sont premiers</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
    <span class="c1"># si d [i] est faux,</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">continue</span>  <span class="c1"># les multiples de i ont déjà été cochés</span>
        <span class="c1"># et peut passer à l&#39;entier suivant</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># d [i*j] est faux pour tous les multiples de i</span>
            <span class="c1"># inférieurs à 100</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;liste des nombres premiers&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">liste</span> <span class="n">des</span> <span class="n">nombres</span> <span class="n">premiers</span>
    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">5</span>
    <span class="mi">7</span>
    <span class="mi">11</span>
    <span class="mi">13</span>
    <span class="mi">17</span>
    <span class="mi">19</span>
    <span class="mi">23</span>
    <span class="mi">29</span>
    <span class="mi">31</span>
    <span class="mi">37</span>
    <span class="mi">41</span>
    <span class="mi">43</span>
    <span class="mi">47</span>
    <span class="mi">53</span>
    <span class="mi">59</span>
    <span class="mi">61</span>
    <span class="mi">67</span>
    <span class="mi">71</span>
    <span class="mi">73</span>
    <span class="mi">79</span>
    <span class="mi">83</span>
    <span class="mi">89</span>
    <span class="mi">97</span>
</pre></div>
</div>
<p>Ce programme est équivalent au suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
    <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">*</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
                <span class="n">d</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;liste des nombres premiers&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">liste</span> <span class="n">des</span> <span class="n">nombres</span> <span class="n">premiers</span>
    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">5</span>
    <span class="mi">7</span>
    <span class="mi">11</span>
    <span class="mi">13</span>
    <span class="mi">17</span>
    <span class="mi">19</span>
    <span class="mi">23</span>
    <span class="mi">29</span>
    <span class="mi">31</span>
    <span class="mi">37</span>
    <span class="mi">41</span>
    <span class="mi">43</span>
    <span class="mi">47</span>
    <span class="mi">53</span>
    <span class="mi">59</span>
    <span class="mi">61</span>
    <span class="mi">67</span>
    <span class="mi">71</span>
    <span class="mi">73</span>
    <span class="mi">79</span>
    <span class="mi">83</span>
    <span class="mi">89</span>
    <span class="mi">97</span>
</pre></div>
</div>
<p>Le mot-clé <code class="docutils literal notranslate"><span class="pre">continue</span></code> évite de trop nombreuses indentations et
rend les programmes plus lisibles.</p>
</section>
<section id="pilotage-d-une-boucle-break">
<span id="bbrak-instruction-par"></span><h3>Pilotage d’une boucle : break<a class="headerlink" href="#pilotage-d-une-boucle-break" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-9">Lors de l’écriture d’une boucle <code class="docutils literal notranslate"><span class="pre">while</span></code>, il n’est pas toujours
adéquat de résumer en une seule condition toutes les raisons pour
lesquelles il est nécessaire d’arrêter l’exécution de cette boucle.
De même, pour une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code>, il n’est pas toujours utile de
visiter tous les éléments de l’ensemble à parcourir. C’est le cas
par exemple lorsqu’on recherche un élément, une fois qu’il a été
trouvé, il n’est pas nécessaire d’aller plus loin.
L’instruction <code class="docutils literal notranslate"><span class="pre">break</span></code> permet de quitter l’exécution d’une boucle.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">c</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># l&#39;élément a été trouvé, on sort de la boucle</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># si l&#39;élément a été trouvé, cette instruction</span>
    <span class="c1"># n&#39;est pas exécutée</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;l&#39;élément &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="s2">&quot;est en position &quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">l</span><span class="s1">&#39;élément  5 est en position  2</span>
</pre></div>
</div>
<p>Si deux boucles sont imbriquées, l’instruction <code class="docutils literal notranslate"><span class="pre">break</span></code> ne sort que
de la boucle dans laquelle elle est insérée. L’exemple suivant
vérifie si un entier est la somme des carrés de deux entiers
compris entre 1 et 20.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ens</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">53</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ens</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ens</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># cette seconde instruction break est nécessaire</span>
        <span class="c1"># pour sortir de la seconde boucle</span>
        <span class="c1"># lorsque la solution a été trouvée</span>
<span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
    <span class="c1"># le symbole \ permet de passer à la ligne sans changer d&#39;instruction</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="s2">&quot; est la somme des carrés de deux entiers :&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="p">,</span>
        <span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="p">,</span>
        <span class="s2">&quot;+&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="p">,</span>
        <span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="p">,</span>
        <span class="s2">&quot;=&quot;</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot; n&#39;est pas la somme des carrés de deux entiers&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">53</span>  <span class="n">est</span> <span class="n">la</span> <span class="n">somme</span> <span class="n">des</span> <span class="n">carrés</span> <span class="n">de</span> <span class="n">deux</span> <span class="n">entiers</span> <span class="p">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">=</span> <span class="mi">53</span>
</pre></div>
</div>
</section>
<section id="fin-normale-d-une-boucle-else">
<h3>Fin normale d’une boucle : else<a class="headerlink" href="#fin-normale-d-une-boucle-else" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Le mot-clé <code class="docutils literal notranslate"><span class="pre">else</span></code> existe aussi pour les boucles et
s’utilise en association avec le mot-clé <code class="docutils literal notranslate"><span class="pre">break</span></code>.
L’instruction <code class="docutils literal notranslate"><span class="pre">else</span></code> est placée à la fin d’une boucle,
indentée au même niveau que <code class="docutils literal notranslate"><span class="pre">for</span></code> ou <code class="docutils literal notranslate"><span class="pre">while</span></code>. Les lignes
qui suivent le mot-clé <code class="docutils literal notranslate"><span class="pre">else</span></code> ne sont exécutées que si
aucune instruction <code class="docutils literal notranslate"><span class="pre">break</span></code> n’a été rencontrée dans le
corps de la boucle. On reprend l’exemple du paragraphe précédent.
On recherche cette fois-ci la valeur 1 qui ne se trouve pas dans
la liste <code class="docutils literal notranslate"><span class="pre">L</span></code>. Les lignes suivant le test <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">c</span></code>
ne seront jamais exécutées au contraire de la dernière.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">c</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;l&#39;élément &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="s2">&quot; est en position &quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;aucun élément &quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="s2">&quot; trouvé&quot;</span><span class="p">)</span>  <span class="c1"># affiche aucun élément  1  trouvé</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">aucun</span> <span class="n">élément</span>  <span class="mi">1</span>  <span class="n">trouvé</span>
</pre></div>
</div>
<p>Les lignes dépendant de la clause <code class="docutils literal notranslate"><span class="pre">else</span></code> seront exécutées dans tous les
cas où l’exécution de la boucle n’est pas interrompue par une
instruction <code class="docutils literal notranslate"><span class="pre">break</span></code> ou une instruction <code class="docutils literal notranslate"><span class="pre">return</span></code>.</p>
</section>
<section id="suppression-ou-ajout-d-elements-lors-d-une-boucle">
<h3>Suppression ou ajout d’éléments lors d’une boucle<a class="headerlink" href="#suppression-ou-ajout-d-elements-lors-d-une-boucle" title="Lien permanent vers cette rubrique">#</a></h3>
<p>En parcourant la liste en se servant des indices, il est possible de
supprimer une partie de cette liste. Il faut néanmoins faire
attention à ce que le code ne produise pas d’erreur comme
c’est le cas pour le suivant. La boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> parcourt
la liste <code class="docutils literal notranslate"><span class="pre">list(range(0,</span> <span class="pre">len(li)))</span></code> qui n’est pas modifiée en
même temps que l’instruction <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">li[i:i+2]</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">li</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1"># affiche successivement 0, 1, 2, 3, 4, 7, 8, 9 et</span>
    <span class="c1"># produit une erreur</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
    <span class="mi">0</span>
    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
    <span class="mi">7</span>
    <span class="mi">8</span>
    <span class="mi">9</span>
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">8</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730207098688</span>
    <span class="ne">IndexError</span><span class="p">:</span> <span class="nb">list</span> <span class="n">index</span> <span class="n">out</span> <span class="n">of</span> <span class="nb">range</span>
</pre></div>
</div>
<p>Le programme suivant marche parfaitement puisque cette fois-ci la
boucle parcourt la liste <code class="docutils literal notranslate"><span class="pre">li</span></code>. En revanche, pour la suppression
d’une partie de celle-ci, il est nécessaire de conserver en
mémoire l’indice de l’élément visité. C’est le rôle de la variable <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">li</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>  <span class="c1"># affiche successivement 0, 1, 2, 3, 4, 5, 8, 9</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3, 4, 7, 8, 9]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
    <span class="mi">0</span>
    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
    <span class="mi">5</span>
    <span class="mi">8</span>
    <span class="mi">9</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>Le langage <em>python</em> offre la possibilité de supprimer des éléments
d’une liste alors même qu’on est en train de la parcourir.
Le programme qui suit ne marche pas puisque l’instruction
<code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">i</span></code> ne supprime pas un élément de la liste mais l’identificateur
<code class="docutils literal notranslate"><span class="pre">i</span></code> qui prendra une nouvelle valeur lors du
passage suivant dans la boucle.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">i</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># affiche [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>On pourrait construire des exemples similaires dans le cadre de l’ajout
d’un élément à la liste. Il est en règle générale déconseillé de modifier
une liste, un dictionnaire pendant qu’on le parcourt. Malgré tout,
si cela s’avérait indispensable, il convient de faire plus attention
dans ce genre de situations.</p>
</section>
</section>
<section id="fonctions">
<span id="chap-fonction"></span><span id="par-fonction"></span><h2>Fonctions<a class="headerlink" href="#fonctions" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Les fonctions sont des petits programmes qui effectuent des
tâches plus précises que le programme entier. On peut effectivement
écrire un programme sans fonction mais ils sont en général
illisibles. Une fonction décrit des traitement à faire
sur les arguments qu’elle reçoit en supposant qu’ils existent.
Utiliser des fonctions implique de découper un
algorithme en tâches élémentaires. Le programme final est ainsi
plus facile à comprendre. Un autre avantage est de pouvoir plus
facilement isoler une erreur s’il s’en produit une : il suffit de
tester une à une les fonctions pour déterminer laquelle retourne
un mauvais résultat. L’avantage le plus important intervient
lorsqu’on doit effectuer la même chose à deux endroits différentes
d’un programme : une seule fonction suffit et elle sera appelée
à ces deux endroitsfootnote{Pour les utilisateurs experts :
en langage <em>python</em>, les fonctions sont également des variables,
elles ont un identificateur et une valeur qui est dans ce cas
un morceau de code. Cette précision explique certaines syntaxes du
chapitre <a class="reference internal" href="../c_gui/tkinter.html#chap-interface"><span class="std std-ref">tkinter</span></a> sur les interfaces graphiques
ou celle introduite en fin de chapitre au
paragraphe <a class="reference internal" href="../../api/classique.html#paragraphe-fonction-variable"><span class="std std-ref">fonction comme paramètre</span></a>.</p>
<section id="definition-syntaxe">
<span id="par-fonction-syntaxe"></span><h3>Définition, syntaxe<a class="headerlink" href="#definition-syntaxe" title="Lien permanent vers cette rubrique">#</a></h3>
<div class="admonition-mathdef admonition" id="indexmathe-Définition1">
<p class="admonition-title">Définition D2 : fonction</p>
<p>Une fonction est une partie d’un programme - ou sous-programme -
qui fonctionne indépendamment du reste
du programme. Elle reçoit une liste de paramètres et retourne
un résultat. Le corps de la fonction
désigne toute instruction du programme qui est exécutée si la
fonction est appelée.</p>
</div>
<p>Lorsqu’on écrit ses premiers programme, on écrit souvent des fonctions
plutôt longues avant de s’apercevoir que certains parties sont identiques
ailleurs. On extrait donc la partie répétée pour en faire une
fonction. Avec l’habitude, on finit par écrire des fonctions plus
petites et réutilisables.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe5">
<p class="admonition-title">Syntaxe S6 : Déclaration d’une fonction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction_nom</span> <span class="p">(</span><span class="n">par_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">par_n</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">instruction_1</span>
    <span class="o">...</span>
    <span class="n">instruction_n</span>
    <span class="k">return</span> <span class="n">res_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">res_n</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">fonction_nom</span></code> est le nom de la fonction, il suit les mêmes règles
que le nom des variables. <code class="docutils literal notranslate"><span class="pre">par_1</span></code> à <code class="docutils literal notranslate"><span class="pre">par_n</span></code> sont les noms des
paramètres et <code class="docutils literal notranslate"><span class="pre">res_1</span></code> à <code class="docutils literal notranslate"><span class="pre">res_n</span></code> sont les résultats retournés par
la fonction. Les instructions associées à une fonction doivent
être indentées par rapport au mot-clé <code class="docutils literal notranslate"><span class="pre">def</span></code>.</p>
<p>S’il n’y a aucun résultat, l’instruction <code class="docutils literal notranslate"><span class="pre">return</span></code> est facultative
ou peut être utilisée seule sans être suivie par une valeur ou une
variable. Cette instruction peut apparaître plusieurs fois dans le
code de la fonction mais une seule d’entre elles sera exécutée.
A partir de ce moment, toute autre instruction de la fonction sera
ignorée. Pour exécuter une fonction ainsi définie, il suffit de
suivre la syntaxe suivante :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe6">
<p class="admonition-title">Syntaxe S7 : Appel d’une fonction</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">x_n</span> <span class="o">=</span> <span class="n">fonction_nom</span> <span class="p">(</span><span class="n">valeur_1</span><span class="p">,</span> <span class="n">valeur_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">valeur_n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">fonction_nom</span></code> est le nom de la fonction,
<code class="docutils literal notranslate"><span class="pre">valeur_1</span></code> à <code class="docutils literal notranslate"><span class="pre">valeur_n</span></code> sont les noms des paramètres,
<code class="docutils literal notranslate"><span class="pre">x_1</span></code> à <code class="docutils literal notranslate"><span class="pre">x_n</span></code> reçoivent les résultats retournés par la
fonction. Cette affectation est facultative. Si on ne souhaite
pas conserver les résultats, on peut donc appeler la fonction comme suit :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fonction_nom</span> <span class="p">(</span><span class="n">valeur_1</span><span class="p">,</span> <span class="n">valeur_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">valeur_n</span><span class="p">)</span>
</pre></div>
</div>
<p>Lorsqu’on commence à programmer, il arrive parfois qu’on confonde
le rôle des mots-clés <code class="docutils literal notranslate"><span class="pre">print</span></code> et <code class="docutils literal notranslate"><span class="pre">return</span></code>. Il faut se souvenir
que l’instruction <code class="docutils literal notranslate"><span class="pre">print</span></code> n’a pas d’impact sur le déroulement
du programme. Elle sert juste à visualiser le contenu d’une variable.
Sans l’instruction <code class="docutils literal notranslate"><span class="pre">return</span></code>, toute fonction retourne <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</section>
<section id="exemple-for">
<span id="para-fonction-exemple"></span><h3>Exemple (for)<a class="headerlink" href="#exemple-for" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Le programme suivant utilise deux fonctions.
La première convertit des coordonnées cartésiennes en
coordonnées polaires. Elle prend deux réels en paramètres
et retourne deux autres réels. La seconde fonction affiche
les résultats de la première pour tout couple de valeurs
<img class="math" src="../../_images/math/53a3bf375aebc4ab1adef90edcb9e0cb765b966c.svg" alt="(x,y)"/>. Elle ne retourne aucun résultat.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">coordonnees_polaires</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">rho</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>  <span class="c1"># calcul la racine carrée de x*x+y*y</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>  <span class="c1"># calcule l&#39;arc tangente de y/x en tenant</span>
    <span class="c1"># compte des signes de x et y</span>
    <span class="k">return</span> <span class="n">rho</span><span class="p">,</span> <span class="n">theta</span>


<span class="k">def</span> <span class="nf">affichage</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">coordonnees_polaires</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cartésien (</span><span class="si">%f</span><span class="s2">,</span><span class="si">%f</span><span class="s2">) --&gt; polaire (</span><span class="si">%f</span><span class="s2">,</span><span class="si">%f</span><span class="s2"> degrés)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">t</span><span class="p">)))</span>


<span class="n">affichage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">affichage</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">affichage</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">affichage</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">affichage</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">cartésien</span> <span class="p">(</span><span class="mf">1.000000</span><span class="p">,</span><span class="mf">1.000000</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">polaire</span> <span class="p">(</span><span class="mf">1.414214</span><span class="p">,</span><span class="mf">45.000000</span> <span class="n">degrés</span><span class="p">)</span>
    <span class="n">cartésien</span> <span class="p">(</span><span class="mf">0.500000</span><span class="p">,</span><span class="mf">1.000000</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">polaire</span> <span class="p">(</span><span class="mf">1.118034</span><span class="p">,</span><span class="mf">63.434949</span> <span class="n">degrés</span><span class="p">)</span>
    <span class="n">cartésien</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.500000</span><span class="p">,</span><span class="mf">1.000000</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">polaire</span> <span class="p">(</span><span class="mf">1.118034</span><span class="p">,</span><span class="mf">116.565051</span> <span class="n">degrés</span><span class="p">)</span>
    <span class="n">cartésien</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.500000</span><span class="p">,</span><span class="o">-</span><span class="mf">1.000000</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">polaire</span> <span class="p">(</span><span class="mf">1.118034</span><span class="p">,</span><span class="o">-</span><span class="mf">116.565051</span> <span class="n">degrés</span><span class="p">)</span>
    <span class="n">cartésien</span> <span class="p">(</span><span class="mf">0.500000</span><span class="p">,</span><span class="o">-</span><span class="mf">1.000000</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">polaire</span> <span class="p">(</span><span class="mf">1.118034</span><span class="p">,</span><span class="o">-</span><span class="mf">63.434949</span> <span class="n">degrés</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parametres-avec-des-valeurs-par-defaut">
<h3>Paramètres avec des valeurs par défaut<a class="headerlink" href="#parametres-avec-des-valeurs-par-defaut" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Lorsqu’une fonction est souvent appelée avec les mêmes
valeurs pour ses paramètres, il est possible de spécifier
pour ceux-ci une valeur par défaut.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe7">
<p class="admonition-title">Syntaxe S8 : Valeurs par défaut</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction_nom</span> <span class="p">(</span><span class="n">param_1</span><span class="p">,</span> <span class="n">param_2</span> <span class="o">=</span> <span class="n">valeur_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">param_n</span> <span class="o">=</span> <span class="n">valeur_n</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">fonction_nom</span></code> est le nom de la fonction.
<code class="docutils literal notranslate"><span class="pre">param_1</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code> sont les noms des paramètres,
<code class="docutils literal notranslate"><span class="pre">valeur_2</span></code> à <code class="docutils literal notranslate"><span class="pre">valeur_n</span></code> sont les valeurs par défaut
des paramètres <code class="docutils literal notranslate"><span class="pre">param_2</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code>. La seule contrainte
lors de cette définition est que si une valeur par défaut
est spécifiée pour un paramètre, alors tous ceux qui
suivent devront eux aussi avoir une valeur par défaut.</p>
<p>Exemple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">commander_carte_orange</span><span class="p">(</span><span class="n">nom</span><span class="p">,</span> <span class="n">prenom</span><span class="p">,</span> <span class="n">paiement</span><span class="o">=</span><span class="s2">&quot;carte&quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zone</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nom : &quot;</span><span class="p">,</span> <span class="n">nom</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prénom : &quot;</span><span class="p">,</span> <span class="n">prenom</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;paiement : &quot;</span><span class="p">,</span> <span class="n">paiement</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nombre : &quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;zone :&quot;</span><span class="p">,</span> <span class="n">zone</span><span class="p">)</span>


<span class="n">commander_carte_orange</span><span class="p">(</span><span class="s2">&quot;Dupré&quot;</span><span class="p">,</span> <span class="s2">&quot;Xavier&quot;</span><span class="p">,</span> <span class="s2">&quot;chèque&quot;</span><span class="p">)</span>
<span class="c1"># les autres paramètres nombre et zone auront pour valeur</span>
<span class="c1"># leurs valeurs par défaut</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">nom</span> <span class="p">:</span>  <span class="n">Dupré</span>
    <span class="n">prénom</span> <span class="p">:</span>  <span class="n">Xavier</span>
    <span class="n">paiement</span> <span class="p">:</span>  <span class="n">chèque</span>
    <span class="n">nombre</span> <span class="p">:</span>  <span class="mi">1</span>
    <span class="n">zone</span> <span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Il est impossible qu’un paramètre sans valeur par défaut
associée se situe après un paramètre dont une valeur par
défaut est précisée. Le programme suivant ne pourra être
exécuté.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">commander_carte_orange</span> <span class="p">(</span><span class="n">nom</span><span class="p">,</span> <span class="n">prenom</span><span class="p">,</span> <span class="n">paiement</span><span class="o">=</span><span class="s2">&quot;carte&quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zone</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nom : &quot;</span><span class="p">,</span> <span class="n">nom</span><span class="p">)</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
<p>Il déclenche l’erreur suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;problem_zone.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="k">def</span> <span class="nf">commander_carte_orange</span> <span class="p">(</span><span class="n">nom</span><span class="p">,</span> <span class="n">prenom</span><span class="p">,</span> <span class="n">paiement</span> <span class="o">=</span> <span class="s2">&quot;carte&quot;</span><span class="p">,</span> <span class="n">nombre</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">zone</span><span class="p">):</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">non</span><span class="o">-</span><span class="n">default</span> <span class="n">argument</span> <span class="n">follows</span> <span class="n">default</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Les valeurs par défaut de type modifiable (liste, dictionnaire, ensemble, classes)
peuvent introduire des erreurs inattendues dans les programmes
comme le montre l’exemple suivant :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]):</span>
    <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">l</span>


<span class="nb">print</span><span class="p">(</span><span class="n">fonction</span><span class="p">())</span>  <span class="c1"># affiche [1,0] : résultat attendu</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fonction</span><span class="p">())</span>  <span class="c1"># affiche [2,0] : résultat surprenant</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fonction</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>  <span class="c1"># affiche [1,0] : résultat attendu</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>L’explication provient du fait que la valeur par défaut est une
liste qui n’est pas recréée à chaque appel : c’est la même
liste à chaque fois que la fonction est appelée sans paramètre.
Pour remédier à cela, il faudrait écrire :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>


<span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]):</span>
    <span class="n">l</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
    <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">l</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
</pre></div>
</div>
<p>L’exercice <a class="reference internal" href="../../auto_examples/plot_hypercube.html#hypercuberst"><span class="std std-ref">Hypercube et autres exercices</span></a> propose un exemple plus complet, voire retors.</p>
</section>
<section id="ordre-des-parametres">
<h3>Ordre des paramètres<a class="headerlink" href="#ordre-des-parametres" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Le paragraphe <a class="reference internal" href="#par-fonction-syntaxe"><span class="std std-ref">Définition, syntaxe</span></a> a présenté la syntaxe
d’appel a une fonction. Lors de l’appel, le nom des paramètres
n’intervient plus, supposant que chaque paramètre reçoit pour
valeur celle qui a la même position que lui lors de l’appel
à la fonction. Il est toutefois possible de changer cet ordre
en précisant quel paramètre doit recevoir quelle valeur.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">x_n</span> <span class="o">=</span> <span class="n">fonction_nom</span> <span class="p">(</span><span class="n">param_1</span> <span class="o">=</span> <span class="n">valeur_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">param_n</span> <span class="o">=</span> <span class="n">valeur_n</span><span class="p">)</span>
</pre></div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">fonction_nom</span></code> est le nom de la fonction,
<code class="docutils literal notranslate"><span class="pre">param_1</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code> sont les noms des paramètres,
<code class="docutils literal notranslate"><span class="pre">valeur_1</span></code> à <code class="docutils literal notranslate"><span class="pre">valeur_n</span></code> sont les valeurs que reçoivent
ces paramètres. Avec cette syntaxe, l’ordre d’écriture
n’importe pas. La valeur <code class="docutils literal notranslate"><span class="pre">valeur_i</span></code> sera toujours attribuée
à <code class="docutils literal notranslate"><span class="pre">param_i</span></code>. Les variables <code class="docutils literal notranslate"><span class="pre">x_1</span></code> à <code class="docutils literal notranslate"><span class="pre">x_n</span></code> reçoivent les
résultats retournés par la fonction. L’ordre des résultats
ne peut pas être changé. S’il y a plusieurs résultats retournés,
il est impossible de choisir lesquels conserver : soit tous, soit aucun.</p>
<p>Exemple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">identite</span><span class="p">(</span><span class="n">nom</span><span class="p">,</span> <span class="n">prenom</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nom : &quot;</span><span class="p">,</span> <span class="n">nom</span><span class="p">,</span> <span class="s2">&quot; prénom : &quot;</span><span class="p">,</span> <span class="n">prenom</span><span class="p">)</span>


<span class="n">identite</span><span class="p">(</span><span class="s2">&quot;Xavier&quot;</span><span class="p">,</span> <span class="s2">&quot;Dupré&quot;</span><span class="p">)</span>  <span class="c1"># nom :  Xavier prénom :  Dupré</span>
<span class="n">identite</span><span class="p">(</span><span class="n">prenom</span><span class="o">=</span><span class="s2">&quot;Xavier&quot;</span><span class="p">,</span> <span class="n">nom</span><span class="o">=</span><span class="s2">&quot;Dupré&quot;</span><span class="p">)</span>  <span class="c1"># nom :  Dupré  prénom :  Xavier</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">nom</span> <span class="p">:</span>  <span class="n">Xavier</span>  <span class="n">prénom</span> <span class="p">:</span>  <span class="n">Dupré</span>
    <span class="n">nom</span> <span class="p">:</span>  <span class="n">Dupré</span>  <span class="n">prénom</span> <span class="p">:</span>  <span class="n">Xavier</span>
</pre></div>
</div>
<p>Cette possibilité est intéressante surtout lorsqu’il y a
de nombreux paramètres par défaut et que seule la valeur
d’un des derniers paramètres doit être changée.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">commander_carte_orange</span><span class="p">(</span><span class="n">paiement</span><span class="o">=</span><span class="s2">&quot;carte&quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zone</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;paiement : &quot;</span><span class="p">,</span> <span class="n">paiement</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;nombre : &quot;</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;zone :&quot;</span><span class="p">,</span> <span class="n">zone</span><span class="p">)</span>


<span class="n">commander_carte_orange</span><span class="p">(</span><span class="n">zone</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># seule la valeur par défaut</span>
<span class="c1"># du paramètre zone sera changée</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">paiement</span> <span class="p">:</span>  <span class="n">carte</span>
    <span class="n">nombre</span> <span class="p">:</span>  <span class="mi">1</span>
    <span class="n">zone</span> <span class="p">:</span> <span class="mi">5</span>
</pre></div>
</div>
</section>
<section id="surcharge-de-fonction">
<h3>Surcharge de fonction<a class="headerlink" href="#surcharge-de-fonction" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Contrairement à d’autres langages, <em>python</em> n’autorise pas
la surcharge de fonction. Autrement dit, il n’est pas
possible que plusieurs fonctions portent le même nom même
si chacune d’entre elles a un nombre différent de paramètres.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>


<span class="nb">print</span><span class="p">(</span><span class="n">fonction</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fonction</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730308221056</span>
    <span class="ne">TypeError</span><span class="p">:</span> <span class="n">run_python_script_139730308221056</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">fonction</span><span class="p">()</span> <span class="n">missing</span> <span class="mi">1</span> <span class="n">required</span> <span class="n">positional</span> <span class="n">argument</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span>
</pre></div>
</div>
<p>Le petit programme précédent est syntaxiquement correct mais
son exécution génère une erreur parce que la seconde définition
de la fonction <code class="docutils literal notranslate"><span class="pre">fonction</span></code> efface la première.</p>
</section>
<section id="commentaires">
<h3>Commentaires<a class="headerlink" href="#commentaires" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-10">Le langage <em>python</em> propose une fonction <code class="docutils literal notranslate"><span class="pre">help</span></code> qui retourne
pour chaque fonction un commentaire ou mode d’emploi qui indique
comment se servir de cette fonction. L’exemple suivant affiche
le commentaire associé à la fonction <code class="docutils literal notranslate"><span class="pre">round</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span> <span class="p">(</span><span class="nb">round</span><span class="p">)</span>

<span class="go">Help on built-in function round:</span>

<span class="go">round(...)</span>
<span class="go">    round(number[, ndigits]) -&gt; floating point number</span>

<span class="go">    Round a number to a given precision in decimal digits (default 0 digits).</span>
<span class="go">    This always returns a floating point number.  Precision may be negative.</span>
</pre></div>
</div>
<p>Lorsqu’on utilise cette fonction <code class="docutils literal notranslate"><span class="pre">help</span></code> sur la fonction
<code class="docutils literal notranslate"><span class="pre">coordonnees_polaires</span></code> définie dans l’exemple du paragraphe
précédent, le message affiché n’est pas des plus explicites.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span> <span class="p">(</span><span class="n">coordonnees_polaires</span><span class="p">)</span>

<span class="go">Help on function coordonnees_polaires in module __main__:</span>

<span class="go">coordonnees_polaires(x, y)</span>
</pre></div>
</div>
<p>Pour changer ce message, il suffit d’ajouter en première ligne du code
de la fonction une chaîne de caractères.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">coordonnees_polaires</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    convertit des coordonnées cartésiennes en coordonnées polaires</span>
<span class="sd">    (x,y) --&gt; (pho,theta)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rho</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rho</span><span class="p">,</span> <span class="n">theta</span>


<span class="n">help</span><span class="p">(</span><span class="n">coordonnees_polaires</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">Help</span> <span class="n">on</span> <span class="n">function</span> <span class="n">coordonnees_polaires</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">sphinx_runpython</span><span class="o">.</span><span class="n">runpython</span><span class="o">.</span><span class="n">sphinx_runpython_extension</span><span class="p">:</span>
    
    <span class="n">coordonnees_polaires</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">convertit</span> <span class="n">des</span> <span class="n">coordonnées</span> <span class="n">cartésiennes</span> <span class="n">en</span> <span class="n">coordonnées</span> <span class="n">polaires</span>
        <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="p">(</span><span class="n">pho</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<p>Le programme affiche alors un message d’aide nettement plus explicite.
Il est conseillé d’écrire ce commentaire pour toute nouvelle fonction
avant même que son corps ne soit écrit. L’expérience montre qu’on oublie
souvent de l’écrire après.</p>
</section>
<section id="parametres-modifiables">
<h3>Paramètres modifiables<a class="headerlink" href="#parametres-modifiables" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Les paramètres de types immuables et modifiables se comportent de
manières différentes à l’intérieur d’une fonction. Ces paramètres
sont manipulés dans le corps de la fonction, voire modifiés parfois.
Selon le type du paramètre, ces modifications ont des répercussions
à l’extérieur de la fonction.</p>
<p>Les types immuables ne peuvent être modifiés et cela reste vrai.
Lorsqu’une fonction accepte un paramètre de type immuable,
elle ne reçoit qu’une copie de sa valeur. Elle peut donc
modifier ce paramètre sans que la variable ou la valeur
utilisée lors de l’appel de la fonction n’en soit affectée.
On appelle ceci un passage de paramètre par valeur. A l’opposé,
toute modification d’une variable d’un type modifiable à
l’intérieur d’une fonction est répercutée à la variable qui
a été utilisée lors de l’appel de cette fonction. On appelle ce
second type de passage un passage par adresse.</p>
<p>L’exemple suivant utilise une fonction <code class="docutils literal notranslate"><span class="pre">somme_n_premier_terme</span></code>
qui modifie ces deux paramètres. Le premier <code class="docutils literal notranslate"><span class="pre">n</span></code>, est immuable,
sa modification n’a aucune incidence sur la variable <code class="docutils literal notranslate"><span class="pre">nb</span></code>.
En revanche, le premier élément du paramètre <code class="docutils literal notranslate"><span class="pre">liste</span></code> reçoit
la valeur 0. Le premier élément de la liste <code class="docutils literal notranslate"><span class="pre">l</span></code> n’a plus la
même valeur après l’appel de la fonction <code class="docutils literal notranslate"><span class="pre">somme_n_premier_terme</span></code>
que celle qu’il avait avant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">somme_n_premier_terme</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">liste</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;calcul la somme des n premiers termes d&#39;une liste&quot;&quot;&quot;</span>
    <span class="n">somme</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">liste</span><span class="p">:</span>
        <span class="n">somme</span> <span class="o">+=</span> <span class="n">i</span>
        <span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>  <span class="c1"># modification de n (type immuable)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># modification de liste (type modifiable)</span>
    <span class="k">return</span> <span class="n">somme</span>


<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">nb</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;avant la fonction &quot;</span><span class="p">,</span> <span class="n">nb</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche   avant la fonction  3 [1, 2, 3, 4]</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">somme_n_premier_terme</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;après la fonction &quot;</span><span class="p">,</span> <span class="n">nb</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>  <span class="c1"># affiche   après la fonction  3 [0, 2, 3, 4]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;somme : &quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>  <span class="c1"># affiche   somme :  6</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">avant</span> <span class="n">la</span> <span class="n">fonction</span>  <span class="mi">3</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">après</span> <span class="n">la</span> <span class="n">fonction</span>  <span class="mi">3</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="n">somme</span> <span class="p">:</span>  <span class="mi">6</span>
</pre></div>
</div>
<p>La liste <code class="docutils literal notranslate"><span class="pre">l</span></code> est modifiée à l’intérieur de la fonction
<code class="docutils literal notranslate"><span class="pre">somme_n_premier_terme</span></code> comme l’affichage suivant le
montre. En fait, à l’intérieur de la fonction, la liste
<code class="docutils literal notranslate"><span class="pre">l</span></code> est désignée par l’identificateur <code class="docutils literal notranslate"><span class="pre">liste</span></code>, c’est
la même liste. La variable <code class="docutils literal notranslate"><span class="pre">nb</span></code> est d’un type immuable.
Sa valeur a été recopiée dans le paramètre <code class="docutils literal notranslate"><span class="pre">n</span></code> de la
fonction <code class="docutils literal notranslate"><span class="pre">somme_n_premier_terme</span></code>. Toute modification de <code class="docutils literal notranslate"><span class="pre">n</span></code>
à l’intérieur de cette fonction n’a aucune répercussion
à l’extérieur de la fonction.</p>
<p id="index-11"><em>Passage par adresse</em></p>
<p>Dans l’exemple précédent, il faut faire distinguer le fait que
la liste passée en paramètre ne soit que modifiée et
non changée. L’exemple suivant inclut une fonction
qui affecte une nouvelle valeur au paramètre <code class="docutils literal notranslate"><span class="pre">liste</span></code>
sans pour autant modifier la liste envoyée en paramètre.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span> <span class="p">(</span><span class="n">liste</span><span class="p">):</span>
    <span class="n">liste</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>       <span class="c1"># affiche [0,1,2]</span>
<span class="n">fonction</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>       <span class="c1"># affiche [0,1,2]</span>
</pre></div>
</div>
<p>Il faut considérer dans ce programme que la fonction <code class="docutils literal notranslate"><span class="pre">fonction</span></code>
reçoit un paramètre appelé <code class="docutils literal notranslate"><span class="pre">liste</span></code> mais utilise tout de suite
cet identificateur pour l’associer à un contenu différent.
L’identificateur <code class="docutils literal notranslate"><span class="pre">liste</span></code> est en quelque sorte passé du statut
de paramètre à celui de variable locale. La fonction associe
une valeur à <code class="docutils literal notranslate"><span class="pre">liste</span></code> - ici, une liste vide - sans toucher
à la valeur que cet identificateur désignait précédemment.</p>
<p>Le programme qui suit est différent du précédent mais produit les
mêmes effets. Ceci s’explique par le fait que le mot-clé <code class="docutils literal notranslate"><span class="pre">del</span></code>
ne supprime pas le contenu d’une variable mais seulement son
identificateur. Le langage <em>python</em> détecte ensuite qu’un objet
n’est plus désigné par aucun identificateur pour le supprimer.
Cette remarque est à rapprocher de celles du paragraphe
<a class="reference internal" href="../c_classes/classes.html#par-copie-objet"><span class="std std-ref">Copie d’instances</span></a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">liste</span><span class="p">):</span>
    <span class="k">del</span> <span class="n">liste</span>


<span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>  <span class="c1"># affiche [0,1,2]</span>
<span class="n">fonction</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>  <span class="c1"># affiche [0,1,2]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>Le programme qui suit permet cette fois-ci de vider la liste
<code class="docutils literal notranslate"><span class="pre">liste</span></code> passée en paramètre à la fonction <code class="docutils literal notranslate"><span class="pre">fonction</span></code>.
La seule instruction de cette fonction modifie vraiment le
contenu désigné par l’identificateur <code class="docutils literal notranslate"><span class="pre">liste</span></code> et cela se
vérifie après l’exécution de cette fonction.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">liste</span><span class="p">):</span>
    <span class="k">del</span> <span class="n">liste</span><span class="p">[</span><span class="mi">0</span> <span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">liste</span><span class="p">)]</span>  <span class="c1"># on peut aussi écrire : liste[:] = []</span>


<span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>  <span class="c1"># affiche [0,1,2]</span>
<span class="n">fonction</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>  <span class="c1"># affiche []</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="p">[]</span>
</pre></div>
</div>
</section>
<section id="fonction-recursive">
<h3>Fonction récursive<a class="headerlink" href="#fonction-recursive" title="Lien permanent vers cette rubrique">#</a></h3>
<span class="target" id="index-12"></span><div class="admonition-mathdef admonition" id="indexmathe-Définition2">
<p class="admonition-title">Définition D3 : fonction récursive</p>
<p>Une fonction récursive est une fonction qui s’appelle elle-même.</p>
</div>
<p>La fonction récursive la plus fréquemment citée en exemple est la
fonction factorielle. Celle-ci met en évidence les deux composantes
d’une fonction récursive, la récursion proprement dite et la
condition d’arrêt.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorielle</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorielle</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>La dernière ligne de la fonction <code class="docutils literal notranslate"><span class="pre">factorielle</span></code> est la
récursion tandis que la précédente est la condition d’arrêt,
sans laquelle la fonction ne cesserait de s’appeler, empêchant
le programme de terminer son exécution. Si celle-ci est mal
spécifiée ou absente, l’interpréteur <em>python</em> affiche une suite
ininterrompue de messages. <em>python</em> n’autorise pas plus de
1000 appels récursifs : <code class="docutils literal notranslate"><span class="pre">factorielle(999)</span></code> provoque nécessairement
une erreur d’exécution même si la condition d’arrêt est bien spécifiée.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;fact.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">factorielle</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;fact.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">factorielle</span>
    <span class="k">else</span> <span class="p">:</span> <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorielle</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;fact.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">factorielle</span>
    <span class="k">else</span> <span class="p">:</span> <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorielle</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>La liste des messages d’erreurs est aussi longue qu’il y a eu
d’appels à la fonction récursive. Dans ce cas, il faut
transformer cette fonction en une fonction non récursive
équivalente, ce qui est toujours possible.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorielle_non_recursive</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">r</span> <span class="o">*=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">r</span>
</pre></div>
</div>
</section>
<section id="portee-des-variables-des-parametres">
<h3>Portée des variables, des paramètres<a class="headerlink" href="#portee-des-variables-des-parametres" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Lorsqu’on définit une variable, elle n’est pas utilisable
partout dans le programme. Par exemple, elle n’est pas utilisable
avant d’avoir été déclarée au moyen d’une affectation.
Le court programme suivant déclenche une erreur.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># déclenche une erreur</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">4</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730314340480</span>
    <span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;x&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Il est également impossible d’utiliser une variable à
l’extérieur d’une fonction où elle a été déclarée.
Plusieurs fonctions peuvent ainsi utiliser le même nom de
variable sans qu’à aucun moment, il n’y ait confusion.
Le programme suivant déclenche une erreur identique à
celle reproduite ci-dessus.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">portee_variable</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">x</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>


<span class="n">portee_variable</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>  <span class="c1"># déclenche une erreur car var est déclarée dans</span>
<span class="c1"># la fonction portee_variable</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">3</span>
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">10</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">8</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730314666304</span>
    <span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;var&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<div class="admonition-mathdef admonition" id="indexmathe-Définition3">
<p class="admonition-title">Définition D4 : portée d’un variable</p>
<p>La portée d’une variable associée à un identificateur
recouvre la portion du programme à l’intérieur de laquelle ce même identificateur
la désigne. Ceci implique que, dans cette portion de code, aucune autre variable,
aucune autre fonction, aucune autre classe, ne peut porter le même identificateur.</p>
</div>
<p>Une variable n’a donc d’existence que dans la fonction dans
laquelle elle est déclarée. On appelle ce type de variable
une variable locale. Par défaut, toute variable utilisée
dans une fonction est une variable locale.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Définition4">
<p class="admonition-title">Définition D5 : variable locale</p>
<p>Une variable locale est une variable dont la portée est réduite à une fonction.</p>
</div>
<p>Par opposition aux variables locales, on définit les variables
globales qui sont déclarées à l’extérieur de toute fonction.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Définition5">
<p class="admonition-title">Définition D6 : variable globale</p>
<p>Une variable globale est une variable dont la portée est l’ensemble du programme.</p>
</div>
<p>L’exemple suivant mélange variable locale et variable globale.
L’identificateur <code class="docutils literal notranslate"><span class="pre">n</span></code> est utilisé à la fois pour désigner une
variable globale égale à 1 et une variable locale égale à 1.
A l’intérieur de la fonction, <code class="docutils literal notranslate"><span class="pre">n</span></code> désigne la variable locale
égale à 2. A l’extérieur de la fonction, <code class="docutils literal notranslate"><span class="pre">n</span></code> désigne la
variable globale égale à 1.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># déclaration d&#39;une variable globale</span>


<span class="k">def</span> <span class="nf">locale_globale</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># déclaration d&#39;une variable locale</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche le contenu de la variable locale</span>


<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche 1</span>
<span class="n">locale_globale</span><span class="p">()</span>  <span class="c1"># affiche 2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche 1</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">1</span>
</pre></div>
</div>
<p>Il est possible de faire référence aux variables globales
dans une fonction par l’intermédiaire du mot-clé <code class="docutils literal notranslate"><span class="pre">global</span></code>.
Celui-ci indique à la fonction que l’identificateur <code class="docutils literal notranslate"><span class="pre">n</span></code>
n’est plus une variable locale mais désigne une variable
globale déjà déclarée.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># déclaration d&#39;une variable globale</span>


<span class="k">def</span> <span class="nf">locale_globale</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">n</span>  <span class="c1"># cette ligne indique que n désigne la variable globale</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># change le contenu de la variable globale</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche le contenu de la variable globale</span>


<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche 1</span>
<span class="n">locale_globale</span><span class="p">()</span>  <span class="c1"># affiche 2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># affiche 2</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">1</span>
</pre></div>
</div>
<p>Cette possibilité est à éviter le plus possible car on
peut considérer que <code class="docutils literal notranslate"><span class="pre">locale_globale</span></code> est en fait une fonction avec
un paramètre caché. La fonction <code class="docutils literal notranslate"><span class="pre">locale_globale</span></code> n’est
plus indépendante des autres fonctions puisqu’elle modifie une
des données du programme.</p>
</section>
<section id="portee-des-fonctions">
<h3>Portée des fonctions<a class="headerlink" href="#portee-des-fonctions" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Le langage <em>python</em> considère les fonctions également comme des variables
d’un type particulier. La portée des fonctions obéit aux mêmes
règles que celles des variables. Une fonction ne peut être
appelée que si elle a été définie avant son appel.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorielle</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">return</span> <span class="mi">1</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">factorielle</span><span class="p">))</span>  <span class="c1"># affiche &lt;type &#39;function&#39;&gt;</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    &lt;class &#39;function&#39;&gt;
</pre></div>
</div>
<p>Comme il est possible de déclarer des variables locales,
il est également possible de définir des fonctions locales ou
fonctions imbriquées. Une fonction locale n’est appelable
qu’à l’intérieur de la fonction dans laquelle elle est définie.
Dans l’exemple suivant, la fonction <code class="docutils literal notranslate"><span class="pre">affiche_pair</span></code> inclut une
fonction locale qui n’est appelable que par cette fonction <code class="docutils literal notranslate"><span class="pre">affiche_pair</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">affiche_pair</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">fonction_locale</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>  <span class="c1"># fonction locale ou imbriquée</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">fonction_locale</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>


<span class="n">affiche_pair</span><span class="p">()</span>
<span class="n">fonction_locale</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># l&#39;appel à cette fonction locale</span>
<span class="c1"># déclenche une erreur d&#39;exécution</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">0</span>
    <span class="mi">2</span>
    <span class="mi">4</span>
    <span class="mi">6</span>
    <span class="mi">8</span>
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">14</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">12</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139730312532480</span>
    <span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;fonction_locale&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>A l’intérieur d’une fonction locale, le mot-clé <code class="docutils literal notranslate"><span class="pre">global</span></code> désigne
toujours les variables globales du programme et non les variables
de la fonction dans laquelle cette sous-fonction est définie.</p>
</section>
<section id="nombre-de-parametres-variable">
<span id="nombr-eparam-variable-ref"></span><h3>Nombre de paramètres variable<a class="headerlink" href="#nombre-de-parametres-variable" title="Lien permanent vers cette rubrique">#</a></h3>
<p>Il est possible de définir des fonctions qui prennent un nombre
indéterminé de paramètres, lorsque celui-ci n’est pas connu à l’avance.
Hormis les paramètres transmis selon le mode présenté dans les
paragraphes précédents, des informations peuvent être ajoutées à cette
liste lors de l’appel de la fonction, ces informations sont regroupées
soit dans une liste de valeurs, soit dans une liste de couples
(identificateur, valeur). La déclaration d’une telle fonction obéit à la
syntaxe suivante :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Syntaxe8">
<p class="admonition-title">Syntaxe S9 : Nombre indéfini de paramètres</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span> <span class="p">(</span><span class="n">param_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">param_n</span><span class="p">,</span> <span class="o">*</span><span class="n">liste</span><span class="p">,</span> <span class="o">**</span><span class="n">dictionnaire</span><span class="p">)</span> <span class="p">:</span>
</pre></div>
</div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">fonction</span></code> est un nom de fonction, <code class="docutils literal notranslate"><span class="pre">param_1</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code>
sont des paramètres de la fonction, <code class="docutils literal notranslate"><span class="pre">liste</span></code> est le nom de la liste
qui doit recevoir la liste des valeurs seules envoyées à la fonction
et qui suivent les paramètres (plus précisément, c’est un tuple),
<code class="docutils literal notranslate"><span class="pre">dictionnaire</span></code> reçoit la liste des couples (identificateur, valeur).
L’appel à cette fonction suit quant à lui la syntaxe suivante :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fonction</span> <span class="p">(</span><span class="n">valeur_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">valeur_n</span><span class="p">,</span>
          <span class="n">liste_valeur_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">liste_valeur_p</span><span class="p">,</span>
          <span class="n">nom_1</span> <span class="o">=</span> <span class="n">v_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">nom_q</span> <span class="o">=</span> <span class="n">v_q</span><span class="p">)</span>
</pre></div>
</div>
<p>Où <code class="docutils literal notranslate"><span class="pre">fonction</span></code> est un nom de fonction, <code class="docutils literal notranslate"><span class="pre">valeur_1</span></code> à
<code class="docutils literal notranslate"><span class="pre">valeur_n</span></code> sont les valeurs associées aux paramètres
<code class="docutils literal notranslate"><span class="pre">param_1</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code>, <code class="docutils literal notranslate"><span class="pre">liste_valeur_1</span></code> à
<code class="docutils literal notranslate"><span class="pre">liste_valeur_p</span></code> formeront la liste <code class="docutils literal notranslate"><span class="pre">liste</span></code>, les couples
<code class="docutils literal notranslate"><span class="pre">nom_1</span> <span class="pre">:</span> <span class="pre">v_1</span></code> à <code class="docutils literal notranslate"><span class="pre">nom_q</span> <span class="pre">:</span> <span class="pre">v_q</span></code> formeront le dictionnaire
<code class="docutils literal notranslate"><span class="pre">dictionnaire</span></code>.</p>
<p>Exemple :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">l</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p = &quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;liste (tuple) l :&quot;</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dictionnaire d :&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>


<span class="n">fonction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># 1 est associé au paramètre p</span>
<span class="c1"># 2 et 3 sont insérés dans la liste l</span>
<span class="c1"># a=5 et b=6 sont insérés dans le dictionnaire d</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">p</span> <span class="o">=</span>  <span class="mi">1</span>
    <span class="n">liste</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">)</span> <span class="n">l</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">dictionnaire</span> <span class="n">d</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
</pre></div>
</div>
<p>A l’instar des paramètres par défaut, la seule contrainte de
cette écriture est la nécessité de respecter l’ordre dans
lequel les informations doivent apparaître. Lors de l’appel,
les valeurs sans précision de nom de paramètre seront placées
dans une liste (ici le tuple <code class="docutils literal notranslate"><span class="pre">l</span></code>). Les valeurs associées à un nom
de paramètre seront placées dans un dictionnaire (ici <code class="docutils literal notranslate"><span class="pre">d</span></code>).
Les valeurs par défaut sont obligatoirement placées après les paramètres
non nommés explicitement.</p>
<p>Une fonction qui accepte des paramètres en nombre variable peut à son
tour appeler une autre fonction acceptant des paramètres en nombre variable.
Il faut pour cela se servir du symbole <code class="docutils literal notranslate"><span class="pre">*</span></code> afin de transmettre à
<code class="docutils literal notranslate"><span class="pre">fonction</span></code> les valeurs reçues par <code class="docutils literal notranslate"><span class="pre">fonction2</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">l</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p = &quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;liste l :&quot;</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dictionnaire d :&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">fonction2</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">l</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">):</span>
    <span class="n">l</span> <span class="o">+=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,)</span>  <span class="c1"># on ajoute une valeur au tuple</span>
    <span class="n">d</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># on ajoute un couple (paramètre,valeur)</span>
    <span class="n">fonction</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">l</span><span class="p">,</span> <span class="o">**</span><span class="n">d</span><span class="p">)</span>  <span class="c1"># ne pas oublier le symbole *</span>


<span class="n">fonction2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">p</span> <span class="o">=</span>  <span class="mi">1</span>
    <span class="n">liste</span> <span class="n">l</span> <span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">dictionnaire</span> <span class="n">d</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="ecriture-simplifiee-pour-des-fonctions-simples-lambda">
<h3>Ecriture simplifiée pour des fonctions simples : lambda<a class="headerlink" href="#ecriture-simplifiee-pour-des-fonctions-simples-lambda" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-13">Lorsque le code d’une fonction tient en une ligne et est le
résultat d’une expression, il est possible de condenser son
écriture à l’aide du mot-clé <code class="docutils literal notranslate"><span class="pre">lambda</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nom_fonction</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">param_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">param_n</span> <span class="p">:</span> <span class="n">expression</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">nom_fonction</span></code> est le nom de la fonction, <code class="docutils literal notranslate"><span class="pre">param_1</span></code> à <code class="docutils literal notranslate"><span class="pre">param_n</span></code>
sont les paramètres de cette fonction (ils peuvent également
recevoir des valeurs par défaut), <code class="docutils literal notranslate"><span class="pre">expression</span></code> est l’expression
retournée par la fonction.</p>
<p>L’exemple suivant utilise cette écriture pour définir la fonction
<code class="docutils literal notranslate"><span class="pre">min</span></code> retournant le plus petit entre deux nombres positifs.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">min</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1"># affiche 1</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>  <span class="c1"># affiche 4</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">1.0</span>
    <span class="mf">4.0</span>
</pre></div>
</div>
<p>Cette écriture correspond à l’écriture non condensée suivante :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1"># affiche 1</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>  <span class="c1"># affiche 4</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">1.0</span>
    <span class="mf">4.0</span>
</pre></div>
</div>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">lambda</span></code> considère le contexte de fonction qui
la contient comme son contexte. Il est possible de créer des
fonctions <code class="docutils literal notranslate"><span class="pre">lambda</span></code> mais celle-ci utiliseront le contexte
dans l’état où il est au moment de son exécution et
non au moment de sa création.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">a</span>
    <span class="n">fs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># le programme affiche 10 fois 10 de suite</span>
    <span class="c1"># car la variable a vaut dix à la fin de la boucle</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
    <span class="mi">10</span>
</pre></div>
</div>
<p>Pour que le programme affiche les entiers de 1 à 10, il faut
préciser à la fonction <code class="docutils literal notranslate"><span class="pre">lambda</span></code> une variable <code class="docutils literal notranslate"><span class="pre">y</span></code> égale à <code class="docutils literal notranslate"><span class="pre">a</span></code>
au moment de la création de la fonction et qui sera intégrée au contexte
de la fonction <code class="docutils literal notranslate"><span class="pre">lambda</span></code> :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">a</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  <span class="c1"># ligne changée</span>
    <span class="n">fs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">1</span>
    <span class="mi">2</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
    <span class="mi">5</span>
    <span class="mi">6</span>
    <span class="mi">7</span>
    <span class="mi">8</span>
    <span class="mi">9</span>
    <span class="mi">10</span>
</pre></div>
</div>
</section>
<section id="fonctions-generateur">
<span id="l-fonction-generateur"></span><h3>Fonctions générateur<a class="headerlink" href="#fonctions-generateur" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-14">Le mot-clé <code class="docutils literal notranslate"><span class="pre">yield</span></code> est un peu à part. Utilisé à l’intérieur d’une fonction,
il permet d’interrompre le cours de son exécution à un endroit
précis de sorte qu’au prochain appel de cette fonction,
celle-ci reprendra le cours de son exécution exactement au
même endroit avec des variables locales inchangées. Le mot-clé
<code class="docutils literal notranslate"><span class="pre">return</span></code> ne doit pas être utilisé. Ces fonctions ou
<a class="reference external" href="https://docs.python.org/3/glossary.html#term-generator">générateurs</a>
sont utilisées en couple avec le mot-clé <code class="docutils literal notranslate"><span class="pre">for</span></code> pour simuler un ensemble.
L’exemple suivant implémente une fonction <code class="docutils literal notranslate"><span class="pre">fonction_yield</span></code> qui simule
l’ensemble des entiers compris entre 0 et <em>n</em> exclu</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonction_yield</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yield 1&quot;</span><span class="p">)</span>  <span class="c1"># affichage : pour voir ce que fait le programme</span>
        <span class="k">yield</span> <span class="n">i</span>  <span class="c1"># arrête la fonction qui reprendra</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># à la ligne suivante lors du prochain appel</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yield 2&quot;</span><span class="p">)</span>  <span class="c1"># affichage : pour voir ce que fait le programme</span>
    <span class="k">yield</span> <span class="n">i</span>  <span class="c1"># arrête la fonction qui ne reprendra pas</span>
    <span class="c1"># lors du prochain appel car le code de la fonction</span>
    <span class="c1"># prend fin ici</span>


<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">fonction_yield</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># affiche tous les éléments que retourne la</span>
    <span class="c1"># fonction fonction_yield, elle simule la liste</span>
    <span class="c1"># [0,1]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------------------&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">fonction_yield</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># nouvel appel, l&#39;exécution reprend</span>
    <span class="c1"># au début de la fonction,</span>
    <span class="c1"># affiche tous les éléments que retourne la</span>
    <span class="c1"># fonction fonction_yield, elle simule la liste</span>
    <span class="c1"># [0,1,2]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">yield</span> <span class="mi">1</span>
    <span class="mi">0</span>
    <span class="k">yield</span> <span class="mi">2</span>
    <span class="mi">1</span>
    <span class="o">-----------------------------------------------</span>
    <span class="k">yield</span> <span class="mi">1</span>
    <span class="mi">0</span>
    <span class="k">yield</span> <span class="mi">1</span>
    <span class="mi">1</span>
    <span class="k">yield</span> <span class="mi">2</span>
    <span class="mi">2</span>
</pre></div>
</div>
<p>Le programme affiche tous les entiers compris entre 0 et 4 inclus ainsi que le
texte <code class="docutils literal notranslate"><span class="pre">&quot;yield</span> <span class="pre">1&quot;</span></code> ou <code class="docutils literal notranslate"><span class="pre">&quot;yield</span> <span class="pre">2&quot;</span></code> selon l’instruction <code class="docutils literal notranslate"><span class="pre">yield</span></code> qui a
retourné le résultat. Lorsque la fonction a finalement terminé
son exécution, le prochain appel agit comme si c’était la première
fois qu’on l’appelait.</p>
</section>
<section id="identificateur-appelable">
<h3>Identificateur appelable<a class="headerlink" href="#identificateur-appelable" title="Lien permanent vers cette rubrique">#</a></h3>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">callable</span></code> retourne un booléen permettant de savoir si un
identificateur est une fonction (voir <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>),
de savoir par conséquent si tel identificateur est appelable comme une fonction.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>


<span class="k">def</span> <span class="nf">y</span><span class="p">():</span>
    <span class="k">return</span> <span class="kc">None</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">callable</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># affiche False car x est une variable</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">callable</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># affiche True car y est une fonction</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="kc">False</span>
    <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="compilation-dynamique-eval">
<h3>Compilation dynamique (eval)<a class="headerlink" href="#compilation-dynamique-eval" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-15">Cette fonction a déjà été abordée lors des paragraphes
:<a class="reference internal" href="types.html#fonction-print-eval"><span class="std std-ref">Fonction print, repr et conversion en chaîne de caractères</span></a> ou <a class="reference internal" href="types.html#fonction-eval"><span class="std std-ref">Fonction eval</span></a>. Elle évalue toute
chaîne de caractères contenant une expression écrite avec la syntaxe du
langage <em>python</em>. Cette expression peut utiliser toute variable ou
toute fonction accessible au moment où est appelée la fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;x*x+y*y+2*x*y&quot;</span><span class="p">))</span>  <span class="c1"># affiche 49</span>
<span class="nb">print</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># affiche 49</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">49</span>
    <span class="mi">49</span>
</pre></div>
</div>
<p>Si l’expression envoyée à la fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code> inclut une
variable non définie, l’interpréteur <em>python</em> génère une erreur
comme le montre l’exemple suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;x*x+y*y+2*x*y+z&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    
    <span class="p">[</span><span class="n">runpythonerror</span><span class="p">]</span>
    
    <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">globs</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="n">File</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_python_script_139729781064832</span>
      <span class="n">File</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;z&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>La variable <code class="docutils literal notranslate"><span class="pre">z</span></code> n’est pas définie et l’expression n’est pas évaluable.
L’erreur se produit dans une chaîne de caractères traduite en programme
informatique, c’est pourquoi l’interpréteur ne peut pas situer
l’erreur dans un fichier. L’erreur ne se produit dans aucun fichier,
cette chaîne de caractères pourrait être définie dans un autre.</p>
</section>
<section id="compilation-dynamique-compile-exec">
<span id="par-compilation-fonction"></span><h3>Compilation dynamique (compile, exec)<a class="headerlink" href="#compilation-dynamique-compile-exec" title="Lien permanent vers cette rubrique">#</a></h3>
<p id="index-16">Plus complète que la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=eval#eval">eval</a>,
la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=eval#compile">compile</a>
permet d’ajouter une ou plusieurs fonctions au programme, celle-ci étant
définie par une chaîne de caractères. Le code est d’abord compilé
(fonction <code class="docutils literal notranslate"><span class="pre">compile</span></code>) puis incorporé au programme
(fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=eval#exec">exec</a>)
comme le montre l’exemple suivant.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;def coordonnees_polaires(x,y):</span>
<span class="s2">    rho     = math.sqrt(x*x+y*y)</span>
<span class="s2">    theta   = math.atan2 (y,x)</span>
<span class="s2">    return rho, theta&quot;&quot;&quot;</span>  <span class="c1"># fonction définie par une chaîne de caractères</span>

<span class="n">obj</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;exec&quot;</span><span class="p">)</span>  <span class="c1"># fonction compilée</span>
<span class="n">exec</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>  <span class="c1"># fonction incorporée au programme</span>
<span class="nb">print</span><span class="p">(</span><span class="n">coordonnees_polaires</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>  <span class="c1"># affiche (1.4142135623730951, 0.78539816339744828)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">(</span><span class="mf">1.4142135623730951</span><span class="p">,</span> <span class="mf">0.7853981633974483</span><span class="p">)</span>
</pre></div>
</div>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">compile</span></code> prend en fait trois arguments. Le premier est la
chaîne de caractères contenant le code à compiler. Le second paramètre
(<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> dans l’exemple) contient un nom de fichier dans lequel seront
placées les erreurs de compilation. Le troisième paramètre est une chaîne de
caractères à choisir parmi « exec » ou « eval ». Selon ce choix, ce sera la
fonction <code class="docutils literal notranslate"><span class="pre">exec</span></code> ou <code class="docutils literal notranslate"><span class="pre">eval</span></code> qui devra être utilisée pour agréger le
résultat de la fonction <code class="docutils literal notranslate"><span class="pre">compile</span></code> au programme. L’exemple suivant donne
un exemple d’utilisation de la fonction <code class="docutils literal notranslate"><span class="pre">compile</span></code> avec la fonction <code class="docutils literal notranslate"><span class="pre">eval</span></code>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;math.sqrt(x*x+y*y)&quot;&quot;&quot;</span>  <span class="c1"># expression définie par une chaîne de caractères</span>

<span class="n">obj</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>  <span class="c1"># expression compilée</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>  <span class="c1"># résultat de l&#39;expression</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mf">2.23606797749979</span>
</pre></div>
</div>
</section>
</section>
<section id="indentation">
<span id="fonction-sorted-enumerate"></span><span id="par-indentation"></span><h2>Indentation<a class="headerlink" href="#indentation" title="Lien permanent vers cette rubrique">#</a></h2>
<p id="index-17">L’indentation est synonyme de décalage. Pour toute boucle,
test, fonction, et plus tard, toute définition de classe,
le fait d’indenter ou décaler les lignes permet de définir
une dépendance d’un bloc de lignes par rapport à un autre.
Les lignes indentées par rapport à une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code>
dépendent de celle-ci puisqu’elle seront exécutées à chaque
passage dans la boucle. Les lignes indentées par rapport au
mot-clé <code class="docutils literal notranslate"><span class="pre">def</span></code> sont considérées comme faisant partie du
corps de la fonction.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html?highlight=indentationerror#IndentationError">IndentationError</a>
est l’erreur que l’interpréteur <em>python</em> retourne en cas de mauvaise indentation
(voir <a class="reference internal" href="#l-indentation-error"><span class="std std-ref">tests</span></a>).</p>
<p>Contrairement à d’autres langages comme le
<a class="reference external" href="https://fr.wikipedia.org/wiki/C_(langage)">C</a> ou
<a class="reference external" href="https://fr.wikipedia.org/wiki/Perl_(langage)">PERL</a>,
<em>python</em> n’utilise pas de délimiteurs pour regrouper les lignes.
L’indentation, souvent présentée comme un moyen de rendre
les programmes plus lisibles, est ici intégrée à la syntaxe du
langage. Il n’y a pas non plus de délimiteurs entre deux
instructions autre qu’un passage à la ligne. Le caractère <code class="docutils literal notranslate"><span class="pre">\</span></code>
placé à la fin d’une ligne permet de continuer l’écriture
d’une instruction à la ligne suivante.</p>
</section>
<section id="fonctions-usuelles">
<span id="paragraphe-fonction-usuelles"></span><h2>Fonctions usuelles<a class="headerlink" href="#fonctions-usuelles" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Certaines fonctions sont communes aux dictionnaires et aux listes,
elles sont également définis pour de nombreux objets présents
dans les extensions du langages. Quelque soit le contexte, le
résultat attendu à la même signification. Les plus courantes
sont présentées <a class="reference internal" href="#table-fonction-communes"><span class="std std-ref">plus bas</span></a>.</p>
<p id="index-18">La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#map" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a> permet d’écrire des boucles de façon simplifiée.
Elle est utile dans le cas où on souhaite appliquer la même fonction
à tous les éléments d’un ensemble. Par exemple les deux dernières
lignes du programme suivant sont équivalentes.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">est_pair</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>


<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">([</span><span class="n">est_pair</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">])</span>  <span class="c1"># affiche [0, 1, 0, 0, 1, 0]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">est_pair</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">est_pair</span><span class="p">,</span> <span class="n">l</span><span class="p">)))</span>  <span class="c1"># affiche [0, 1, 0, 0, 1, 0]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
    <span class="o">&lt;</span><span class="nb">map</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f157eaf7700</span><span class="o">&gt;</span>
    <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
<p>La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#map" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a>
retourne un itérateur et non un ensemble. Cela explique le second résultat du programme
précédent. Pour obtenir les résultats, il faut explicitement parcourir l’ensemble des
résultats. C’est ce que fait la dernière instruction. La fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html#map" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code></a>
est une <a class="reference internal" href="#l-fonction-generateur"><span class="std std-ref">fonction générateur</span></a>.
Elle peut aider à simplifier l’écriture lorsque plusieurs listes sont impliquées.
Ici encore, les deux dernières lignes sont équivalentes.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">addition</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>


<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">mo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="nb">print</span><span class="p">([</span><span class="n">addition</span><span class="p">(</span><span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">mo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">))])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">addition</span><span class="p">,</span> <span class="n">li</span><span class="p">,</span> <span class="n">mo</span><span class="p">)))</span>  <span class="c1"># affiche [1, 6, 8, 9, 11, 14]</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
</pre></div>
</div>
<p id="index-19">Il est possible de substituer d’utiliser la fonction <code class="docutils literal notranslate"><span class="pre">map</span></code>
pour obtenir l’équivalent de la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#zip">zip</a>.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">mo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">((</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)),</span> <span class="n">li</span><span class="p">,</span> <span class="n">mo</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="n">mo</span><span class="p">)))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>
    <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>
</pre></div>
</div>
<p id="index-20">Comme pour les dictionnaires, la fonction
<a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#sorted">sorted</a>
permet de parcourir les éléments d’une liste de façon ordonnée.
Les deux exemples qui suivent sont presque équivalents. Dans le second,
la liste <code class="docutils literal notranslate"><span class="pre">li</span></code> demeure inchangée alors qu’elle est triée dans le premier programme.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>  <span class="c1"># on parcourt la liste li</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c1"># de façon triée</span>
<span class="nb">print</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>  <span class="c1"># la liste li n&#39;est pas triée</span>

<span class="n">li</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>  <span class="c1"># la liste est triée</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">-</span><span class="mi">6</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
    <span class="mi">5</span>
    <span class="mi">7</span>
    <span class="mi">9</span>
    <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
    <span class="o">-</span><span class="mi">6</span>
    <span class="mi">3</span>
    <span class="mi">4</span>
    <span class="mi">5</span>
    <span class="mi">7</span>
    <span class="mi">9</span>
</pre></div>
</div>
<p id="index-21">La fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html#enumerate" title="(disponible dans Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">enumerate()</span></code></a>
permet d’éviter l’emploi de la fonction <a class="reference external" href="https://docs.python.org/3/library/functions.html?highlight=map#func-range">range</a>
lorsqu’on souhaite parcourir une liste alors que l’indice et l’élément sont nécessaires.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">li</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">0</span> <span class="mi">4</span>
    <span class="mi">1</span> <span class="mi">5</span>
    <span class="mi">2</span> <span class="mi">3</span>
    <span class="mi">3</span> <span class="o">-</span><span class="mi">6</span>
    <span class="mi">4</span> <span class="mi">7</span>
    <span class="mi">5</span> <span class="mi">9</span>
    <span class="o">--</span>
    <span class="mi">0</span> <span class="mi">4</span>
    <span class="mi">1</span> <span class="mi">5</span>
    <span class="mi">2</span> <span class="mi">3</span>
    <span class="mi">3</span> <span class="o">-</span><span class="mi">6</span>
    <span class="mi">4</span> <span class="mi">7</span>
    <span class="mi">5</span> <span class="mi">9</span>
</pre></div>
</div>
<p id="table-fonction-communes">Voici la liste non exhaustive de fonctions définies par le langage <em>python</em> sans
qu’aucune extension ne soit nécessaire.</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">abs</span> <span class="pre">(x)</span></code></p></td>
<td><p>Retourne la valeur absolue de <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">callable</span> <span class="pre">(x)</span></code></p></td>
<td><p>Dit si la variable <code class="docutils literal notranslate"><span class="pre">x</span></code> peut être appelée.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">chr</span> <span class="pre">(i)</span></code></p></td>
<td><p>Retourne le caractère associé au code numérique <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cmp</span> <span class="pre">(x,y)</span></code></p></td>
<td><p>Compare <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">y</span></code>, retourne -1 si <code class="docutils literal notranslate"><span class="pre">x&lt;y</span></code>,
0 en cas d’égalité, 1 sinon.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dir</span> <span class="pre">(x)</span></code></p></td>
<td><p>Retourne l’ensemble des méthodes associées à <code class="docutils literal notranslate"><span class="pre">x</span></code>
qui peut être un objet, un module, un variable, …</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enumerate(x)</span></code></p></td>
<td><p>Parcourt un ensemble itérable (voir paragraphe <a class="reference internal" href="#fonction-sorted-enumerate"><span class="std std-ref">Indentation</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">help(x)</span></code></p></td>
<td><p>Retourne l’aide associée à <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">id(x)</span></code></p></td>
<td><p>Retourne un identifiant unique associé à l’objet <code class="docutils literal notranslate"><span class="pre">x</span></code>.
Le mot-clé <code class="docutils literal notranslate"><span class="pre">is</span></code> est relié à cet identifiant.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">classe)</span></code></p></td>
<td><p>Dit si l’objet <code class="docutils literal notranslate"><span class="pre">x</span></code> est de type <code class="docutils literal notranslate"><span class="pre">classe</span></code>
(voir le chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">issubclass(cl1,</span> <span class="pre">cl2)</span></code></p></td>
<td><p>Dit si la classe <code class="docutils literal notranslate"><span class="pre">cl1</span></code> hérite de la classe <code class="docutils literal notranslate"><span class="pre">cl2</span></code>
(voir le chapitre <a class="reference internal" href="../c_classes/classes.html#chap-classe"><span class="std std-ref">Classes</span></a>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">len(l)</span></code></p></td>
<td><p>Retourne la longueur de <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">map(f,l1,l2,...)</span></code></p></td>
<td><p>Applique la fonction <code class="docutils literal notranslate"><span class="pre">f</span></code> sur les listes <code class="docutils literal notranslate"><span class="pre">l1</span></code>, <code class="docutils literal notranslate"><span class="pre">l2</span></code>…</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">max(l)</span></code></p></td>
<td><p>Retourne le plus grand élément de <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">min(l)</span></code></p></td>
<td><p>Retourne le plus petit élément de <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ord(s)</span></code></p></td>
<td><p>Fonction réciproque de <code class="docutils literal notranslate"><span class="pre">chr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">range(i,j[,k])</span></code></p></td>
<td><p>Construit la liste des entiers de <code class="docutils literal notranslate"><span class="pre">i</span></code> à <code class="docutils literal notranslate"><span class="pre">j</span></code>.
Si <code class="docutils literal notranslate"><span class="pre">k</span></code> est précisé, va de <code class="docutils literal notranslate"><span class="pre">k</span></code> en <code class="docutils literal notranslate"><span class="pre">k</span></code> à partir de <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reload(module)</span></code></p></td>
<td><p>Recharge un module (voir <a class="reference internal" href="../c_module/module.html#chap-module"><span class="std std-ref">Module ou extension</span></a>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">repr(o)</span></code></p></td>
<td><p>Retourne une chaîne de caractères qui représente l’objet <code class="docutils literal notranslate"><span class="pre">o</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">round(x[,n])</span></code></p></td>
<td><p>Arrondi <code class="docutils literal notranslate"><span class="pre">x</span></code> à <code class="docutils literal notranslate"><span class="pre">n</span></code> décimales près ou aucune si <code class="docutils literal notranslate"><span class="pre">n</span></code> n’est pas précisé.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sorted(x</span> <span class="pre">[,</span> <span class="pre">cmp[,</span> <span class="pre">key[,</span> <span class="pre">reverse]]])</span></code></p></td>
<td><p>Tri un ensemble itérable (voir paragraphe <a class="reference internal" href="#fonction-sorted-enumerate"><span class="std std-ref">Indentation</span></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">str(o)</span></code></p></td>
<td><p>Retourne une chaîne de caractères qui représente l’objet <code class="docutils literal notranslate"><span class="pre">o</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sum(l)</span></code></p></td>
<td><p>Retourne la somme de l’ensemble <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">type(o)</span></code></p></td>
<td><p>Retourne le type de la variable <code class="docutils literal notranslate"><span class="pre">o</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zip(l1,l2,...)</span></code></p></td>
<td><p>Construit une liste de tuples au lieu d’un tuple de listes.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="constructions-classiques">
<h2>Constructions classiques<a class="headerlink" href="#constructions-classiques" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Il fait aller à
<a class="reference internal" href="constructions.html#l-constructions-classiques"><span class="std std-ref">Constructions classiques</span></a>.</p>
<p>Ces paragraphes qui suivent décrivent des schémas qu’on retrouve dans les
programmes dans de nombreuses situations. Ce sont des combinaisons simples
d’une ou deux boucles, d’un test, d’une liste, d’un dictionnaire.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="constructions.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Constructions classiques</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="types.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Types et variables du langage python</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2016-2023, Xavier Dupré
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Syntaxe du langage Python (boucles, tests, fonctions)</a><ul>
<li><a class="reference internal" href="#les-trois-concepts-des-algorithmes">Les trois concepts des algorithmes</a></li>
<li><a class="reference internal" href="#tests">Tests</a><ul>
<li><a class="reference internal" href="#definition-et-syntaxe">Définition et syntaxe</a></li>
<li><a class="reference internal" href="#comparaisons-possibles">Comparaisons possibles</a></li>
<li><a class="reference internal" href="#operateurs-logiques">Opérateurs logiques</a></li>
<li><a class="reference internal" href="#ecriture-condensee-test">Ecriture condensée (test)</a></li>
<li><a class="reference internal" href="#exemple-test">Exemple (test)</a></li>
<li><a class="reference internal" href="#none-true-et-1">None, True et 1</a></li>
<li><a class="reference internal" href="#passer-instruction-pass">Passer, instruction <code class="docutils literal notranslate"><span class="pre">pass</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#boucles">Boucles</a><ul>
<li><a class="reference internal" href="#boucle-while">Boucle while</a></li>
<li><a class="reference internal" href="#boucle-for">Boucle for</a></li>
<li><a class="reference internal" href="#listes-boucle-for-liste-en-extension">Listes, boucle for, liste en extension</a></li>
<li><a class="reference internal" href="#iterateurs">Itérateurs</a></li>
<li><a class="reference internal" href="#plusieurs-variables-de-boucles">Plusieurs variables de boucles</a></li>
<li><a class="reference internal" href="#ecriture-condensee-for">Ecriture condensée (for)</a></li>
<li><a class="reference internal" href="#pilotage-d-une-boucle-continue">Pilotage d’une boucle : continue</a></li>
<li><a class="reference internal" href="#pilotage-d-une-boucle-break">Pilotage d’une boucle : break</a></li>
<li><a class="reference internal" href="#fin-normale-d-une-boucle-else">Fin normale d’une boucle : else</a></li>
<li><a class="reference internal" href="#suppression-ou-ajout-d-elements-lors-d-une-boucle">Suppression ou ajout d’éléments lors d’une boucle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fonctions">Fonctions</a><ul>
<li><a class="reference internal" href="#definition-syntaxe">Définition, syntaxe</a></li>
<li><a class="reference internal" href="#exemple-for">Exemple (for)</a></li>
<li><a class="reference internal" href="#parametres-avec-des-valeurs-par-defaut">Paramètres avec des valeurs par défaut</a></li>
<li><a class="reference internal" href="#ordre-des-parametres">Ordre des paramètres</a></li>
<li><a class="reference internal" href="#surcharge-de-fonction">Surcharge de fonction</a></li>
<li><a class="reference internal" href="#commentaires">Commentaires</a></li>
<li><a class="reference internal" href="#parametres-modifiables">Paramètres modifiables</a></li>
<li><a class="reference internal" href="#fonction-recursive">Fonction récursive</a></li>
<li><a class="reference internal" href="#portee-des-variables-des-parametres">Portée des variables, des paramètres</a></li>
<li><a class="reference internal" href="#portee-des-fonctions">Portée des fonctions</a></li>
<li><a class="reference internal" href="#nombre-de-parametres-variable">Nombre de paramètres variable</a></li>
<li><a class="reference internal" href="#ecriture-simplifiee-pour-des-fonctions-simples-lambda">Ecriture simplifiée pour des fonctions simples : lambda</a></li>
<li><a class="reference internal" href="#fonctions-generateur">Fonctions générateur</a></li>
<li><a class="reference internal" href="#identificateur-appelable">Identificateur appelable</a></li>
<li><a class="reference internal" href="#compilation-dynamique-eval">Compilation dynamique (eval)</a></li>
<li><a class="reference internal" href="#compilation-dynamique-compile-exec">Compilation dynamique (compile, exec)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indentation">Indentation</a></li>
<li><a class="reference internal" href="#fonctions-usuelles">Fonctions usuelles</a></li>
<li><a class="reference internal" href="#constructions-classiques">Constructions classiques</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=bdd90cfe"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/translations.js?v=d99ca74e"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>