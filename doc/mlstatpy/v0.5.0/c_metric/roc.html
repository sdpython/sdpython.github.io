<!doctype html>
<html class="no-js" lang="fr" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Recherche" href="../search.html" /><link rel="next" title="ROC" href="../notebooks/metric/roc_example.html" /><link rel="prev" title="Métriques" href="index.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Courbe ROC - Documentation mlstatpy 0.5.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Documentation mlstatpy 0.5.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/project_ico.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Documentation mlstatpy 0.5.0</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Recherche" name="q" aria-label="Recherche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Mathematics</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_clus/index.html">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Clustering</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/kmeans.html">k-means</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/gauss_mixture.html">Mélange de lois normales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/kohonen.html">Carte de Kohonen</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index.html">Non linéaire</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Non linéaire</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/rn/rn.html">Réseaux de neurones</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Réseaux de neurones</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_1_def.html">Définition des réseaux de neurones multi-couches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_2_reg.html">La régression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_3_clas.html">La classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_4_densite.html">Démonstration du théorème de la densité des réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_5_newton.html">Descente de gradient</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_6_apprentissage.html">Apprentissage d’un réseau de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_7_clas2.html">Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_8_prol.html">Prolongements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_9_auto.html">Analyse en composantes principales (ACP) et Auto Encoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_biblio.html">Bibliographie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/kppv.html">Classification à l’aide des plus proches voisins</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/missing_values_mf.html">Liens entre factorisation de matrices, ACP, k-means</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Liens entre factorisation de matrices, ACP, k-means</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/mf_acp.html">Factorisation et matrice et ACP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/valeurs_manquantes_mf.html">Valeurs manquantes et factorisation de matrices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree.html">Un arbre de décision en réseaux de neurones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree_onnx.html">NeuralTreeNet et ONNX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree_cost.html">NeuralTreeNet et coût</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index_reg_lin.html">Régression linéaire</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Régression linéaire</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/regression_lineaire.html">Régression linéaire</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/regression_quantile.html">Régression quantile ou régression L1</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Régression quantile ou régression L1</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantile_regression_example.html">Régression quantile illustrée</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/piecewise.html">Régression linéaire par morceaux</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Régression linéaire par morceaux</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/piecewise_linear_regression.html">Régression linéaire par morceaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/regression_no_inversion.html">Régression sans inversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/l1l2.html">Normalisation des coefficients</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index_reg_log.html">Régression logistique</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Régression logistique</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/lr_voronoi.html">Régression logistique, diagramme de Voronoï, k-Means</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Régression logistique, diagramme de Voronoï, k-Means</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/logreg_voronoi.html">Voronoï et régression logistique</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/lr_trees.html">Régression logistique par morceaux, arbres de décision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/reseau_neurones.html">Réseaux de neurones</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/survival_analysis.html">Analyse de survie</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Analyse de survie</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/survival.html">Analyse de survie en pratique</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_nlp/index.html">NLP</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of NLP</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_nlp/completion.html">Complétion</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Complétion</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_formalisation.html">Formalisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_fausse.html">Fausses idées reçues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_metrique.html">Nouvelle métrique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_propriete.html">Propriétés mathématiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_optimisation.html">Problème d’optimisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_implementation.html">Implémentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_digression.html">Digressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Métriques</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Métriques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">Courbe ROC</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Courbe ROC</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/roc_example.html">ROC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pvalues.html">Confidence Interval and p-Value</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Confidence Interval and p-Value</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/pvalues_examples.html">p-values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_algo/index.html">Algorithmes</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Algorithmes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_algo/edit_distance.html">Distance d’édition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_algo/graph_distance.html">Distance between two graphs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_algo/gest.html">Détection de segments</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Détection de segments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image/segment_detection.html">Détection de segments dans une image</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_garden/index.html">Pérégrinations</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Pérégrinations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/split_train_test.html">Répartir en base d’apprentissage et de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/correlation_non_lineaire.html">Corrélations non linéaires</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_garden/file_dattente.html">File d’attente, un petit exemple</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of File d’attente, un petit exemple</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/file_dattente_ex.html">File d’attente, un exemple simple</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_garden/strategie_avec_alea.html">Optimisation avec données aléatoires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/discret_gradient.html">Le gradient et le discret</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_garden/quantization.html">Quantization</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Quantization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantization_f8.html">Quantization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/classification_multiple.html">Classification multiple</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/ml.html">Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/optim.html">Optimisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/text.html">Traitement du langage naturel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/data.html">Source de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/graph.html">Graphes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/image.html">Image</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/poulet.html">mlstatpy.garden.poulet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/graph_distance.html">mlstatpy.graph.graph_distance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/kppv.html">mlstatpy.ml.kppv</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/kppv_laesa.html">mlstatpy.ml.kppv_laesa</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/logreg.html">mlstatpy.ml.logreg</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/neural_tree.html">mlstatpy.ml.neural_tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/roc.html">mlstatpy.ml.roc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/completion.html">mlstatpy.nlp.completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/completion_simple.html">mlstatpy.nlp.completion_simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/sgd.html">mlstatpy.optim.sgd</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../i_ex.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../defthe_index.html">Listes des définitions et théorèmes</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../auto_examples/index.html">Gallery of examples</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Gallery of examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../auto_examples/plot_logistic_decision.html">Arbre d’indécision</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/index.html">Galleries de notebooks</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Galleries de notebooks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/dsgarden/index.html">Le petit coin des data scientists</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Le petit coin des data scientists</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/classification_multiple.html">Classification multiple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/correlation_non_lineaire.html">Corrélations non linéaires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/discret_gradient.html">Le gradient et le discret</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/file_dattente_ex.html">File d’attente, un exemple simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantile_regression_example.html">Régression quantile illustrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantization_f8.html">Quantization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/regression_lineaire.html">Régression linéaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/split_train_test.html">Répartir en base d’apprentissage et de test</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/image/index.html">Images</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Images</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image/segment_detection.html">Détection de segments dans une image</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/metric/index.html">Métriques</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Métriques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/pvalues_examples.html">p-values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/roc_example.html">ROC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/ml/index.html">Machine Learning</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Machine Learning</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/logreg_voronoi.html">Voronoï et régression logistique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/mf_acp.html">Factorisation et matrice et ACP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree.html">Un arbre de décision en réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree_cost.html">NeuralTreeNet et coût</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree_onnx.html">NeuralTreeNet et ONNX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/piecewise_linear_regression.html">Régression linéaire par morceaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/regression_no_inversion.html">Régression sans inversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/reseau_neurones.html">Réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/survival.html">Analyse de survie en pratique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/valeurs_manquantes_mf.html">Valeurs manquantes et factorisation de matrices</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/nlp/index.html">NLP - Natural Language Processing</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of NLP - Natural Language Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOGS.html">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOGS.html#id2">0.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/c_metric/roc.rst" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="courbe-roc">
<span id="l-roc-theoritically"></span><h1>Courbe ROC<a class="headerlink" href="#courbe-roc" title="Lien vers cette rubrique">¶</a></h1>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#definitions" id="id4">Définitions</a></p></li>
<li><p><a class="reference internal" href="#aire-sous-la-courbe" id="id5">Aire sous la courbe</a></p>
<ul>
<li><p><a class="reference internal" href="#expression" id="id6">Expression</a></p></li>
<li><p><a class="reference internal" href="#intervalles-de-confiance" id="id7">Intervalles de confiance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#intervalles-de-confiance-sur-la-courbe" id="id8">Intervalles de confiance sur la courbe</a></p>
<ul>
<li><p><a class="reference internal" href="#construction-de-la-courbe-roc" id="id9">Construction de la courbe ROC</a></p></li>
<li><p><a class="reference internal" href="#methode-boostrap" id="id10">Méthode boostrap</a></p></li>
<li><p><a class="reference internal" href="#aire-sous-la-courbe-et-intervalles-de-confiance" id="id11">Aire sous la courbe et intervalles de confiance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#distribution-des-scores-mauvais-et-bons" id="id12">Distribution des scores mauvais et bons</a></p></li>
<li><p><a class="reference internal" href="#variantes" id="id13">Variantes</a></p>
<ul>
<li><p><a class="reference internal" href="#taux-de-lecture-ou-de-reconnaissance" id="id14">Taux de lecture ou de reconnaissance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#classification-multi-classe" id="id15">Classification multi-classe</a></p></li>
<li><p><a class="reference internal" href="#exemple" id="id16">Exemple</a></p></li>
</ul>
</nav>
<p id="index-0">Ce document introduit la <a class="reference external" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic">courbe ROC</a>
(Receiving Operator Characteristic) qui est communément utilisée pour mesurer
la performance d’un classifieur. Il introduit aussi des termes comme précision,
rappel, <a class="reference external" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve">AUC</a>,
qui sont présents dans la plupart des articles qui traitent de machine learning.
Le module <a class="reference internal" href="../api/modules/roc.html#module-mlstatpy.ml.roc" title="mlstatpy.ml.roc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">roc</span></code></a> implémente les calculs ci-dessous
qu’on peut tester avec le notebook suivant :</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/metric/roc_example.html">ROC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/metric/roc_example.html#Iris-datasets">Iris datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/metric/roc_example.html#ROC-with-scikit-learn">ROC with scikit-learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/metric/roc_example.html#ROC---TPR-/-FPR">ROC - TPR / FPR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/metric/roc_example.html#ROC---score-distribution">ROC - score distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/metric/roc_example.html#ROC---recall-/-precision">ROC - recall / precision</a></li>
</ul>
</li>
</ul>
</div>
<section id="definitions">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Définitions</a><a class="headerlink" href="#definitions" title="Lien vers cette rubrique">¶</a></h2>
<p>Supposons que nous avons un classifieur qui classe des observations en un ensemble de
classes. De plus, il donne cette réponse accompagnée d’un score de pertinence.
Deux cas sont possibles : soit la réponse est bonne (1), soit la réponse est fausse (0).
Pour chaque observation, on associe un couple <img class="math" src="../_images/math/834a483bde8955076e47fb236e3f933d8c45c5d7.svg" alt="(r,x)"/> où <img class="math" src="../_images/math/836730797b102ff90290f17be16852086b5196e8.svg" alt="r"/> est égal à 0 ou 1.
<img class="math" src="../_images/math/cdd160a57af92571d6838c69c7bde600843a23bf.svg" alt="x"/> est le score de pertinence. On cherche à déterminer à partir de quel
seuil de pertinence, la réponse du classifieuur est fiable.
En faisant varier <img class="math" src="../_images/math/cdd160a57af92571d6838c69c7bde600843a23bf.svg" alt="x"/>, on obtient une courbe
(source : <a class="reference external" href="http://en.wikipedia.org/wiki/File:Roccurves.png">wikipedia</a>) :</p>
<a class="reference internal image-reference" href="../_images/Roccurves.png"><img alt="../_images/Roccurves.png" src="../_images/Roccurves.png" style="width: 300px;" />
</a>
<p>Cette courbe sert également à comparer différents classifieurs.
Plus une courbe a des valeurs élevées, plus l’aire sous la courbe
est grande, moins le classifieur fait d’erreur.</p>
<p>D’une manière simplifiée, le classifieur retourne une réponse qui est soit
mauvaise (-) soit bonne (+). On peut l’évaluer car pour construire
un classifier on dispose toujours d’une base contenant les réponses attendues.
En fonction du score <img class="math" src="../_images/math/cdd160a57af92571d6838c69c7bde600843a23bf.svg" alt="x"/> et d’un seuil <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>, on définit quatre cas :</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>cas</p></th>
<th class="head"><p>réponse prédite est bonne (+)</p></th>
<th class="head"><p>réponse prédite est mauvaise (-)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><img class="math" src="../_images/math/6b72ebc82a227644d9b6e69a2ce18b2f87286610.svg" alt="x \supegal s"/></p></td>
<td><p>TP: vrai (true) positif</p></td>
<td><p>FP: faux positif</p></td>
</tr>
<tr class="row-odd"><td><p><img class="math" src="../_images/math/c092c0ec4b8ab2edb5835c381dd214e7034f9cb3.svg" alt="x &lt; s"/></p></td>
<td><p>TN: vrai (true) négatif</p></td>
<td><p>FN: faux négatif</p></td>
</tr>
</tbody>
</table>
</div>
<p>Ces résultats sont souvent présentés selon une matrice confusion :</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>réponse attendue</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>TN</p></td>
<td><p>FP</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>FN</p></td>
<td><p>TP</p></td>
</tr>
</tbody>
</table>
</div>
<p id="index-1">A partir de ces définitions, on définit :</p>
<ul class="simple">
<li><p>la <a class="reference external" href="https://en.wikipedia.org/wiki/Information_retrieval#Precision">précision</a> :
<img class="math" src="../_images/math/bac5f7b4d64c2dac184eae7edcccf2a2142dd365.svg" alt="\frac{ TP }{ TP + FP }"/></p></li>
<li><p>le <a class="reference external" href="https://en.wikipedia.org/wiki/Information_retrieval#Recall">rappel ou recall</a> :
<img class="math" src="../_images/math/6fde3252123e1def18b5685ba4e10ad5e7b820c0.svg" alt="\frac{ TP }{ TP + TN }"/></p></li>
</ul>
<p>En choisissant un seuil relatif au score de pertinence <img class="math" src="../_images/math/cdd160a57af92571d6838c69c7bde600843a23bf.svg" alt="x"/>,
au-dessus, on valide la réponse du classifieur, en-dessous,
on ne la valide pas. On peut toujours calculer la précision et le
rappel pour toutes les réponses dont le score est au-dessus d’un seuil <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>.
La courbe ROC s’obtient en faisant varier <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Définition0">
<div class="docutils container">
</div>
<p class="admonition-title" id="def-roc-2">Définition D1 : Courbe ROC</p>
<p>On suppose que <img class="math" src="../_images/math/b59453388a752e340d555df9064bfb27e7112e68.svg" alt="Y"/> est la variable aléatoire des scores
des expériences qui ont réussi.
<img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> est celle des scores des expériences qui ont échoué.
On suppose également que tous les scores sont indépendants.
On note <img class="math" src="../_images/math/23c64f7b2d73d8c70307824a09744eb85f44cb95.svg" alt="F_Y"/> et <img class="math" src="../_images/math/2611841a4e7564ab01c9b6c7503c94bb646c3c2d.svg" alt="F_X"/> les fonctions de répartition de ces variables.
<img class="math" src="../_images/math/c231d4abda1d7b2a96e5413b0bd0b369e2d28402.svg" alt="F_Y(s)=\pr{Y \leqslant s}"/> et <img class="math" src="../_images/math/aed9984fb8d121e767841ab09cfeaea3c2eb2358.svg" alt="F_X(s)=\pr{X \leqslant s}"/>.
On définit en fonction d’un seuil <img class="math" src="../_images/math/3df74bd483f34963672608b95a0b1b375eea4b16.svg" alt="s \in \mathbb{R}"/> :</p>
<ul class="simple">
<li><p><img class="math" src="../_images/math/243f743bfbf373ae0a11920d7b2a41066f28c352.svg" alt="R(s) = 1 - F_Y(s) = \pr{Y &gt; s}"/></p></li>
<li><p><img class="math" src="../_images/math/57571fa3d0bcc9986b0c75ddcab9011a4db4e98c.svg" alt="E(s) = 1 - F_X(s) = \pr{X &gt; s}"/></p></li>
</ul>
<p>La courbe ROC est le graphe <img class="math" src="../_images/math/1e0290f57a435f46d173f69fd2ca7dbaa093ec73.svg" alt="\pa{E(s),R(s)}"/> lorsque <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/> varie dans <img class="math" src="../_images/math/f49a750850bc9ec26b3621d297f7d2c2a8742034.svg" alt="\mathbb{R}"/>.</p>
</div>
<p><img class="math" src="../_images/math/ed57b74e4b2a880b937e400f3973c4162c367278.svg" alt="TP(s)"/> désigne les true positifs au-dessus du seuil <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>,
avec les notations <em>TP</em>, <em>FP</em>, <em>FN</em>, <em>TN</em>, cela revient à :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/d3492984c3d4410811a739c057904d920c97758a.svg" alt="\begin{eqnarray*}
E(s) &amp;=&amp; 1 - \frac{ TP(s) } { TP(s) + TN(s) } \\
R(s) &amp;=&amp; 1 - \frac{ FN(s) } { FP(s) + FN(s) }
\end{eqnarray*}"/></p>
</div></div>
<p>On remarque que <img class="math" src="../_images/math/1e934b58f7518b4deb3df9ac3f0bde4c49b4dfb6.svg" alt="\forall s, \; TP(s) + TN(s)"/> est constant.
De même pour <img class="math" src="../_images/math/e7f6f14c44ddf36d4fb1a5125364517e6eabb840.svg" alt="FP(s) + FN(s)"/>.</p>
<a class="reference internal image-reference" href="../_images/rocwi.png"><img alt="../_images/rocwi.png" src="../_images/rocwi.png" style="width: 500px;" />
</a>
<p>On remarque que les fonctions <img class="math" src="../_images/math/eb5022e6f711c42be1b77f4b913297c96be0bb83.svg" alt="s \longrightarrow E(s)"/>
et <img class="math" src="../_images/math/8c86fb4ea239c42b8a4febdcd225a0ffcd70028f.svg" alt="s \longrightarrow R(s)"/>
sont décroissantes toutes deux. Elles sont donc inversibles.
Dans le cas où la variable aléatoire <img class="math" src="../_images/math/38b8dfb3d1a10a5197333bf027a6a9c326563ed9.svg" alt="\theta"/> est indépendante de
la variable <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/>, la courbe ROC est une droite reliant les points
<img class="math" src="../_images/math/4091c8d99e58ff3dfe798de4c8361c0001b1b45e.svg" alt="(0,0)"/> et <img class="math" src="../_images/math/8b52cc575ae1d39a82e3ded384c38d9813b07474.svg" alt="(1-p,p)"/> où <img class="math" src="../_images/math/6ad1f5b267f104b0ce0e60dc61388e311ddb2fed.svg" alt="p = \pr{\theta=1}"/>.
Ceci signifie que la connaissance du score <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/>
n’apporte pas d’information quant à la réussite de l’expérience.</p>
<p>Il peut paraître complexe de distinguer la réponse et le score du classifieur.
C’est pourtant nécessaire dans le cas où le classifieur retourne un entier
qui désigne une classe parmi <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/>. Un cas positif est lorsque la
classe prédite est égale à la classe attendue, il est négatif dans le
cas contraire. La courbe peut être adaptée pour d’autres problèmes
tels que le ranking (voir <a class="reference internal" href="#agarwal2005" id="id2"><span>[Agarwal2005]</span></a>).</p>
<p>Une autre façon de l’exprimer car je ne retiens jamais la définition
des FP, TP, FN, TN… Pour quelqu’un qui doit réfléchir trois secondes
à chaque fois qu’on me demande où est la gauche, ce n’est jamais
évident.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/b15c03abeb603b9a78c271de15f2327e75dc873e.svg" alt="\begin{array}{rcl}
N_+ &amp;=&amp; \sum_{i=1}^n \indicatrice{y_i == 1}\\
TPR(s) &amp;=&amp; \frac{1}{N_+}\sum_{i=1}^n \indicatrice{score(X_i) \geqslant s}\indicatrice{y_i == 1}\\
FPR(s) &amp;=&amp; \frac{1}{1 - N_+}\sum_{i=1}^n \indicatrice{score(X_i) \geqslant s}\indicatrice{y_i \neq 1}
\end{array}"/></p>
</div></div>
<p><em>x = FPR(s), y = TPR(s)</em>. (FPR = False Positive Rate, TPR = True Positive Rate)</p>
<a class="reference internal image-reference" href="../_images/rocwi2.png"><img alt="../_images/rocwi2.png" src="../_images/rocwi2.png" style="width: 300px;" />
</a>
</section>
<section id="aire-sous-la-courbe">
<span id="index-2"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Aire sous la courbe</a><a class="headerlink" href="#aire-sous-la-courbe" title="Lien vers cette rubrique">¶</a></h2>
<section id="expression">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Expression</a><a class="headerlink" href="#expression" title="Lien vers cette rubrique">¶</a></h3>
<p>L’aire sous la courbe (AUC) correspond à l’intégrale de la fonction ROC.
Elle se calcule à partir du théorème suivant :</p>
<div class="admonition-mathdef admonition" id="indexmathe-Théorème0">
<p class="admonition-title">Théorème T1 : Aire sous la courbe (AUC)</p>
<p>On utilise les notations de la définition de la <a class="reference internal" href="#def-roc-2"><span class="std std-ref">Courbe ROC</span></a>.
L’aire sous la courbe ROC est égale à <img class="math" src="../_images/math/307b76ba45b7b520563fb10170bf60111a1b3bb6.svg" alt="\pr{ Y &gt; X}"/>.</p>
</div>
<p><strong>Rappel</strong></p>
<p>Soit <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> une variable aléatoire de densité <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/> et
de fonction de répartition <img class="math" src="../_images/math/d3df781b97caf23fd84697ec8aac41efdf4f6793.svg" alt="F"/>. Si <img class="math" src="../_images/math/b8a7faa6e041b6574249a7c8b7dac116b35a9285.svg" alt="U = F(X)"/>, alors :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/7bd8ffd142638c34e2b5dfca49df7f4e7b63e342.svg" alt="\pr{ U \leqslant t} = \pr{ F(X) \leqslant t} =
\pr{ X \leqslant F^{-1}(t)} = F \pa{ F^{-1}(t) } = t"/></p>
</div></div>
<p>La variable <img class="math" src="../_images/math/711e809ffdf4007a2202020da1fe86f6ba3f13d1.svg" alt="U"/> est de loi uniforme sur <img class="math" src="../_images/math/489397ecb18cc5f4c6c3261586aa60ca231d3657.svg" alt="\cro{0,1}"/>.
De plus, soit <img class="math" src="../_images/math/3a8d8bad8d0f9dcf76fdcc134f09a2a698f2d77f.svg" alt="g"/> une fonction intégrable quelconque, on pose <img class="math" src="../_images/math/ad9650cac2a388c1a7cbe6f152800b70ca31ee4e.svg" alt="u = F(x)"/> et :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/561b491635b9372e43a934e6fcb9b1dcb7f9879b.svg" alt="\int_{\mathbb{R}} g(x) \, f(x) \,dx = \int_{\cro{0,1}} g(F^{-1}(u)) \, du"/></p>
</div></div>
<p><strong>Démonstration</strong></p>
<p>On note <img class="math" src="../_images/math/f696aa8b745774e3457cdc878aa064c1d85322d6.svg" alt="f_X"/> la densité de la variable <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> et <img class="math" src="../_images/math/c087d4c70dc0e298b19631a53c296e92459383a6.svg" alt="f_Y"/>
celle de la variable <img class="math" src="../_images/math/b59453388a752e340d555df9064bfb27e7112e68.svg" alt="Y"/>. On peut alors définir la probabilité
<img class="math" src="../_images/math/307b76ba45b7b520563fb10170bf60111a1b3bb6.svg" alt="\pr{ Y &gt; X}"/> par une intégrale :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/492e44772a4e3af36305b89dd8a55b2acdd08a9f.svg" alt="\begin{eqnarray*}
P \pa{Y&gt;X} &amp;=&amp; \int_x \int_y f_X(x) \; f_Y(y) \; \indicatrice{y &gt; x} dx dy
\end{eqnarray*}"/></p>
</div></div>
<p>On note <img class="math" src="../_images/math/2611841a4e7564ab01c9b6c7503c94bb646c3c2d.svg" alt="F_X"/> la fonction de répartition de
<img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> soit <img class="math" src="../_images/math/72b563453f480dd7f3a7aef94d8939328a1d100a.svg" alt="F_X(x) = \int_{-\infty}^x f_X(u)du"/>.
On pose comme changement de variable : <img class="math" src="../_images/math/b30c43870951839c1789ed77218967c82577d653.svg" alt="u = F_X(x)"/>.
On en déduit que <img class="math" src="../_images/math/e7dec057bc07d5acd9856421a04d42ddf5fc89fc.svg" alt="du = f_X(x) dx"/>. La variable aléatoire <img class="math" src="../_images/math/e9ff625cf8b8d523c09ce59a9195d4cbffd06847.svg" alt="U = F_X(X)"/>
est uniforme et comprise dans <img class="math" src="../_images/math/489397ecb18cc5f4c6c3261586aa60ca231d3657.svg" alt="\cro{0,1}"/>.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/26927cba1480fa2505f9359d6aaac468e6e14d51.svg" alt="\begin{eqnarray*}
P \pa{Y&gt;X} &amp;=&amp; \int_x f_X(x) dx \int_y  \; f_Y(y) \; \indicatrice{y &gt; x} dy  \\
&amp;=&amp; \int_u du \int_y  \; f_Y(y) \; \indicatrice{y &gt; F_X^{-1}(u)} dy   \\
&amp;=&amp; \int_u du \; \pr{Y &gt; F_X^{-1}(u)} \nonumber
\end{eqnarray*}"/></p>
</div></div>
<p>Or si <img class="math" src="../_images/math/cf648462bdcb27b4512ee99e0c3fc3864bfbcfba.svg" alt="u = F_X(s) = E(s)"/>, alors <img class="math" src="../_images/math/55e24a128e1af49ff081eac7fa47c20d41091cbd.svg" alt="F_X^{-1}(u) = s"/>
et <img class="math" src="../_images/math/acfe8f90197a003f133e22051499ceb46f4c8206.svg" alt="\pr{Y &gt; F_X^{-1}(u)} = R'(s)"/>. Par conséquent :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/81671dee8df546ca1f31c61dfea75f016daa01b1.svg" alt="P \pa{Y&gt;X} = \int_u du \; \pr{Y &gt; F_X^{-1}(u)} = \int_u du \; R'(F_X^{-1}(u))"/></p>
</div></div>
<p id="index-3">Cette dernière expression est l’aire recherchée.
Ce théorème nous permet de définir un estimateur pour l’aire sous
la courbe ROC à l’aide des <a class="reference external" href="https://en.wikipedia.org/wiki/U-statistic">U-statistiques</a>
de <a class="reference external" href="https://fr.wikipedia.org/wiki/Test_de_Wilcoxon-Mann-Whitney">Mann-Whitney</a>
(voir <a class="reference internal" href="#saporta1990" id="id3"><span>[Saporta1990]</span></a>).</p>
<div class="admonition-mathdef admonition" id="indexmathe-Corollaire0">
<div class="docutils container">
</div>
<p class="admonition-title" id="corollaire-roc-2">Corollaire C1 : Estimateur de l’aire sous la courbe ROC</p>
<p>On dispose des scores <img class="math" src="../_images/math/798221cd5e4886e0a7fe762dadb58414d979b761.svg" alt="\vecteur{Y_1}{Y_n}"/> des expériences qui ont réussi
et <img class="math" src="../_images/math/78e2ada3e84972831d0c1bf9485270d088f37de5.svg" alt="\vecteur{X_1}{X_m}"/> les scores des expériences qui ont échoué.
On suppose également que tous les scores sont indépendants.
Les scores <img class="math" src="../_images/math/9f52d5eea733fc02cbe44bafa7f8f7015452f524.svg" alt="(Y_i)"/> sont identiquement distribués,
il en est de même pour les scores <img class="math" src="../_images/math/27472567e50161aef46885272e223c61b9956296.svg" alt="(X_i)"/>.
Un estimateur de l’aire <img class="math" src="../_images/math/5fdb7ef407cf673109e4443028c7e8898ee8c89e.svg" alt="A"/> sous la courbe ROC” est :</p>
<div class="math-wrapper docutils container" id="equation-estimateur-roc">
<div class="math" id="equation-estimateur-roc">
<p><span class="eqno">(1)<a class="headerlink" href="#equation-estimateur-roc" title="Lien vers cette équation">¶</a></span><img src="../_images/math/dc4d8fb0753356145e36d6fc7dfc7ae605c742bf.svg" alt="\hat{A} = \frac{1}{nm} \; \sum_{i=1}^{m}\sum_{j=1}^{n}
\pa{\indicatrice{ Y_j &gt; X_i} + \frac{1}{2} \indicatrice{ Y_j = X_i}}"/></p>
</div></div>
</div>
<p><strong>Démonstration</strong></p>
<p>La démonstration est évidente :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/2de1a0ef9f7659360eb6d502407414108a44c690.svg" alt="\esp\pa{\hat{A}} = \frac{1}{nm} \; \sum_{i=1}^{m}\sum_{j=1}^{n}
\pa{\pr{ Y_j &gt; X_i} + \frac{1}{2} \pr{X_i=Y_j}} =
\pr{ Y &gt; X} + \frac{1}{2}\pr{ Y = X}"/></p>
</div></div>
<p>Dans le cas où <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> ou <img class="math" src="../_images/math/b59453388a752e340d555df9064bfb27e7112e68.svg" alt="Y"/> sont continues, <img class="math" src="../_images/math/eb828fa51f206914ab71568f18f716b3ba2622b3.svg" alt="\pr{X=Y} = 0"/>.</p>
</section>
<section id="intervalles-de-confiance">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Intervalles de confiance</a><a class="headerlink" href="#intervalles-de-confiance" title="Lien vers cette rubrique">¶</a></h3>
<p>Il est possible de déterminer un intervalle de confiance pour cet estimateur.
Le théorème central limite nous permet de dire que cet estimateur tend vers
une loi normale lorsque <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/> et <img class="math" src="../_images/math/435b11e0dbea2eaa16cbb0b93b9266e88b4a5b4c.svg" alt="m"/> tendent vers l’infini.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Corollaire1">
<p class="admonition-title">Corollaire C2 : Variance de l’estimateur AUC</p>
<p>On note <img class="math" src="../_images/math/1deb8069fbab6917b58a148cad65729743a12b2c.svg" alt="P_X = \pr{ X &lt; \min\acc{Y_i,Y_j }}"/> et <img class="math" src="../_images/math/d720a85afbbb1432c8b5dc32b27ab3ebca9291f7.svg" alt="P_Y = \pr { \max\acc{X_i,X_j} &lt; Y}"/>.
<img class="math" src="../_images/math/c15b262677ad7177c2e37298a2eb382d712b3a52.svg" alt="X_i"/> et <img class="math" src="../_images/math/25986efa82de2a6051527bb4b54b06129c92234f.svg" alt="X_j"/> sont de même loi que <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/>, <img class="math" src="../_images/math/e63ad1df0bd53729398b2396d31657f135c528dc.svg" alt="Y_i"/>, <img class="math" src="../_images/math/54f5fabd4881ff17ef57f184c8a5fd73d07cc76c.svg" alt="Y_j"/> sont de même loi que <img class="math" src="../_images/math/b59453388a752e340d555df9064bfb27e7112e68.svg" alt="Y"/>.
La variance de l’estimateur <img class="math" src="../_images/math/793d4375f2ea3322e7527e8edf0a1fca2779106e.svg" alt="\hat{A}"/> définie par <a class="reference internal" href="#equation-estimateur-roc">(1)</a> est :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/95208e17418fa4635b7bc3e177449c03fd2bd48f.svg" alt="\var{\hat{A}} = \frac{ \hat{A} (1-\hat{A})}{nm} \; \cro{
1 + (n-1) \frac { P_Y  - \hat{A}^2 } { \hat{A} (1-\hat{A}) } +
(m-1) \frac { P_X - \hat{A}^2 } { \hat{A} (1-\hat{A}) } }"/></p>
</div></div>
</div>
<p><strong>Démonstration</strong></p>
<p>Cette démonstration n’est vraie que dans le cas continu.
Par conséquent, <img class="math" src="../_images/math/eb828fa51f206914ab71568f18f716b3ba2622b3.svg" alt="\pr{X=Y} = 0"/>. On calcule tout d’abord <img class="math" src="../_images/math/b5f4ff755e7c1e9ff50eaea8f5dbae07db990831.svg" alt="\esp{\hat{A}^2}"/>
et on utilise le fait que <img class="math" src="../_images/math/40591f060587bc1aa6e1cc8a90d04fe68d41894f.svg" alt="\var{\hat{A}} = \esp\pa{\hat{A}^2} - \hat{A}^2"/>.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/ab8f3a1b2f4d3929b34506cf3043cd23a096678d.svg" alt="\hat{A}^2 = \frac{1}{n^2 m^2}  \cro{ \sum_{i=1}^{m}\sum_{j=1}^{n} \indicatrice{ X_i &lt; Y_j} } ^2
= \frac{1}{n^2 m^2} \sum_{i=1}^{m}\sum_{j=1}^{n}\sum_{k=1}^{m}\sum_{l=1}^{n}
\indicatrice{ X_i &lt; Y_j}  \indicatrice{ X_k &lt; Y_l}"/></p>
</div></div>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/7e970bf881eb2d50cbc33c9eb6f7f43346c3a448.svg" alt="\begin{array}{rcl}
\hat{A}^2 &amp;=&amp; \frac{1}{n^2 m^2} \sum_{i=1}^{m}\sum_{j=1}^{n} \indicatrice{ X_i &lt; Y_j} \\
&amp;&amp; + \frac{1}{n^2 m^2}  \sum_{i=1}^{m}\sum_{j=1}^{n}\sum_{k \neq i} \indicatrice{ X_i &lt; Y_j}  \indicatrice{ X_k &lt; Y_j} \\
&amp;&amp; + \frac{1}{n^2  m^2} \sum_{i=1}^{m}\sum_{j=1}^{n}\sum_{l \neq j} \indicatrice{ X_i &lt; Y_j}  \indicatrice{ X_i &lt; Y_l}  \\
&amp;&amp; +\frac{1}{n^2  m^2} \sum_{i=1}^{m}\sum_{j=1}^{n}\sum_{k \neq i}\sum_{l \neq j} \indicatrice{ X_i &lt; Y_j}  \indicatrice{ X_k &lt; Y_l}
\end{array}"/></p>
</div></div>
<p>On en déduit que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/87f8e6d03a3000bbc81f0c5abbd594fe1d48582d.svg" alt="\begin{eqnarray*}
\esp{\hat{A}^2} &amp;=&amp;    \frac{\hat{A}}{nm} + \frac{n-1 }{nm} \; \pr{ \max\acc{X_i,X_k} &lt; Y_j}  + \nonumber \\ &amp;&amp;
\frac{m-1 }{nm} \;  \pr{ X_i &lt; \min\acc{Y_j,Y_l}} +  \frac{nm-n-m-1 }{n m} \;  \hat{A}^2 \\
\var{\hat{A}^2} &amp;=&amp;    \frac{1}{nm} \cro{ \hat{A} + (n-1) P_Y + (m-1) P_X - (n+m+1) \hat{A}^2 } \nonumber \\
&amp;=&amp;    \frac{1}{nm} \cro{ \hat{A} + (n-1) \pa{P_Y - \hat{A}^2}+ (m-1) \pa{P_X - \hat{A}^2} + \hat{A}^2 }
\end{eqnarray*}"/></p>
</div></div>
<p>On retrouve l’expression cherchée.</p>
</section>
</section>
<section id="intervalles-de-confiance-sur-la-courbe">
<span id="roc-confiance-inter"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Intervalles de confiance sur la courbe</a><a class="headerlink" href="#intervalles-de-confiance-sur-la-courbe" title="Lien vers cette rubrique">¶</a></h2>
<p>Les systèmes de reconnaissance sont souvent ajustés de telle manière
que le taux d’erreur soit constant, par exemple 1%. C’est la proportion de documents
reconnus qui détermine la performance de ce système. L’objectif ce paragraphe
est de déterminer un intervalle de confiance du taux de reconnaissance
pour un taux d’erreur fixé.</p>
<section id="construction-de-la-courbe-roc">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Construction de la courbe ROC</a><a class="headerlink" href="#construction-de-la-courbe-roc" title="Lien vers cette rubrique">¶</a></h3>
<p>Ce premier paragraphe détaille la manière dont
est construite une courbe ROC (voir <a class="reference internal" href="#def-roc-2"><span class="std std-ref">Courbe ROC</span></a>).</p>
<div class="admonition-mathdef admonition" id="indexmathe-Algorithme0">
<div class="docutils container">
</div>
<p class="admonition-title" id="algo-courb-roc">Algorithme A1 : Calcul de la courbe ROC</p>
<p>On suppose qu’on dispose d’un ensemble de points <img class="math" src="../_images/math/8f38d36475f16a7a4712258eb7d092ecfcdc3d71.svg" alt="\pa{X_i,\theta_i}
\in \mathbb{R} \times \acc{0,1}"/> pour <img class="math" src="../_images/math/8a5c8a842a03ba20d1de1da87acd7c50b75a50dd.svg" alt="i \in \ensemble{1}{n}"/>.
<cite>X_i</cite> est le score obtenu pour l’expérience <img class="math" src="../_images/math/6c9c36eeb0679ad71efe34ded19d79168983fb38.svg" alt="i"/>,
<cite>theta_i</cite> vaut 1 si elle a réussi et 0 si elle a échoué.
On suppose également que cette liste est triée par ordre croissant :
<cite>forall i, ; X_i leqslant X_{i+1}</cite>.
On souhaite également tracer <img class="math" src="../_images/math/312028c07e271534bd0dbde5434e49e76880744f.svg" alt="k"/> points sur la courbe, on détermine pour cela <img class="math" src="../_images/math/312028c07e271534bd0dbde5434e49e76880744f.svg" alt="k"/> seuils
<cite>ensemble{s_1}{s_k}</cite> définis par : <img class="math" src="../_images/math/fb97325c74f3d13dc139656bf552aed7b914eacd.svg" alt="\forall j, s_k = X_{\frac{j \, k}{n}}"/>.</p>
<p>On construit ensuite les points <img class="math" src="../_images/math/1022087932dbabdce01eefa84b24b5bfb2bf9777.svg" alt="\pa{R_j,E_j}"/> définis par :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/3e71a77c926156bcf920637cb84d7780b106c5b3.svg" alt="\begin{eqnarray*}
R_j &amp;=&amp; \frac{1}{n}\,  \sum_{i=1}^{n} \theta_i \indicatrice{X_i \supegal s_j} \text{ et }
E_j = \frac{1}{n}  \, \sum_{i=1}^{n} \pa{1-\theta_i} \; \indicatrice{X_i \supegal s_j}
\end{eqnarray*}"/></p>
</div></div>
<p>La courbe ROC est composée de l’ensemble <img class="math" src="../_images/math/aae66a81f7e56a1cd83a981c99287d84d685d154.svg" alt="R_{OC} = \acc{ \pa{E_j,R_j} | 1 \leqslant j \leqslant k}"/>.</p>
</div>
<p>Les deux suites <img class="math" src="../_images/math/818a97d604969bd5fecc5b4a12423b683c494f7c.svg" alt="(R_j)_j"/> et <img class="math" src="../_images/math/86deda22a0474eabf2a957f12da614b75c01a993.svg" alt="(E_j)_j"/> sont toutes les deux décroissantes
d’après leur définition. La courbe peut être rendue continue par interpolation.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Définition1">
<div class="docutils container">
</div>
<p class="admonition-title" id="algo-courb-taux-lin">Définition D2 : taux de classification à erreur fixe</p>
<p>On cherche un taux de reconnaissance pour un taux d’erreur donné.
On dispose pour cela d’une courbe ROC obtenue par
l’algorithme de la <a class="reference internal" href="#algo-courb-roc"><span class="std std-ref">courbe ROC</span></a> et définie par les points
<img class="math" src="../_images/math/e55b6ccbdbfea45a5c1c4c70d769dc337a2d59de.svg" alt="R_{OC} = \acc{ \pa{e_j,r_j} | 1 \leqslant j \leqslant k}"/>.
On suppose ici que <img class="math" src="../_images/math/166b90415bfaf26e2ca7531963a223213fe4a7d2.svg" alt="\pa{e_1,r_1} = \pa{1,1}"/> et <img class="math" src="../_images/math/d511b9eb0497eb9ffe6733c7ea823c1565d34090.svg" alt="\pa{e_k,r_k} = \pa{0,}"/>.
Si ce n’est pas le cas, on
ajoute ces valeurs à l’ensemble <img class="math" src="../_images/math/bc263c62deacf247e427c3960852c90a061d0494.svg" alt="R_{OC}"/>.</p>
<p>Pour un taux d’erreur donné <img class="math" src="../_images/math/c42f6309e0ebf4ea3f0da6e21bb8a4aeadba46ca.svg" alt="e^*"/>, on cherche <img class="math" src="../_images/math/3d48c83720f7d75a2d02d5652895ae2ddd7ea863.svg" alt="j^*"/> tel que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/3628c61cf18b736a2561abb4ff8e68feeba1297b.svg" alt="e_{j^*+1} \leqslant e^* \leqslant e_{j^*}"/></p>
</div></div>
<p>Le taux de reconnaissance <img class="math" src="../_images/math/b95278abb7cfa1b57b5d17c35dd868e53945f940.svg" alt="\rho"/> cherché est donné par :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/c4cd55518d0636ace6b879da7ea7de92c340ddf2.svg" alt="\rho =  \frac{e^* - x_{j^*}} { x_{j^*+1} - x_{j^*} } \; \cro{ r_{j^*+1} - r_{j^*} } + r_{j^*}"/></p>
</div></div>
</div>
<p>Il ne reste plus qu’à détailler la méthode <em>bootstrap</em>.</p>
</section>
<section id="methode-boostrap">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Méthode boostrap</a><a class="headerlink" href="#methode-boostrap" title="Lien vers cette rubrique">¶</a></h3>
<p id="index-4">Une seule courbe ROC ne permet d’obtenir qu’un seul taux. On cherche ici à
construire plusieurs courbes ROC à partir de la même expérience de façon à
obtenir plusieurs taux de reconnaissance pour le même taux d’erreur.
De cette manière, il sera possible de déterminer un intervalle de confiance.
On s’inspire pour cela des méthodes de <a class="reference external" href="https://fr.wikipedia.org/wiki/Bootstrap_(statistiques)">bootstrap</a>.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Algorithme1">
<div class="docutils container">
</div>
<p class="admonition-title" id="roc-boostrap-algo">Algorithme A2 : Courbe ROC, méthode boostrap</p>
<p>On dispose toujours du nuage de points
<img class="math" src="../_images/math/fbe757e000e3548fec8df7799a12b446602273a7.svg" alt="E = \pa{X_i,\theta_i} \in \mathbb{R} \times \acc{0,1}"/> avec <img class="math" src="../_images/math/8a5c8a842a03ba20d1de1da87acd7c50b75a50dd.svg" alt="i \in \ensemble{1}{n}"/>.
On choisit <img class="math" src="../_images/math/414038fcd53c83b4f1c1417ae5846b8e0ab64670.svg" alt="C \in \N"/> le nombre de courbes ROC qu’on désire tracer.
Pour chaque courbe <img class="math" src="../_images/math/d3833c772eec45fab8de47f08d2fb957281cf644.svg" alt="c \in \ensemble{1}{C}"/> :</p>
<ul class="simple">
<li><p>On construit un nouvel ensemble <img class="math" src="../_images/math/915cb16433f83d53e2b8e5cfc174c1b1e5b49cd2.svg" alt="\pa{X'_i,\theta'_i}_{1 \leqslant i \leqslant n}"/>
construit par un tirage aléatoire dans l’ensemble <img class="math" src="../_images/math/c97c80efe8bcdc2e21d554f8f8b6e8653a062515.svg" alt="E"/> avec remise.</p></li>
<li><p>L’algorithme de la <a class="reference internal" href="#algo-courb-roc"><span class="std std-ref">courbe ROC</span></a> permet de constuire la courbe <img class="math" src="../_images/math/cfea1f69ed98dffe5c77fd92cefccd1b441ad29a.svg" alt="R_{OC}^k"/>.</p></li>
<li><p>L’algorithme de <a class="reference internal" href="#algo-courb-taux-lin"><span class="std std-ref">taux de classification à erreur fixe</span></a> permet ensuite de déterminer
un taux de reconnaissance <img class="math" src="../_images/math/7cba12337c0973570ea09fecd76f4a5d6427764e.svg" alt="\rho_k"/> pour le taux d’erreur <img class="math" src="../_images/math/c42f6309e0ebf4ea3f0da6e21bb8a4aeadba46ca.svg" alt="e^*"/>.</p></li>
</ul>
<p>La liste <img class="math" src="../_images/math/31fbfc840f4232fb6e86365ff2e71b53a638f003.svg" alt="\vecteur{\rho_1}{\rho_C}"/> est triée par ordre croissant.
Les quantiles sont ensuite utilisés pour
déterminer l’intervalle de confiance <img class="math" src="../_images/math/d1e9d162c5479f0f280868c61dbfb65f70e0fd25.svg" alt="\cro{\rho_1,\rho_2}"/>
du taux de reconnaissance  pour le taux d’erreur <img class="math" src="../_images/math/c42f6309e0ebf4ea3f0da6e21bb8a4aeadba46ca.svg" alt="e^*"/> de telle sorte que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/b76186dacafa632adf91d8b34ebfbe4fb2ae515f.svg" alt="\pr{ \rho \in \cro{ \rho_1, \rho_2 } } = 1 - \alpha"/></p>
</div></div>
<p>On prend généralement <img class="math" src="../_images/math/c3c9b6698b37c5c5ebc452a230941abaebff6b48.svg" alt="\alpha = 0.05"/>.</p>
</div>
<p>Cet algorithme aboutit aux résultats suivants :</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../_images/roc_1.png"><img alt="../_images/roc_1.png" src="../_images/roc_1.png" style="width: 300px;" />
</a>
</td>
<td><a class="reference internal image-reference" href="../_images/roc_3.png"><img alt="../_images/roc_3.png" src="../_images/roc_3.png" style="width: 300px;" />
</a>
</td>
<td><a class="reference internal image-reference" href="../_images/roc_100.png"><img alt="../_images/roc_100.png" src="../_images/roc_100.png" style="width: 300px;" />
</a>
</td>
</tr>
</tbody>
</table>
</div>
<p>La première image est celle d’une courbe ROC (l’axe des abscisses est inversé),
la seconde représente toutes celles obtenues par la
méthode bootstrap pour trois courbes. La troisième image superpose cent courbes.
Moins il y a de points pour estimer une partie de la courbe,
plus les courbes sont espacées. Ces courbes ont été construites avec 12000 points.
Le taux de lecture pour 1% d’erreur est égal à 68,09%.
L’intervalle de confiance à 95% est
[66,10%; 70,16%] (construit avec 500 courbes).
Moyenne (68,25) et médiane (68,12) sont sensiblement égales au taux calculé sur la première courbe
construite sans tirage aléatoire. L’écart-type est <img class="math" src="../_images/math/66e75d20ec2a25c82f00c05413358aadfe655876.svg" alt="1,10"/>, cela donne un intervalle de confiance
équivalent au précédent si on considère que la moyenne des taux suit asymptotiquement une loi normale.
Cette expérience a été reproduite plusieurs fois
et ces bornes sont assez stables contrairement (<cite>pm 0,05 %</cite>) aux extremas
(<cite>pm 1%</cite>).</p>
</section>
<section id="aire-sous-la-courbe-et-intervalles-de-confiance">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Aire sous la courbe et intervalles de confiance</a><a class="headerlink" href="#aire-sous-la-courbe-et-intervalles-de-confiance" title="Lien vers cette rubrique">¶</a></h3>
<p>La méthode bootstrap peut elle aussi être appliquée pour
calculer un intervalle de confiance pour l’aire sous la courbe (AUC).</p>
<a class="reference internal image-reference" href="../_images/roc_p100.png"><img alt="../_images/roc_p100.png" src="../_images/roc_p100.png" style="width: 300px;" />
</a>
<p>Courbe ROC (l’axe des abscisse est inversé) obtenue pour 100 tirages aléatoires.
L’aire sous la courbe est égale à 0.80 et l’intervalle de confiance à 95%
mesurée par la méthode bootsrap
est : <img class="math" src="../_images/math/258f4ba230a5aa9c0dc70b7b156ed98a4df19ace.svg" alt="\cro{0.79 , \; 0.80}"/>.
Les extremas sont presque identiques à ces chiffres.</p>
</section>
</section>
<section id="distribution-des-scores-mauvais-et-bons">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Distribution des scores mauvais et bons</a><a class="headerlink" href="#distribution-des-scores-mauvais-et-bons" title="Lien vers cette rubrique">¶</a></h2>
<p>On appelle un mauvais score un score associé à un mauvais résultat,
de même, un bon score est le score d’un bon résultat. Si le score est une probabilité,
on s’attend à trouver les bons scores regroupés autour de la valeur 1. Si
le score est un mauvais score, il devrait être plus proche de zéro. La figure  qui suit
montre des distributions obtenues pour deux problèmes différents.
Dans les deux cas, le but recherché est la détermination d’un seuil séparant
le score d’un bon résultat de celui d’un mauvais résultat. Lorsque ceci n’est pas
possible, le score ne peut correspondre à un quelconque critère confiance.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../_images/score_dist_1.png"><img alt="../_images/score_dist_1.png" src="../_images/score_dist_1.png" style="width: 400px;" />
</a>
</td>
<td><a class="reference internal image-reference" href="../_images/score_dist_2.png"><img alt="../_images/score_dist_2.png" src="../_images/score_dist_2.png" style="width: 400px;" />
</a>
</td>
</tr>
</tbody>
</table>
</div>
<p>La première courbe montre deux distributions
qui se chevauchent même si les bons scores semblent plus concentrés autour des grandes valeurs.
Le seconde courbe montre un problème mieux séparable. L’existence d’un seuil
entre un bon et un mauvais score est plus plausible.</p>
</section>
<section id="variantes">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Variantes</a><a class="headerlink" href="#variantes" title="Lien vers cette rubrique">¶</a></h2>
<section id="taux-de-lecture-ou-de-reconnaissance">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Taux de lecture ou de reconnaissance</a><a class="headerlink" href="#taux-de-lecture-ou-de-reconnaissance" title="Lien vers cette rubrique">¶</a></h3>
<p>Il n’existe pas une grande différence lorsque le taux d’erreur
est faible. Le taux de lecture est simplement la proportion de
documents pour lesquels le score est aussi d’un seuil <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>
que la réponse du classifieur soit bonne ou mauvaise. Par exemple,
pour un taux de <em>substitution</em> de 1%, si on a 70% en taux de lecture,
cela signifie que sur 100 documents, le système va en accepter 70 et
parmi ces 70, 1% seront mal traités. Le taux de substitution est un
taux d’erreur rapporté à un taux de lecture donné. L’inconvénient du taux de
lecture rapporté au taux de substitution est que la méthode développée au
paragraphe <a class="reference internal" href="#roc-confiance-inter"><span class="std std-ref">Intervalles de confiance sur la courbe</span></a> ne s’applique plus aussi bien car
pour un taux de substitution donné, il peut exister plusieurs taux
de lecture.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../_images/lecture_5_curve.png"><img alt="../_images/lecture_5_curve.png" src="../_images/lecture_5_curve.png" style="width: 400px;" />
</a>
</td>
<td><a class="reference internal image-reference" href="../_images/lecture_intervalle.png"><img alt="../_images/lecture_intervalle.png" src="../_images/lecture_intervalle.png" style="width: 400px;" />
</a>
</td>
</tr>
</tbody>
</table>
</div>
<p>La première image montre 5 courbes taux de lecture / taux de substitutions.
Les courbes ne sont pas monotones et montre qu’il existe parfois plusieurs taux de
lecture pour un même taux de substitution. Comme le calcul des intervalles de confiance
fait intervenir une interpolation linéaire, lorsque les courbes sont trop cahotiques,
le calcul retourne des valeurs fausses.</p>
<p>On peut démontrer que la courbe taux de lecture / taux de substitution
n’est pas une courbe ni monotone ni inversible. Pour cela on dispose d’une
suite de couple <img class="math" src="../_images/math/5383f109fd527b65b9e3a0da33c38c39a4d139aa.svg" alt="\pa{X_i, \theta_i}"/> croissante selon les
<img class="math" src="../_images/math/c15b262677ad7177c2e37298a2eb382d712b3a52.svg" alt="X_i"/>. <img class="math" src="../_images/math/15716cb67c90721c00459f0e94d7ab24761bb850.svg" alt="\theta_i"/> vaut 1 si l’expérience a réussi, 0 sinon.
Pour un seuil donné <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>, on note <img class="math" src="../_images/math/6b18c40769f716e25f4f0b6e990d8f992cce5026.svg" alt="E'(s)"/> le taux de substitution et
<img class="math" src="../_images/math/cfffa63de6978beec48b14ba25d0a54df0956480.svg" alt="R'(s)"/> le taux de lecture, on obtient :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/e6bd47d55a596c4b5566f205e48e17e4acb36897.svg" alt="\begin{eqnarray*}
R'(s) &amp;=&amp; \frac{1}{n} \sum_{i=1}^{n} \indicatrice{X_i \supegal s} \\
E'(s) &amp;=&amp; \frac{1}{n \, R'(s)} \sum_{i=1}^{n} \pa{1 - \theta_i} \, \indicatrice{X_i \supegal s}
\end{eqnarray*}"/></p>
</div></div>
<p>On écrit différemment ces expressions en supposant que <img class="math" src="../_images/math/05d8acc5ed30e6ea71422a00240f523b4d18ccb5.svg" alt="X_{i(s_1)-1} &lt; s_1 \leqslant X_{i(s_1)} :math:"/> :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/93aeaca1f79606aee0b2a189c065a53150f39fef.svg" alt="\begin{eqnarray*}
R'(s_1) &amp;=&amp; \frac{n-i(s_1)}{n} \\
E'(s_1) &amp;=&amp; \frac{1}{n - i(s_1)} \sum_{i=i(s_1)}^{n} \pa{1 - \theta_i}
\end{eqnarray*}"/></p>
</div></div>
<p>On suppose maintenant que <img class="math" src="../_images/math/fd50239fc992294f0501716373b114f243a20834.svg" alt="X_{i(s_2)-1} &lt; s_2 \leqslant X_{i(s_2)} :math:"/>
et <img class="math" src="../_images/math/676932e3307c60667944a7e3b921f3ed253c8cd6.svg" alt="i(s_1) +1 = i(s_2)"/> :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/a5ab8bc87d412d771c554cca85e228a706af8800.svg" alt="\begin{eqnarray*}
R'(s_2) &amp;=&amp; \frac{n-i(s_2)}{n} &lt; R'(s_1) \\
E'(s_2) &amp;=&amp; \frac{1}{n - i(s_2)} \sum_{i=i(s_2)}^{n} \pa{1 - \theta_i} =
                        \frac{1}{n - i(s_2)} \frac{n - i(s_1)}{n - i(s_1)}
                        \pa{ - \pa{1 - \theta_{i(s_1)}} + \sum_{i=i(s_1)}^{n} \pa{1 - \theta_i} } \\
                &amp;=&amp; - \frac{ \pa{1 - \theta_{i(s_1)}} } { n - i(s_2) } +
                                \frac{  \sum_{i=i(s_1)}^{n} \pa{1 - \theta_i} } { n - i(s_1)} \frac{ n - i(s_1) } {n - i(s_2) }
                        = - \frac{ \pa{1 - \theta_{i(s_1)}} } { n - i(s_2) } + E'(s_1) \frac{ n - i(s_1) } {n - i(s_2) }
\end{eqnarray*}"/></p>
</div></div>
<p>Si on suppose que <img class="math" src="../_images/math/9084c7ea846c29a1ab8aebd2f9835c9830ccad52.svg" alt="\theta_{i(s_1)}=1"/>,
autrement dit, l’expérience <img class="math" src="../_images/math/af84af20e4390590548ae170983a843e48c23cf8.svg" alt="s_1"/> a réussi, on en déduit que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/420aed4c01a6a291e6bbfba1ba6f0882960e89de.svg" alt="\begin{eqnarray*}
E'(s_2) &amp;=&amp; E'(s_1) \frac{ n - i(s_1) } {n - i(s_2) } = E'(s_1) \frac{ n - i(s_2) + 1 } {n - i(s_2) } &gt; E'(s_1)
\end{eqnarray*}"/></p>
</div></div>
<p>En revanche si <img class="math" src="../_images/math/1c3946898e080ec8a693896667800d05064d9152.svg" alt="\theta_i = 0"/> :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/594fc208d8986bda971e4106abf549ac8f59e53b.svg" alt="\begin{eqnarray*}
E'(s_2) &amp;=&amp;  E'(s_1) \pa{ 1 +  \frac{ 1 } {n - i(s_2) } } - \frac{1}{n - i(s_2)} =
                            E'(s_1) + \frac{ E(s_1) -1}{n - i(s_2) } &lt; E'(s_1)
\end{eqnarray*}"/></p>
</div></div>
<p>Il n’existe donc pas toujours une fonction <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/> reliant <img class="math" src="../_images/math/cfffa63de6978beec48b14ba25d0a54df0956480.svg" alt="R'(s)"/> à <img class="math" src="../_images/math/6b18c40769f716e25f4f0b6e990d8f992cce5026.svg" alt="E'(s)"/>
à moins de construire cette courbe de telle sorte qu’elle soit monotone en
ne choisissant qu’une sous-suite <img class="math" src="../_images/math/8b3742cc40ceec5a09f3b67d04447d9908ca5085.svg" alt="\pa{E'(X_i), R'(X_i)}_i"/> qui vérifie cette hypothèse.</p>
</section>
</section>
<section id="classification-multi-classe">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Classification multi-classe</a><a class="headerlink" href="#classification-multi-classe" title="Lien vers cette rubrique">¶</a></h2>
<p>Une courbe ROC se construit avec deux informations : une réponse binaire
et un score. Que signifie cette réponse binaire ? Elle peut être :</p>
<ol class="arabic simple">
<li><p>Le fait que le prédicteur ait bien prédit une classe en particulier.
Le score associé est celui que le prédicteur donne pour cette classe.</p></li>
<li><p>Le fait que le prédicteur ait bien prédit,
c’est-à-dire que la réponse binaire signifie que la classe prédite
est la classe attendue, le score associé est celui de la classe prédite,
c’est-à-dire le score maximum obtenu pour l’une des classes.</p></li>
</ol>
<p>Plus formellement, le prédicteur retourne un vecteur <img class="math" src="../_images/math/daa216771601e71d757d0bea1ab88dcbbc34394a.svg" alt="S_i"/> qui contient
les probabilités d’appartenance à toutes les classes aussi appelées
plus généralement score de confiance ou juste score.
<img class="math" src="../_images/math/b8cacb2b3973a3bbea06c40c55057df09905bfcc.svg" alt="S_i(c)"/> est la probabilité de prédire la classe <img class="math" src="../_images/math/166b6078b84a177dff3a50cf6a23450bbfc70c5f.svg" alt="c"/>.
La classe attendue est notée <img class="math" src="../_images/math/821c42333b9f5768eea78b4df1a948b0a5deb5ea.svg" alt="y_i"/>, c’est celle que le prédicteur doit prédire.
Dans le premier cas, on construit le couple <img class="math" src="../_images/math/dfa7cc01ada1b4e7a8da7620ede7cfa987d64bfe.svg" alt="(b_i, s_i)"/> de telle sorte que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/fb8d1d3bcf988bbcc6824d283337bec9a19f10e6.svg" alt="\begin{array}{l} b_i = 1 \; si \; y_i = c \; sinon \; 0 \\ s_i = S_i(c) \end{array}"/></p>
</div></div>
<p>Dans le second cas :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/0cf260133ddbdaecbb2e6dcb82b28ec34850ce99.svg" alt="\begin{array}{l} b_i = 1 \; si \; \max S_i = S_i(y_i) \; sinon \; 0 \\ s_i = \max S_i \end{array}"/></p>
</div></div>
<p>Le premier cas correspond par exemple à des problèmes de
<a class="reference external" href="https://en.wikipedia.org/wiki/Predictive_analytics#Fraud_detection">détection de fraude</a>.
Le second cas correspond à taux de classification global. La courbe ROC
pour ce cas est en règle général moins bonne que la plupart des
courbes ROC obtenues pour chacune des classes prise séparément.</p>
</section>
<section id="exemple">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Exemple</a><a class="headerlink" href="#exemple" title="Lien vers cette rubrique">¶</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="agarwal2005" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Agarwal2005</a><span class="fn-bracket">]</span></span>
<p>Generalization Bounds for the Area Under the ROC Curve (2005),
Shivani Agarwal, Thore Graepel, Ralf Herbich, Sariel Har-Peled, Dan Roth
<em>Journal of Machine Learning Research, volume 6, pages 393-425</em></p>
</div>
<div class="citation" id="saporta1990" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">Saporta1990</a><span class="fn-bracket">]</span></span>
<p>Probabilités, analyse des données et statistique (1990),
Gilbert Saporta, <em>Editions Technip</em></p>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../notebooks/metric/roc_example.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">ROC</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Métriques</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2016-2025, Xavier Dupré
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Courbe ROC</a><ul>
<li><a class="reference internal" href="#definitions">Définitions</a></li>
<li><a class="reference internal" href="#aire-sous-la-courbe">Aire sous la courbe</a><ul>
<li><a class="reference internal" href="#expression">Expression</a></li>
<li><a class="reference internal" href="#intervalles-de-confiance">Intervalles de confiance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#intervalles-de-confiance-sur-la-courbe">Intervalles de confiance sur la courbe</a><ul>
<li><a class="reference internal" href="#construction-de-la-courbe-roc">Construction de la courbe ROC</a></li>
<li><a class="reference internal" href="#methode-boostrap">Méthode boostrap</a></li>
<li><a class="reference internal" href="#aire-sous-la-courbe-et-intervalles-de-confiance">Aire sous la courbe et intervalles de confiance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distribution-des-scores-mauvais-et-bons">Distribution des scores mauvais et bons</a></li>
<li><a class="reference internal" href="#variantes">Variantes</a><ul>
<li><a class="reference internal" href="#taux-de-lecture-ou-de-reconnaissance">Taux de lecture ou de reconnaissance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classification-multi-classe">Classification multi-classe</a></li>
<li><a class="reference internal" href="#exemple">Exemple</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=0886690b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/translations.js?v=e6b791cb"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>