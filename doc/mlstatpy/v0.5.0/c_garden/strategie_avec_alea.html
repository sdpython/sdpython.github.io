<!doctype html>
<html class="no-js" lang="fr" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Recherche" href="../search.html" /><link rel="next" title="Le gradient et le discret" href="../notebooks/dsgarden/discret_gradient.html" /><link rel="prev" title="File d’attente, un exemple simple" href="../notebooks/dsgarden/file_dattente_ex.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Optimisation avec données aléatoires - Documentation mlstatpy 0.5.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Documentation mlstatpy 0.5.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/project_ico.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Documentation mlstatpy 0.5.0</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Recherche" name="q" aria-label="Recherche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Mathematics</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_clus/index.html">Clustering</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Clustering</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/kmeans.html">k-means</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/gauss_mixture.html">Mélange de lois normales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_clus/kohonen.html">Carte de Kohonen</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index.html">Non linéaire</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Non linéaire</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/rn/rn.html">Réseaux de neurones</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Réseaux de neurones</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_1_def.html">Définition des réseaux de neurones multi-couches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_2_reg.html">La régression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_3_clas.html">La classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_4_densite.html">Démonstration du théorème de la densité des réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_5_newton.html">Descente de gradient</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_6_apprentissage.html">Apprentissage d’un réseau de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_7_clas2.html">Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_8_prol.html">Prolongements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_9_auto.html">Analyse en composantes principales (ACP) et Auto Encoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_ml/rn/rn_biblio.html">Bibliographie</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/kppv.html">Classification à l’aide des plus proches voisins</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/missing_values_mf.html">Liens entre factorisation de matrices, ACP, k-means</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Liens entre factorisation de matrices, ACP, k-means</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/mf_acp.html">Factorisation et matrice et ACP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/valeurs_manquantes_mf.html">Valeurs manquantes et factorisation de matrices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree.html">Un arbre de décision en réseaux de neurones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree_onnx.html">NeuralTreeNet et ONNX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/neural_tree_cost.html">NeuralTreeNet et coût</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index_reg_lin.html">Régression linéaire</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Régression linéaire</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/regression_lineaire.html">Régression linéaire</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/regression_quantile.html">Régression quantile ou régression L1</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Régression quantile ou régression L1</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantile_regression_example.html">Régression quantile illustrée</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/piecewise.html">Régression linéaire par morceaux</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Régression linéaire par morceaux</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/piecewise_linear_regression.html">Régression linéaire par morceaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/regression_no_inversion.html">Régression sans inversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/l1l2.html">Normalisation des coefficients</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_ml/index_reg_log.html">Régression logistique</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Régression logistique</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/lr_voronoi.html">Régression logistique, diagramme de Voronoï, k-Means</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Régression logistique, diagramme de Voronoï, k-Means</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/logreg_voronoi.html">Voronoï et régression logistique</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_ml/lr_trees.html">Régression logistique par morceaux, arbres de décision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/ml/reseau_neurones.html">Réseaux de neurones</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_ml/survival_analysis.html">Analyse de survie</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Analyse de survie</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/survival.html">Analyse de survie en pratique</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_nlp/index.html">NLP</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of NLP</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_nlp/completion.html">Complétion</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Complétion</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_formalisation.html">Formalisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_fausse.html">Fausses idées reçues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_metrique.html">Nouvelle métrique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_propriete.html">Propriétés mathématiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_optimisation.html">Problème d’optimisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_implementation.html">Implémentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../c_nlp/completion_digression.html">Digressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_metric/index.html">Métriques</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Métriques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_metric/roc.html">Courbe ROC</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Courbe ROC</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/roc_example.html">ROC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_metric/pvalues.html">Confidence Interval and p-Value</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Confidence Interval and p-Value</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/pvalues_examples.html">p-values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../c_algo/index.html">Algorithmes</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Algorithmes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../c_algo/edit_distance.html">Distance d’édition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_algo/graph_distance.html">Distance between two graphs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../c_algo/gest.html">Détection de segments</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Détection de segments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image/segment_detection.html">Détection de segments dans une image</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Pérégrinations</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Pérégrinations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/split_train_test.html">Répartir en base d’apprentissage et de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/correlation_non_lineaire.html">Corrélations non linéaires</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="file_dattente.html">File d’attente, un petit exemple</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of File d’attente, un petit exemple</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/file_dattente_ex.html">File d’attente, un exemple simple</a></li>
</ul>
</li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Optimisation avec données aléatoires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/discret_gradient.html">Le gradient et le discret</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="quantization.html">Quantization</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Quantization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantization_f8.html">Quantization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dsgarden/classification_multiple.html">Classification multiple</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/ml.html">Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/optim.html">Optimisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/text.html">Traitement du langage naturel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/data.html">Source de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/graph.html">Graphes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/image.html">Image</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/poulet.html">mlstatpy.garden.poulet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/graph_distance.html">mlstatpy.graph.graph_distance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/kppv.html">mlstatpy.ml.kppv</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/kppv_laesa.html">mlstatpy.ml.kppv_laesa</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/logreg.html">mlstatpy.ml.logreg</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/neural_tree.html">mlstatpy.ml.neural_tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/roc.html">mlstatpy.ml.roc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/completion.html">mlstatpy.nlp.completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/completion_simple.html">mlstatpy.nlp.completion_simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/modules/sgd.html">mlstatpy.optim.sgd</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../i_ex.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../defthe_index.html">Listes des définitions et théorèmes</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../auto_examples/index.html">Gallery of examples</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Gallery of examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../auto_examples/plot_logistic_decision.html">Arbre d’indécision</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/index.html">Galleries de notebooks</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Galleries de notebooks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/dsgarden/index.html">Le petit coin des data scientists</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Le petit coin des data scientists</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/classification_multiple.html">Classification multiple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/correlation_non_lineaire.html">Corrélations non linéaires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/discret_gradient.html">Le gradient et le discret</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/file_dattente_ex.html">File d’attente, un exemple simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantile_regression_example.html">Régression quantile illustrée</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/quantization_f8.html">Quantization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/regression_lineaire.html">Régression linéaire</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/dsgarden/split_train_test.html">Répartir en base d’apprentissage et de test</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/image/index.html">Images</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Images</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image/segment_detection.html">Détection de segments dans une image</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/metric/index.html">Métriques</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Métriques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/pvalues_examples.html">p-values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/metric/roc_example.html">ROC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/ml/index.html">Machine Learning</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Machine Learning</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/logreg_voronoi.html">Voronoï et régression logistique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/mf_acp.html">Factorisation et matrice et ACP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree.html">Un arbre de décision en réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree_cost.html">NeuralTreeNet et coût</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/neural_tree_onnx.html">NeuralTreeNet et ONNX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/piecewise_linear_regression.html">Régression linéaire par morceaux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/regression_no_inversion.html">Régression sans inversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/reseau_neurones.html">Réseaux de neurones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/survival.html">Analyse de survie en pratique</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/ml/valeurs_manquantes_mf.html">Valeurs manquantes et factorisation de matrices</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../notebooks/nlp/index.html">NLP - Natural Language Processing</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of NLP - Natural Language Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOGS.html">Change Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOGS.html#id2">0.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/c_garden/strategie_avec_alea.rst" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="optimisation-avec-donnees-aleatoires">
<span id="l-exemple-optim-alea"></span><h1>Optimisation avec données aléatoires<a class="headerlink" href="#optimisation-avec-donnees-aleatoires" title="Lien vers cette rubrique">¶</a></h1>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#un-probleme-simple" id="id3">Un problème simple</a></p></li>
<li><p><a class="reference internal" href="#modelisation-de-la-demande" id="id4">Modélisation de la demande</a></p></li>
<li><p><a class="reference internal" href="#variations-saisonnieres-et-prolongations" id="id5">Variations saisonnières et prolongations</a></p></li>
<li><p><a class="reference internal" href="#bibliographie" id="id6">Bibliographie</a></p></li>
</ul>
</nav>
<section id="un-probleme-simple">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Un problème simple</a><a class="headerlink" href="#un-probleme-simple" title="Lien vers cette rubrique">¶</a></h2>
<p>Un supermarché pourrait vendre en moyenne 80 poulets par
semaine s’il pouvait savoir à l’avance combien de poulets
à acheter pour satisfaire la demainde. En réalité, le magasin
se réapprovisionne une fois par semaine et lorsque la fin de
la semaine arrive, tous les poulets invendus sont soldés et
supposés vendus. Le gérant du supermarché voudrait savoir quel
est le nombre optimal de poulets à commander chaque semaine.
On suppose que le prix d’un poulet à l’achat est <img class="math" src="../_images/math/6fe7973e241cac84eec5598231dc7f6e68e88282.svg" alt="p"/>, son prix à
la vente est <img class="math" src="../_images/math/cf8dbcc165f37ce2d4249668d07b390abb2316fb.svg" alt="q&gt;p"/>, son prix soldé est <img class="math" src="../_images/math/cf5e01d32ed5a9d4fa469058746a8d302dc00fb3.svg" alt="s"/>. Admettons que
le supermarché achète <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> poulets, en vende au mieux <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> non
soldés et <img class="math" src="../_images/math/a1942f9da701b93e2a9b85ac7fd5b714352bbedc.svg" alt="X-N"/> soldés s’il en reste. Pour calculer son bénéfice
<img class="math" src="../_images/math/3fba415f1647be3b47dae3f8a76087fd88af90a9.svg" alt="B"/>, il faut tenir compte de deux cas et du fait que le
supermarché ne peut pas vendre plus de poulets qu’il n’en a acheté :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/d4d66349a57eed8819693cb792a3a46416b0f9bd.svg" alt="\begin{array}{ll}
B = X (q-p)  &amp; \text{si } N \supegal X \\
B = N (q-p) + (X-N) (s-p) = X (s-p) + N (q-s) &amp; \text{si } N &lt; X
\end{array}"/></p>
</div></div>
<p>On peut réduire ces deux expressions à une seule en utilisant
la fonction indicatrice :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/5ce7949e7876e14de01499f39460dea8fe669b2f.svg" alt="B = f(N,X,p,q,s)= X (q-p) \indicatrice{ N \supegal X } +  \cro{ X (s-p) + N (q-s)} \indicatrice{ N &lt; X }"/></p>
</div></div>
<p>Si <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> était connu avec certitude, il suffirait de
choisir <img class="math" src="../_images/math/a7ca63ed56d2ca4b7e31ed6ba05fb7b716021784.svg" alt="X=N"/>, ce serait la réponse optimale mais
le nombre de poulets <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> vendus est inconnu car il
varie chaque semaine. Pour avoir une idée plus précise, le
gérant du supermarché a délibérément acheté trop de poulets
pendant plusieurs semaines. Il s’est aperçu que la variable
aléatoire <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> suit une <a class="reference external" href="https://fr.wikipedia.org/wiki/Loi_de_Poisson">loi de Poisson</a>
de paramètre <img class="math" src="../_images/math/4e216df4ce76ddc3be70df3511122d815c8f6184.svg" alt="\lambda = 80"/>. On connaît seulement la
probabilité que  <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> soit égale à une valeur fixée.
La figure suivante montre l’allure de cette distribution.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/0bfb579b008d6029011b1cafee6c14746716c1db.svg" alt="\pr{X=i} = e^{-\lambda} \frac{ \lambda^i}{i!}"/></p>
</div></div>
<img alt="../_images/poisson.png" src="../_images/poisson.png" />
<p>Ce graphe répresente la fonction de densité d’une loi de Poisson de paramètre 80.
On observe que le pic est obtenu pour une valeur
proche de 80, c’est la valeur la plus probable.
Ceci signifie que le nombre de poulets achetés le plus probable est 80.</p>
<p>Comme le nombre de poulets achetés varie d’une semaine à l’autre,
le bénéfice du supermarché varie aussi d’une semaine à l’autre.
Ce que le gérant veut optimiser, c’est la somme de ses profits
sur une année ce qui est équivalent à maximiser la moyenne de
ses profits chaque semaine. Il faut donc chercher à maximiser
l’espérence de la variable aléatoire <img class="math" src="../_images/math/3fba415f1647be3b47dae3f8a76087fd88af90a9.svg" alt="B"/> à <img class="math" src="../_images/math/ac290e6c58581fae137c9d16598633bfcfe1929f.svg" alt="p,q,s"/> constant
puis à obtenir la valeur <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> ayant mené à ce maximum.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/0efc1d4d7271424768eb08e95b67f02c607360c0.svg" alt="\max_X \esp{B} =\max_X \esp{f(N,X,p,q,s)} = \max_X \acc{ \sum_{i=0}^{\infty} f(N,X,p,q,s) \pr{N=i} }"/></p>
</div></div>
<p>Etant donné la forme de la fonction <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/>, il n’est pas
évident de construire une expression exacte de <img class="math" src="../_images/math/f31e8c7f9f83b509474ff967a01d3ba23a490c61.svg" alt="X^*"/> défini par
<img class="math" src="../_images/math/5acdbfd34d471e2dd1088bd2b7ca102ec613c86a.svg" alt="\max_X \esp{f(N,X,p,q,s)} = f(N,X^*,p,q,s)"/>. Comme <img class="math" src="../_images/math/e0f2720f6c2f3f2ecf6bc6191f4f511c220d9043.svg" alt="l=80"/>,
d’après la figure précédente, on cherche <img class="math" src="../_images/math/f31e8c7f9f83b509474ff967a01d3ba23a490c61.svg" alt="X^*"/> dans l’ensemble
<img class="math" src="../_images/math/533c9201007456cadd0e63e9f2e0362261553503.svg" alt="\acc{0,...,2l=180}"/>, aller au delà de 180 est inutile
tant la probabilité est faible. Il suffit de calculer <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/> pour
chacune de ces valeurs et de prendre celle qui permet d’obtenir
le maximum. Ces calculs longs et répétitifs vont être effectués par
un programme informatique qui sera découpé en fonctions comme ceci :</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>fonction</p></th>
<th class="head"><p>objectif</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.factorielle" title="mlstatpy.garden.poulet.factorielle"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorielle(x)</span></code></a></p></td>
<td><p>calcule <img class="math" src="../_images/math/484fb73c4d1a103dc6fc7863e2d23d1f9fb6c8f7.svg" alt="x!"/></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.profit" title="mlstatpy.garden.poulet.profit"><code class="xref py py-func docutils literal notranslate"><span class="pre">profit(N,X,p,q,s)</span></code></a></p></td>
<td><p>calcule la fonction <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.proba_poisson" title="mlstatpy.garden.poulet.proba_poisson"><code class="xref py py-func docutils literal notranslate"><span class="pre">proba_poisson(l,</span> <span class="pre">i)</span></code></a></p></td>
<td><p>calcule la probabilité de Poisson connaissant <img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/>
et <img class="math" src="../_images/math/6c9c36eeb0679ad71efe34ded19d79168983fb38.svg" alt="i"/></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.esperance" title="mlstatpy.garden.poulet.esperance"><code class="xref py py-func docutils literal notranslate"><span class="pre">esperance(X,p,q,s,l)</span></code></a></p></td>
<td><p>calcule l’espérance (sa moyenne) de la fonction <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.maximum" title="mlstatpy.garden.poulet.maximum"><code class="xref py py-func docutils literal notranslate"><span class="pre">maximum(p,q,s,l)</span></code></a></p></td>
<td><p>construit une liste de toutes les valeurs de <img class="math" src="../_images/math/796f924c5aa64265be737918e8bfdff1f68aff57.svg" alt="f`"/></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.find_maximum" title="mlstatpy.garden.poulet.find_maximum"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_maximum</span> <span class="pre">(res)</span></code></a></p></td>
<td><p>cherche le maximum dans la liste retournée par la
fonction <a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.maximum" title="mlstatpy.garden.poulet.maximum"><code class="xref py py-func docutils literal notranslate"><span class="pre">maximum</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<p>Le programme obtenu ressemble à <a class="reference internal" href="../api/modules/poulet.html#module-mlstatpy.garden.poulet" title="mlstatpy.garden.poulet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">poulet.py</span></code></a>,
les dernières lignes servent à tracer la courbe présentée par la figure qui suit.</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlstatpy.garden.poulet</span> <span class="kn">import</span> <span class="n">maximum</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">maximum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="c1"># res est la courbe affichée plus bas</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.9999999999999942</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">5.9999999999999885</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">8.999999999999975</span><span class="p">)]</span>
</pre></div>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><img alt="../_images/poissonb.png" src="../_images/poissonb.png" />
</td>
<td><img alt="../_images/poissonb2.png" src="../_images/poissonb2.png" />
</td>
</tr>
</tbody>
</table>
</div>
<p>Cette courbe est celle de l’évolution des profits en fonction du
nombre de poulets commandés. On suppose que
le nombre de poulets achetés suit une loi de Poisson de paramètre 80,
que les poulets sont achetés 2 euros, revendu 5 euros et soldés 1 euros.
Le maximum de 228 euros est obtenu pour 86 poulets.
La seconde courbe montre le résultat dans le cas où les poulets
soldés sont vendus 2 euros
égal au prix des poulets achetés. Le modèle montre ses limites dans ce
cas car il suppose que tous les poulets
soldés seront achetés et que les contraintes de stockage
sont négligeables.</p>
</section>
<section id="modelisation-de-la-demande">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Modélisation de la demande</a><a class="headerlink" href="#modelisation-de-la-demande" title="Lien vers cette rubrique">¶</a></h2>
<p>La représentation de la demande est essentielle, c’est elle qui détermine
le résultat. Il est possible de l’affiner comme par exemple supposer que
certaines personnes achètent deux ou trois poulets et que la somme des
poulets achetés peut être décomposée comme <img class="math" src="../_images/math/2dff78e005363cb924a68574a46d559b9ed98369.svg" alt="N = N_1 + 2N_2 + 3N_3"/>
où <img class="math" src="../_images/math/14faa17ef4e4de214bea65f391bec13a37a78c33.svg" alt="N_i"/> est le nombre de personnes achetant <img class="math" src="../_images/math/6c9c36eeb0679ad71efe34ded19d79168983fb38.svg" alt="i"/>
poulets. Dans ce cas, ce n’est plus <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/> qui suit une loi de
Poisson mais <img class="math" src="../_images/math/1afe1a02f067f5fca16ac488f94f68860d3098f2.svg" alt="N_1"/>, <img class="math" src="../_images/math/ebf0e1eadab4a5577f9c17f62688bd188a4132e6.svg" alt="N_2"/>, <img class="math" src="../_images/math/b7e69af76aa7bd0cffb88bdbad007518b79b0906.svg" alt="N_3"/> qui suivent chacune
des lois de Poisson de paramètres différents dont il faudra estimer
les paramètres.</p>
<p>Cette modification implique l’écriture d’une fonction
<a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.proba_poisson_melange" title="mlstatpy.garden.poulet.proba_poisson_melange"><code class="xref py py-func docutils literal notranslate"><span class="pre">proba_poisson_melange</span></code></a>
au lieu de <a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.proba_poisson" title="mlstatpy.garden.poulet.proba_poisson"><code class="xref py py-func docutils literal notranslate"><span class="pre">proba_poisson</span></code></a>.
La demande n’est plus une loi connue mais un mélange de lois connues
dont la densité n’a pas d’expression connue : il faut la tabuler.
Pour cela, on utilise deux propriétés sur les lois exponentielles.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Théorème0">
<div class="docutils container">
</div>
<p class="admonition-title" id="theoreme-inversion-variable">Théorème T1 : simulation d’une loi quelconque</p>
<p>Soit <img class="math" src="../_images/math/36db58ff9dc5e13e29c228aed7fa369f3c830ee1.svg" alt="F=\int f"/> une fonction de répartition de densité
<img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/> vérifiant <img class="math" src="../_images/math/0b8f5979ee126393310f0c86b61d605fbf471154.svg" alt="f &gt; 0"/>, soit <img class="math" src="../_images/math/711e809ffdf4007a2202020da1fe86f6ba3f13d1.svg" alt="U"/> une variable
aléatoire uniformément distribuée sur <img class="math" src="../_images/math/489397ecb18cc5f4c6c3261586aa60ca231d3657.svg" alt="\cro{0,1}"/> alors
<img class="math" src="../_images/math/2fb3f8c9a829c4252be574fa633d7e877b5d14be.svg" alt="F^{-1}(U)"/> est variable aléatoire de densité <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/>.</p>
</div>
<p>La démonstration est courte.
Soit <img class="math" src="../_images/math/b66c7d6c52c7b12bee7fb24d76c38fc70cfc0a2f.svg" alt="X"/> une variable aléatoire de densité <img class="math" src="../_images/math/bd1e0600a66dbe0f8deddbd57953774419ba4e4f.svg" alt="f"/>,
par définition, <img class="math" src="../_images/math/3d926e2a553156097d2326b14945e3ef74fdb468.svg" alt="\pr{X \leqslant x} = F(x)"/>. Soit <img class="math" src="../_images/math/711e809ffdf4007a2202020da1fe86f6ba3f13d1.svg" alt="U"/> une
variable aléatoire uniformément distribué sur <img class="math" src="../_images/math/489397ecb18cc5f4c6c3261586aa60ca231d3657.svg" alt="\cro{0,1}"/>, alors :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/6a6da4fa9a8667a46c152edbc220a2d57448b375.svg" alt="\begin{eqnarray*}
\forall u \in \cro{0,1}, \; \pr{U \leqslant u} &amp;=&amp; u \\
\Longleftrightarrow \pr{F^{-1}(U)\leqslant F^{-1}(u)} &amp;=&amp; u \\
\Longleftrightarrow \pr{F^{-1}(U)\leqslant F^{-1}(F(t))} &amp;=&amp; F(t) \\
\Longleftrightarrow \pr{F^{-1}(U)\leqslant t} &amp;=&amp; F(t)
\end{eqnarray*}"/></p>
</div></div>
<p>Si la fonction <img class="math" src="../_images/math/d3df781b97caf23fd84697ec8aac41efdf4f6793.svg" alt="F"/> n’est pas strictement croissante,
on pourra prendre <img class="math" src="../_images/math/b583da48a55f255e064d693bd1b5ccf0c7785222.svg" alt="F^{-1}(t) = \inf\acc{ u \sac F(u) \supegal t}"/>.
Ce théorème sera appliqué à une loi exponentielle de paramètre
<img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/>. La densité d’une telle loi est
<img class="math" src="../_images/math/0e3a9c8411ea9f048d7ef3fae84c47bf120f79df.svg" alt="f(x) = \lambda \exp{- \lambda x}"/>,
<img class="math" src="../_images/math/0f9e9c1afc542b4ba0be5e7aea5f805c38573777.svg" alt="F(x) = \int_0^x f(t)dt = 1 - \exp^{- \lambda x}"/>.
On en déduit que <img class="math" src="../_images/math/187852e9fcd8b02e5ae7af2bd45fad15cab797b7.svg" alt="F^{-1}(t) = -\frac{ \ln(1-t)}{\lambda}"/>,
par conséquent : <img class="math" src="../_images/math/eb9a7ae5db6dc83fa69c53ad04c63be57b7e6c3b.svg" alt="-\frac{ \ln(1-U)}{\lambda}"/> suit une loi
exponentielle de paramètre <img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/> si <img class="math" src="../_images/math/711e809ffdf4007a2202020da1fe86f6ba3f13d1.svg" alt="U"/> est
une loi uniforme sur <img class="math" src="../_images/math/489397ecb18cc5f4c6c3261586aa60ca231d3657.svg" alt="\cro{0,1}"/>.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Théorème1">
<div class="docutils container">
</div>
<p class="admonition-title" id="theoreme-simulation-poisson">Théorème T2 : simulation d’une loi de Poisson</p>
<p>On définit une suite infinie <img class="math" src="../_images/math/f57ff0dcd9612ce57367535cef21df6f8df6a92c.svg" alt="(X_i)_i&gt;0"/> de loi
exponentielle de paramètre <img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/>. On définit ensuite
la série de variables aléatoires <img class="math" src="../_images/math/0c2ce31d12b6c311de66260e6cf6587b4e232abb.svg" alt="S_i = \sum_{k=1}^{i} X_k"/>
et enfin <img class="math" src="../_images/math/31eed8780ef3bd6a580aa70299a90f6f3bbdc628.svg" alt="N(t) = \inf \acc{ i \sac S_i &gt; t}"/>.
Alors la variable aléatoire <img class="math" src="../_images/math/c42fc0d6b25cb19d3b76c2ef53058608d64ecddf.svg" alt="N(t)"/> suit une loi
de Poisson de paramètre <img class="math" src="../_images/math/9f452e05ffaa94a3eed358d42e8695ae0e51de8e.svg" alt="\lambda t"/>.</p>
</div>
<p>La loi exponentielle est souvent utilisée pour modéliser le temps
d’attente d’un événement comme le temps d’attente d’un métro
une fois sur le quai. On l’utilise aussi pour modéliser la
durée de vie d’un outil, d’une ampoule par exemple. La loi de
Poisson peut par exemple modéliser le nombre d’ampoules nécessaire
pour éclairer une pièce sur une certaine durée.
Avant de démontrer le théorème, il faut définir d’abord la
<a class="reference external" href="https://fr.wikipedia.org/wiki/Loi_Gamma">loi Gamma</a>.
On pose au préalable <img class="math" src="../_images/math/0881c8f8e83f62c1c5d5d112d128951a3bf938ec.svg" alt="\Gamma(\alpha) = \int_0^{\infty} u^{\alpha-1}e^{-u}du"/>.
Une variable aléatoire de loi Gamma de paramètres <img class="math" src="../_images/math/df22a6a28469a9e41df261999295a5af4801fe5f.svg" alt="\pa{\alpha,\lambda}"/>
a pour densité : <img class="math" src="../_images/math/6b9b4f840901473d835fc9f5b50fc3e0e12c0f06.svg" alt="f(x) = \frac{\lambda^{\alpha}} {\Gamma(\alpha)}t^{\alpha-1}e^{-\lambda t}"/>.
La fonction <img class="math" src="../_images/math/cc22a1757c8fcea9744d9aeeab7f5c89d72beaab.svg" alt="\Gamma"/> vérifie une propriété utile par la suite :
<img class="math" src="../_images/math/9b70564929d7d4aba921e8e9e4694b34bc0fa445.svg" alt="\forall n \in \N^*, \, \Gamma(n) = (n-1)!"/>.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Théorème2">
<div class="docutils container">
</div>
<p class="admonition-title" id="theoreme-convolution-poisson">Théorème T3 : somme de loi exponentielle iid</p>
<p>Soit <img class="math" src="../_images/math/7d8725dc04e338e7510ed7568e9f7523a44d03e7.svg" alt="X_1,...,X_n"/> <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/> variables aléatoires indépendantes
et identiquement distribuées de loi <img class="math" src="../_images/math/5eb577f497cff723b627dfc42759f3d61f59fb8a.svg" alt="Exp(\lambda)"/> alors la
somme <img class="math" src="../_images/math/8b1099120d28ad1dfb313819f433ab838a7e5412.svg" alt="\sum_{k=1}^n X_k"/> suit une loi <img class="math" src="../_images/math/aed036ed96ab01139497423f9643e11d33a29ccf.svg" alt="Gamma(n,\lambda)"/>.</p>
</div>
<p>La démonstration utilise l’unicité de la fonction caractéristique
<img class="math" src="../_images/math/23b3576e9ddd603413f22712f116480d9ea1bbfd.svg" alt="\esp{e^{iX}}"/>. Il suffit de démonstrer que la fonction caractéristique
de la somme est celle d’une loi Gamma. On suppose que
<img class="math" src="../_images/math/7d8725dc04e338e7510ed7568e9f7523a44d03e7.svg" alt="X_1,...,X_n"/> suivent des lois exponentielles de paramètre
<img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/> et <img class="math" src="../_images/math/b59453388a752e340d555df9064bfb27e7112e68.svg" alt="Y"/> suit une loi <img class="math" src="../_images/math/aed036ed96ab01139497423f9643e11d33a29ccf.svg" alt="Gamma(n,\lambda)"/>.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/733f142e480bd8cd61228123cd4247926a66b247.svg" alt="\begin{eqnarray*}
\esp{\exp\pa{i\sum_{k=1}^n X_k}} &amp;=&amp; \prod_{k=1}^n \esp{e^{iX_k}} \\
&amp;=&amp; \cro{  \int_0^{\infty} \lambda e^{ix} e^{-\lambda x} dx}^n = \lambda^n \cro{\int_0^{\infty} e^{(i-\lambda) x} dx}^n  \\
&amp;=&amp;  \lambda^n \cro{ - \frac{1}{(i-\lambda)} }^n  = \cro{ \frac{ \lambda} { \lambda - i} }^n  \\
\esp{e^{iY}} &amp;=&amp; \int_0^{\infty}   \frac{\lambda^{n}} {\Gamma(n)}t^{n-1}e^{-\lambda t} e^{it} dt =
                 \int_0^{\infty}   \frac{\lambda^{n}} {\Gamma(n)}t^{n-1}e^{ (i-\lambda) t} dt \\
&amp;=&amp; \frac{\lambda^{n}} {\Gamma(n)}  \frac{\Gamma(n)}{(i-\lambda)^{n}}   =  \cro{ \frac{ \lambda} { \lambda - i} }^n
\end{eqnarray*}"/></p>
</div></div>
<p>Ces lignes démontrent le théorème.
On démontre maintenant <a class="reference internal" href="#theoreme-simulation-poisson"><span class="std std-ref">simulation d’une loi de Poisson</span></a>.
La démonstration repose sur le fait que
<img class="math" src="../_images/math/172fcb5d603098cc972a269b5ef5baa92de02e69.svg" alt="\pr{N(t) \supegal n} \Longleftrightarrow \pr{S_n \leqslant t}"/>.
On en déduit que :</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/0863cb674e798f31ea01d06aad0681165287dd37.svg" alt="\pr{N(t) = n} = \pr{N(t) \supegal n} - \pr{N(t) \supegal n+1} = \pr{S_n \leqslant t} - \pr{S_{n+1} \leqslant t}"/></p>
</div></div>
<p>Or d’après le théorème <a class="reference internal" href="#theoreme-convolution-poisson"><span class="std std-ref">somme de loi exponentielle iid</span></a>,
<img class="math" src="../_images/math/0e8d02e738cce499452b5a77123da83c9921210f.svg" alt="S_n"/> suit une loi <img class="math" src="../_images/math/aed036ed96ab01139497423f9643e11d33a29ccf.svg" alt="Gamma(n,\lambda)"/>.</p>
<div class="math-wrapper docutils container">
<div class="math">
<p><img src="../_images/math/ef1a31a97c01a398fdc71907fdefc89d3d355de6.svg" alt="\begin{eqnarray*}
\pr{N(t) = n} &amp;=&amp; \int_0^t  \frac{\lambda^n} {\Gamma(n)}u^{n-1}e^{-\lambda u} du -
                  \int_0^t  \frac{\lambda^{n+1}} {\Gamma(n+1)}u^{n}e^{-\lambda u} du \\
              &amp;=&amp; \int_0^t  \cro{ \frac{\lambda^n} {(n-1)!} u^{n-1} e^{-\lambda u} - \frac{\lambda^{n+1}} {n!}u^{n}  e^{-\lambda u} } du \\
              &amp;=&amp; \cro{ \frac{ \lambda^n}{n!} u^n e^{-\lambda u} }_0^t = e^{-\lambda t} \frac{ (\lambda t)^n}{n!}
\end{eqnarray*}"/></p>
</div></div>
<p>Il suffit d’utiliser ce théorème pour simuler une loi de Poisson de
paramètre <img class="math" src="../_images/math/15a3ea48c9262583d78f2931985b4fe6ef0b912e.svg" alt="\lambda"/>, ce que fait la fonction
<a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.poisson" title="mlstatpy.garden.poulet.poisson"><code class="xref py py-func docutils literal notranslate"><span class="pre">poisson</span></code></a> suivante :</p>
<p>&lt;&lt;&lt;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">exponentielle</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="n">u</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
    <span class="k">return</span> <span class="o">-</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">l</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">u</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">poisson</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">s</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">exponentielle</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>


<span class="nb">print</span><span class="p">(</span><span class="n">poisson</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="mi">0</span>
</pre></div>
</div>
<p>On vérifie que cette méthode de simulation permet de retrouver
les résultats théoriques. Pour cela, on effectue 1000 tirages d’une
variable suivant une loi de Poisson avec <img class="math" src="../_images/math/25e6fe5527bb2e155a10ccafe7be436068f6c2d1.svg" alt="\lambda=10"/>
puis on compte le nombre de fois qu’on obtient chaque entier compris
entre 0 et 40. La figure qui suit permet de comparer les résultats obtenus.</p>
<img alt="../_images/poishis.png" src="../_images/poishis.png" />
<p>Comparaison entre une fonction de densité estimée
empiriquement pour la loi de Poisson de paramètre
<img class="math" src="../_images/math/25e6fe5527bb2e155a10ccafe7be436068f6c2d1.svg" alt="\lambda=10"/> et sa densité théorique
<img class="math" src="../_images/math/62e7bbe3cdd64019e69012ec78f28b2dd2b0e984.svg" alt="f(i) = e^{-\lambda} \frac{ \lambda^i}{i!}"/>.</p>
<p>On cherche maintenant à calculer les probabilités
<img class="math" src="../_images/math/39f1fcdd7f1025e9d732151668aeea3bec2d8ef2.svg" alt="\pr{N = i}"/> sachant que <img class="math" src="../_images/math/8b67c5a95b0dd1e05c2479bb0f01e7eaea2df9fa.svg" alt="N = N_1 + 2 N_2 + 3 N_3"/>
et <img class="math" src="../_images/math/fc741fe18499dd643831698da273164f19e3105f.svg" alt="N_1 \sim \mathcal{P}(48)"/>, <img class="math" src="../_images/math/b3eb5f6331dc9059c1a310560b3d4709429a1751.svg" alt="N_2 \sim \mathcal{P}(10)"/>,
<img class="math" src="../_images/math/52348170ea35f4df3b158a05ba39624f9beff4ab.svg" alt="N_3 \sim \mathcal{P}(4)"/>. L’addition de deux lois de Poisson
indépendantes est une loi de Poisson. En revanche, si <img class="math" src="../_images/math/1afe1a02f067f5fca16ac488f94f68860d3098f2.svg" alt="N_1"/>
suit une loi de Poisson, <img class="math" src="../_images/math/af9161576225bc6ad5b578216eb6e5d0a741524a.svg" alt="2N_1"/> ne suit pas une loi de Poisson.
<img class="math" src="../_images/math/af9161576225bc6ad5b578216eb6e5d0a741524a.svg" alt="2N_1"/> est une variable paire, c’est une propriété qui n’est
jamais vérifiée par une loi de Poisson.
Il n’existe pas d’expression évidente pour la densité du mélange <img class="math" src="../_images/math/bceb9186b5004313ecccd0d22d07ea9617b62f98.svg" alt="N"/>,
il faut donc simuler cette variable. C’est l’objectif de la fonction
<a class="reference internal" href="../api/modules/poulet.html#mlstatpy.garden.poulet.poisson_melange" title="mlstatpy.garden.poulet.poisson_melange"><code class="xref py py-func docutils literal notranslate"><span class="pre">poisson_melange</span></code></a>.
De la même manière, on estime l’histogramme du mélange avec cette fois-ci
un plus grand nombre de tirages (10000) pour aboutir
à la figure suivante.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><img alt="../_images/poishist2.png" src="../_images/poishist2.png" />
</td>
<td><img alt="../_images/poishist3.png" src="../_images/poishist3.png" />
</td>
</tr>
</tbody>
</table>
</div>
<p>Comparaison entre une fonction de densité estimée empiriquement
pour un mélange de loi Poisson <img class="math" src="../_images/math/8b67c5a95b0dd1e05c2479bb0f01e7eaea2df9fa.svg" alt="N = N_1 + 2 N_2 + 3 N_3"/>
vérifiant <img class="math" src="../_images/math/fc741fe18499dd643831698da273164f19e3105f.svg" alt="N_1 \sim \mathcal{P}(48)"/>,
<img class="math" src="../_images/math/b3eb5f6331dc9059c1a310560b3d4709429a1751.svg" alt="N_2 \sim \mathcal{P}(10)"/>, <img class="math" src="../_images/math/52348170ea35f4df3b158a05ba39624f9beff4ab.svg" alt="N_3 \sim \mathcal{P}(4)"/>
avec la densité de la loi de Poisson de paramètre <img class="math" src="../_images/math/c184034937002879a3b6970c5ec0c722e4de36c2.svg" alt="\lambda=80=48+2*10+3*4"/>.
Il apparaît que ce sont deux densités différentes, celle du mélange
étant plus applatie. La seconde image montre ce qu’on obtient lorsque
le nombre de tirages n’est pas assez important.</p>
<p>On utilise ces éléments pour modéliser la demande de poulets
selon ce mélange de lois Poisson. Le premier programme est modifié
pour aboutir au suivant.</p>
<img alt="../_images/poulet10.png" src="../_images/poulet10.png" />
<p>Dans le cas du mélange de lois Poisson,
le maximum est cette-fois ci obtenu pour 87 poulets et est
de 225 euros. Ces résultats sont légèrement différents
de ceux obtenus par une simple loi Poisson (80).</p>
</section>
<section id="variations-saisonnieres-et-prolongations">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Variations saisonnières et prolongations</a><a class="headerlink" href="#variations-saisonnieres-et-prolongations" title="Lien vers cette rubrique">¶</a></h2>
<p>Les paragraphes précédents supposent que la demande est constante
et ne dépend pas des saisons. Cette affirmation est peut-être
vraie en ce concerne les poulets mais ce n’est certainement pas
le cas des huîtres qui sont traditionnellement consommées en décembre.
Appliqué à l’exemple des poulets décrits dans cet énoncé, la loi de Poisson
appliquée à la consommation dépend maintenant de la semaine.</p>
<p>Tenir compte de la saisonnalité n’est pas forcément un problème de
modélisation mais plutôt d’estimation. Au lieu d’avoir une seule
consommation moyenne, il y a en aura maintenant 52. Ceci implique d’avoir
des données en nombre suffisant pour estimer les paramètres du modèle :
la précision des résultats dépend de celle de l’estimation. Il est possible
d’estimer séparément les variations saisonnières et la demande elle-même
mais la présentation de ces techniques dépassent le cadre de ce livre, il
est préférable de se reporter à <a class="reference internal" href="#gourieroux1983" id="id1"><span>[Gouriéroux1983]</span></a> ou <a class="reference internal" href="#saporta2006" id="id2"><span>[Saporta2006]</span></a>.</p>
<p>Les poulets soldés ne sont pas plus mauvais que les poulets
non soldés bien que la date de péremption soit certainement plus rapprochée
de la date d’achat. On suppose qu’un gérant concurrent de ce supermarché
a eu vent de la technique d’optimisation du magasin, il connaît également
le prix du poulet et son prix soldé. Il a également accès au prix d’achat
puisqu’il se fournit chez les mêmes agriculteurs. Il lui reste à
connaître le nombre de poulets commandés et une estimation de la demande
pour savoir si les poulets de son concurrents se vendent mieux que les siens.
Il se rend dans le supermarché concurrent tous les jours où les poulets
sont soldés et les comptent. Il voudrait pouvoir en déduire le nombre de poulets vendus.</p>
</section>
<section id="bibliographie">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Bibliographie</a><a class="headerlink" href="#bibliographie" title="Lien vers cette rubrique">¶</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="gourieroux1983" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">Gouriéroux1983</a><span class="fn-bracket">]</span></span>
<p>Analyse des séries temporelles,
Christian Gouriéroux, Alain Monfort,
Editions Economica</p>
</div>
<div class="citation" id="saporta2006" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Saporta2006</a><span class="fn-bracket">]</span></span>
<p>Probabilités, analyse des données et statistique,
Gilbert Saporta, Editions Technip</p>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../notebooks/dsgarden/discret_gradient.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Le gradient et le discret</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../notebooks/dsgarden/file_dattente_ex.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">File d’attente, un exemple simple</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2016-2025, Xavier Dupré
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Optimisation avec données aléatoires</a><ul>
<li><a class="reference internal" href="#un-probleme-simple">Un problème simple</a></li>
<li><a class="reference internal" href="#modelisation-de-la-demande">Modélisation de la demande</a></li>
<li><a class="reference internal" href="#variations-saisonnieres-et-prolongations">Variations saisonnières et prolongations</a></li>
<li><a class="reference internal" href="#bibliographie">Bibliographie</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=0886690b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/translations.js?v=e6b791cb"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>