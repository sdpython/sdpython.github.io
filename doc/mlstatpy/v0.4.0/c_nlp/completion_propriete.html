
<!DOCTYPE html>


<html lang="fr" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Propriétés mathématiques &#8212; Documentation mlstatpy 0.4.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=927b94d3fcb96560df09" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=927b94d3fcb96560df09" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=927b94d3fcb96560df09" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=927b94d3fcb96560df09" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=927b94d3fcb96560df09" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=927b94d3fcb96560df09" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=927b94d3fcb96560df09"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=72ff47bc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/translations.js?v=d99ca74e"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'c_nlp/completion_propriete';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Problème d’optimisation" href="completion_optimisation.html" />
    <link rel="prev" title="Nouvelle métrique" href="completion_metrique.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Passer au contenu principal</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/project_ico.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/project_ico.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_clus/index.html">
                        Clustering
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index.html">
                        Non linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_lin.html">
                        Régression linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_log.html">
                        Régression logistique
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        NLP
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    More
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_metric/index.html">
                        Métriques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_algo/index.html">
                        Algorithmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_garden/index.html">
                        Pérégrinations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../i_ex.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../defthe_index.html">
                        Listes des définitions et théorèmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../auto_examples/index.html">
                        Gallery of examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../notebooks/index.html">
                        Galleries de notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__kbd-shortcut">Recherche</span>
    <span><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__kbd-shortcut">Recherche</span>
    <span><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_clus/index.html">
                        Clustering
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index.html">
                        Non linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_lin.html">
                        Régression linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_log.html">
                        Régression logistique
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        NLP
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    More
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_metric/index.html">
                        Métriques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_algo/index.html">
                        Algorithmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../c_garden/index.html">
                        Pérégrinations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../i_ex.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../defthe_index.html">
                        Listes des définitions et théorèmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../auto_examples/index.html">
                        Gallery of examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../notebooks/index.html">
                        Galleries de notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Navigation de la section">
  <p class="bd-links__title" role="heading" aria-level="1">Navigation de la section</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="completion.html">Complétion</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="completion_formalisation.html">Formalisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_fausse.html">Fausses idées reçues</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_metrique.html">Nouvelle métrique</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Propriétés mathématiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_optimisation.html">Problème d’optimisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_implementation.html">Implémentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_digression.html">Digressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Fil d'Ariane">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Accueil">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">NLP</a></li>
    
    
    <li class="breadcrumb-item"><a href="completion.html" class="nav-link">Complétion</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Propriétés mathématiques</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="proprietes-mathematiques">
<h1>Propriétés mathématiques<a class="headerlink" href="#proprietes-mathematiques" title="Lien permanent vers cette rubrique">#</a></h1>
<p>On s’intéresse principalement à la métrique <img class="math" src="../_images/math/fe4fe50f0877cd412ed6cd7f1a87e2ae67deca8e.svg" alt="M'"/> définie par
Dynamic Minimum Keystroke <a class="reference internal" href="completion_metrique.html#equation-completion-metric2">(1)</a> mais les résultats
seront étendues aux autres quand cela est possible.</p>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#calcul-pour-une-completion" id="id1">Calcul pour une complétion</a></p></li>
<li><p><a class="reference internal" href="#calcul-pour-une-requete-en-dehors" id="id2">Calcul pour une requête en dehors</a></p></li>
<li><p><a class="reference internal" href="#completions-emboitees" id="id3">Complétions emboîtées</a></p></li>
<li><p><a class="reference internal" href="#listes-tronquees-de-completions" id="id4">Listes tronquées de complétions</a></p></li>
</ul>
</nav>
<section id="calcul-pour-une-completion">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Calcul pour une complétion</a><a class="headerlink" href="#calcul-pour-une-completion" title="Lien permanent vers cette rubrique">#</a></h2>
<p>On a besoin d’une propriété pour calculer élégamment les métriques
pour l’ensemble des complétions.</p>
<div class="admonition-mathdef admonition" id="indexmathe-Lemme0">
<div class="docutils container">
</div>
<p class="admonition-title" id="lemme-mks-last">Lemme L1 : Dynamic Minimum Keystroke</p>
<p>On note <img class="math" src="../_images/math/6dd2a012c57cda82b5cfd19f59a139413e5506ff.svg" alt="d(q, S)"/> la longueur du plus long préfixe de <img class="math" src="../_images/math/53e75bcd7eafea2c0896729a913b09b70e220d12.svg" alt="q"/> inclus dans <img class="math" src="../_images/math/02d33d8a2d2c23238f1631066f0ced17db9634b2.svg" alt="S"/>.</p>
<div class="math">
<p><img src="../_images/math/6b1ab5e49cca45f89b47edc048e501989f8f77e9.svg" alt="d(q, S) = \max\acc{ l(p) | p \prec q, \; p \in S, \; p \neq q}"/></p>
</div><div class="math" id="equation-lemme-m2-nlp-comp">
<p><span class="eqno">(1)<a class="headerlink" href="#equation-lemme-m2-nlp-comp" title="Lien permanent vers cette équation">#</a></span><img src="../_images/math/ca5d23c06433c80908a3789e334aea956e8a5b9a.svg" alt="\begin{eqnarray*}
M'(q, S) &amp;=&amp; \min_{d(q, S) \infegal k &lt; l(q)} \acc{ M'(q[1..k], S) + \min( K(q, k, S), l(q) - k) }
\end{eqnarray*}"/></p>
</div></div>
<p>Il n’est pas nécessaire de regarder tous les préfixes mais seulement ceux entre le plus long préfixe
qui est aussi une complétion et la requête <img class="math" src="../_images/math/53e75bcd7eafea2c0896729a913b09b70e220d12.svg" alt="q"/>. La démonstration est identique à la démonstration
du lemme qui suit. L’idée de cette propriété est de pouvoir réduire le coût de l’algorithme
de calcul des métriques. Ce n’est pas la seule écriture qu’on puisse en fait.</p>
<p>Le calcul de la métrique <img class="math" src="../_images/math/fe4fe50f0877cd412ed6cd7f1a87e2ae67deca8e.svg" alt="M'"/> suggère qu’on doit faire ce calcul dans le sens
des préfixes croissants mais il serait plus simple de le faire dans le sens des complétions
de poids croissant (les complétions de moindre poids sont toujours affichées avant).</p>
<img alt="../_images/algocomp.png" src="../_images/algocomp.png" />
<p>Si l’algorithme est plus simple (sens de la fléche dans le figure précédente), il faut parfois
plusieurs itérations pour obtenir la valeur finale.</p>
</section>
<section id="calcul-pour-une-requete-en-dehors">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Calcul pour une requête en dehors</a><a class="headerlink" href="#calcul-pour-une-requete-en-dehors" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Mais il est faux de dire que pour deux requêtes en dehors de l’ensemble
des complétions, <img class="math" src="../_images/math/766ba82b25bba19025eef3eb6c8955e2c26d91fc.svg" alt="q_1 \preceq q_2 \Longrightarrow M'(q_1, S) \infegal M'(q_2, S)"/>.
Le lemme suivant précise pourquoi</p>
<div class="admonition-mathdef admonition" id="indexmathe-Lemme1">
<div class="docutils container">
</div>
<p class="admonition-title" id="lemme-nlp-long-completion">Lemme L2 : calcul de *M”(q, S)*</p>
<p>On suppose que <img class="math" src="../_images/math/d0fa7de4da53225f5e05b0a9f5685db9d00ff638.svg" alt="p(q, S)"/> est la complétion la plus longue
de l’ensemble <img class="math" src="../_images/math/02d33d8a2d2c23238f1631066f0ced17db9634b2.svg" alt="S"/> qui commence <img class="math" src="../_images/math/53e75bcd7eafea2c0896729a913b09b70e220d12.svg" alt="q"/> :</p>
<div class="math">
<p><img src="../_images/math/e35e9815279f875e42d6a461ad6dc04132497f67.svg" alt="\begin{eqnarray*}
k^* &amp;=&amp; \max\acc{ k | q[[1..k]] \prec q \text{ et } q \in S}  \\
p(q, S) &amp;=&amp; q[[1..k^*]]
\end{eqnarray*}"/></p>
</div><p>La métrique <img class="math" src="../_images/math/456dc0b0f1a0338e3cd6d4136ce4275fdf1a799d.svg" alt="M'(q, S)"/> vérifie la propriété suivante :</p>
<div class="math">
<p><img src="../_images/math/bf10b89589f7ef2f10701ac0166b01c60b953ee9.svg" alt="M'(q, S) = M'(p(q, S), S) + l(q) - l(p(q, S))"/></p>
</div></div>
<p>La métrique <img class="math" src="../_images/math/456dc0b0f1a0338e3cd6d4136ce4275fdf1a799d.svg" alt="M'(q, S)"/> est égale à celle du plus long préfixe inclus
dans l’ensemble les complétions à laquelle on ajoute la différence des longueurs.
Cela correspond aux caractères que l’utilisateur doit saisir.
La démonstration est assez simple. On suppose que cela n’est pas vrai et qu’il existe
un existe <img class="math" src="../_images/math/e2b9bb0394846e0f50d2dc147bb28c215cd3cbca.svg" alt="k &lt; k^*"/> tel que :</p>
<div class="math">
<p><img src="../_images/math/7b38f75e96d5a0573080bdd342983f81fb4e6e9b.svg" alt="\begin{eqnarray*}
&amp;&amp; M'(q[[1..k]], S) + l(q) - l(q[[1..k]]) &lt; M'(q[[1..k^*]], S) + l(q) - l(q[[1..k^*]]) \\
&amp; \Longrightarrow &amp; M'(q[[1..k]], S) - k &lt; M'(q[[1..k^*]], S) - k^* \\
&amp; \Longrightarrow &amp; M'(q[[1..k]], S) + (k^* - k) &lt; M'(q[[1..k^*]], S)
\end{eqnarray*}"/></p>
</div><p>Cela signifie qu’on a réussi une façon plus efficace d’écrire le préfixe
<img class="math" src="../_images/math/956539b36a65f4a2bb00fd9c9468513218e55a61.svg" alt="q[[1..k^*]]"/>. Or par définition <img class="math" src="../_images/math/e0585173ca8ffb3af1de6dd78d186601d6165b51.svg" alt="M'(q[[1..k^*]], S)"/>
est censée être le nombre de caractères minimal pour obtenir <img class="math" src="../_images/math/956539b36a65f4a2bb00fd9c9468513218e55a61.svg" alt="q[[1..k^*]]"/>.
Ce n’est donc pas possible.
Cette propriété est importante puisque pour calculer <img class="math" src="../_images/math/e0585173ca8ffb3af1de6dd78d186601d6165b51.svg" alt="M'(q[[1..k^*]], S)"/>,
il suffit de regarder le plus long préfixe appartenant à l’ensemble des complétions
et seulement celui-ci. Cet algorithme et implémenté par la méthode
<a class="reference internal" href="../api/modules/completion_simple.html#mlstatpy.nlp.completion_simple.CompletionSystem.enumerate_test_metric" title="mlstatpy.nlp.completion_simple.CompletionSystem.enumerate_test_metric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enumerate_test_metric</span></code></a>.
En ce qui concerne la métrique <img class="math" src="../_images/math/e5c619f0600e251cabb3318b03870bc6f2c4870f.svg" alt="M"/>, par définition
<img class="math" src="../_images/math/68c0689d6e996e8e288b2b50ffee223cef608ef5.svg" alt="\forall q \notin S, \; M(q, S) = 0"/>. La métrique
<img class="math" src="../_images/math/681c59afdf25ce7f3e21cb5f3453eed6c3a7cb07.svg" alt="M&quot;"/> m’évoque la <a class="reference external" href="https://www.youtube.com/watch?v=YV54e3R-rLg">côte anglaise</a>.
L’itération <img class="math" src="../_images/math/a5b5dc4891ce586bae4dd632d5cd833fbd1c26cc.svg" alt="n"/> fonctionne de la même manière à partir du moment où
la requête considérée ne fait pas partie de l’ensemble des complétions mais
il y a l’étage d’en dessous qui pose un doute.
Il y a un brin de poésie dans ce +1. L’application de l’implémentation du calcul
de la métrique montre que <img class="math" src="../_images/math/fe4fe50f0877cd412ed6cd7f1a87e2ae67deca8e.svg" alt="M'"/> et <img class="math" src="../_images/math/681c59afdf25ce7f3e21cb5f3453eed6c3a7cb07.svg" alt="M&quot;"/> sont très souvent égales.
Je vais laisser ce <img class="math" src="../_images/math/c3c53fe92058364e84e0d2731859244c933d674c.svg" alt="\delta"/> sous forme de poésie pour le moment.</p>
<p>Il faudrait terminer la démonstration pour <em>M</em>…</p>
</section>
<section id="completions-emboitees">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Complétions emboîtées</a><a class="headerlink" href="#completions-emboitees" title="Lien permanent vers cette rubrique">#</a></h2>
<p>On considère les complétions suivantes :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">actu</span>
<span class="n">actualité</span>
<span class="n">actualités</span>
<span class="n">actuel</span>
<span class="n">actuellement</span>
</pre></div>
</div>
<p>Pour le préfixe <em>actue</em>, on suggère <em>actuel</em> at <em>actuellement</em>.
Pour le préfixe <em>actua</em>, on suggère <em>actualité</em> at <em>actualités</em>.
Pour le préfixe <em>actu</em>, on suggère la concaténation de ces deux listes.
Par conséquent, pour construire les listes de complétions associées à chaque préfixe,
il paraît de partir des feuilles de l’arbre puis de fusionner les listes
de complétions jusqu’au noeud racine.
Plus concrètement, si deux complétions
vérifie <img class="math" src="../_images/math/de40ff65bd3e247f49d76096f7159361954a174c.svg" alt="q_1 \preceq q_2"/> alors l’ensemble des complétions
vérifie <img class="math" src="../_images/math/3c4e84718d3c65ca4888cb3fc1e9803b1fa88a25.svg" alt="C(q_1) \supset C(q_2)"/>. On peut même dire que :
<img class="math" src="../_images/math/b68ed6876ca41a98d5493f0a8f63335bbfc2aea6.svg" alt="C(q) = \cup \acc{ C(s) | s \succ q \in S}"/>. Cela signifie qu’une fois qu’on
a construit un trie représentant l’ensemble des complétions, il suffit de
partir des feuilles de l’arbre jusqu’à la racine pour construire la
liste des complétions à chaque étape et que pour un noeud précis,
la liste des complétions est l’union des listes de complétions des noeuds
fils.</p>
</section>
<section id="listes-tronquees-de-completions">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Listes tronquées de complétions</a><a class="headerlink" href="#listes-tronquees-de-completions" title="Lien permanent vers cette rubrique">#</a></h2>
<p>On reprend la première métrique <a class="reference internal" href="completion_formalisation.html#equation-completion-metric1">(1)</a> qui
utilise la fonction <img class="math" src="../_images/math/5aa4583d34305932fc13e2a09f8be44c7f033098.svg" alt="K(q, k, S)"/> définie en <a class="reference internal" href="completion_formalisation.html#equation-nlp-comp-k">(2)</a>.</p>
<div class="math">
<p><img src="../_images/math/55ecb0b07c915774810fcdb8c106ab756f98c0a4.svg" alt="\begin{eqnarray*}
M(q, S) &amp;=&amp; \min_{0 \infegal k \infegal l(q)}  k + K(q, k, S)
\end{eqnarray*}"/></p>
</div><p>Etant donné que le nombre minimum de caractères pour obtenir une complétion dans le trie
ne peut pas être supérieur à la longueur, si <img class="math" src="../_images/math/fdc344d4614b73d4386ca3340d2a3d3c026714f8.svg" alt="K(q, k, S) &gt; l(q) - k"/>, on sait déjà que
que le préfixe <img class="math" src="../_images/math/20f3297caf0b3989e836574ef7d7a57df4731b9d.svg" alt="q[1..k]"/> ne sera pas le minimum. Cette remarque est applicable
aux métriques <img class="math" src="../_images/math/fe4fe50f0877cd412ed6cd7f1a87e2ae67deca8e.svg" alt="M'"/> et <img class="math" src="../_images/math/681c59afdf25ce7f3e21cb5f3453eed6c3a7cb07.svg" alt="M&quot;"/>.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="completion_metrique.html"
       title="page précédente">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">précédent</p>
        <p class="prev-next-title">Nouvelle métrique</p>
      </div>
    </a>
    <a class="right-next"
       href="completion_optimisation.html"
       title="page suivante">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">suivant</p>
        <p class="prev-next-title">Problème d’optimisation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Sur cette page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calcul-pour-une-completion">Calcul pour une complétion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calcul-pour-une-requete-en-dehors">Calcul pour une requête en dehors</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#completions-emboitees">Complétions emboîtées</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#listes-tronquees-de-completions">Listes tronquées de complétions</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/c_nlp/completion_propriete.rst">
      <i class="fa-solid fa-file-lines"></i> Montrer le code source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=927b94d3fcb96560df09"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=927b94d3fcb96560df09"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2016-2023, Xavier Dupré.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Construit avec le <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">Thème PyData Sphinx</a> 0.14.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>