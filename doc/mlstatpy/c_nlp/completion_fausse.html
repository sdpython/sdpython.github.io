
<!DOCTYPE html>


<html lang="fr" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fausses idées reçues &#8212; Documentation mlstatpy 0.4.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'c_nlp/completion_fausse';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Nouvelle métrique" href="completion_metrique.html" />
    <link rel="prev" title="Formalisation" href="completion_formalisation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Passer au contenu principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/project_ico.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/project_ico.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_clus/index.html">
                        Clustering
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index.html">
                        Non linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_lin.html">
                        Régression linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_log.html">
                        Régression logistique
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        NLP
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_metric/index.html">
                        Métriques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_algo/index.html">
                        Algorithmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_garden/index.html">
                        Pérégrinations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_ex.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../defthe_index.html">
                        Listes des définitions et théorèmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Gallery of examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../notebooks/index.html">
                        Galleries de notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Navigation du site">
    Navigation du site
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_clus/index.html">
                        Clustering
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index.html">
                        Non linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_lin.html">
                        Régression linéaire
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_ml/index_reg_log.html">
                        Régression logistique
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        NLP
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_metric/index.html">
                        Métriques
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_algo/index.html">
                        Algorithmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../c_garden/index.html">
                        Pérégrinations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../i_ex.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../defthe_index.html">
                        Listes des définitions et théorèmes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Gallery of examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../notebooks/index.html">
                        Galleries de notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../CHANGELOGS.html">
                        Change Logs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../license.html">
                        License
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="clair/sombre" aria-label="clair/sombre" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Navigation de la section">
  <p class="bd-links__title" role="heading" aria-level="1">Navigation de la section</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="completion.html">Complétion</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="completion_formalisation.html">Formalisation</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Fausses idées reçues</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_metrique.html">Nouvelle métrique</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_propriete.html">Propriétés mathématiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_optimisation.html">Problème d’optimisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_implementation.html">Implémentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion_digression.html">Digressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_trie.html">Complétion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_profiling.html">Completion profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_trie_long.html">Completion Trie and metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/nlp/completion_simple.html">Complétion Simple</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Fils d'Ariane">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Fil d'Ariane">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Acceuil">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">NLP</a></li>
    
    
    <li class="breadcrumb-item"><a href="completion.html" class="nav-link">Complétion</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Fausses idées reçues</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="fausses-idees-recues">
<h1>Fausses idées reçues<a class="headerlink" href="#fausses-idees-recues" title="Lien permanent vers cette rubrique">#</a></h1>
<nav class="contents local" id="sommaire">
<ul class="simple">
<li><p><a class="reference internal" href="#il-faut-trier-les-completions-par-frequence-decroissante" id="id1">Il faut trier les complétions par fréquence décroissante</a></p></li>
<li><p><a class="reference internal" href="#il-faut-placer-les-completions-courtes-avant" id="id2">Il faut placer les complétions courtes avant</a></p></li>
<li><p><a class="reference internal" href="#il-faut-montrer-toutes-les-completions" id="id3">Il faut montrer toutes les complétions</a></p></li>
<li><p><a class="reference internal" href="#et-si-le-poids-de-chaque-completion-est-uniforme" id="id4">Et si le poids de chaque complétion est uniforme</a></p></li>
</ul>
</nav>
<section id="il-faut-trier-les-completions-par-frequence-decroissante">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Il faut trier les complétions par fréquence décroissante</a><a class="headerlink" href="#il-faut-trier-les-completions-par-frequence-decroissante" title="Lien permanent vers cette rubrique">#</a></h2>
<p>En pratique, cela marche plutôt bien. En théorie, cette assertion est fausse.
Prenons les quatre complétions suivantes :</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>q</p></th>
<th class="head"><p>fréquence</p></th>
<th class="head"><p>ordre</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>ab</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>abc</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>abcd</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
<p>Dans cet exemple, si l’utilisateur tape <code class="docutils literal notranslate"><span class="pre">ab</span></code>, il verra les complétions :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abc</span>
<span class="n">abcd</span>
</pre></div>
</div>
<p>Dans tous les cas, <span class="math notranslate nohighlight">\(K(q, k, S) = l(q) - k\)</span>. Cela veut dire
que l’utilisateur ne gagnera rien. En revanche, avec l’ordre suivant :</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>q</p></th>
<th class="head"><p>ordre</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>ab</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>abc</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>abcd</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Si l’utilisateur tape <code class="docutils literal notranslate"><span class="pre">ab</span></code>, il verra les complétions :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abcd</span>
<span class="n">abc</span>
</pre></div>
</div>
<p>Le nombre de caractères économisés sera :</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>q</p></th>
<th class="head"><p>fréquence</p></th>
<th class="head"><p>ordre</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(M(q, S)\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>ab</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>abc</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>abcd</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1 = <span class="math notranslate nohighlight">\(K(q, 0, S)\)</span></p></td>
</tr>
</tbody>
</table>
<p>D’où un gain total de <span class="math notranslate nohighlight">\(G(S)=3\)</span>.</p>
</section>
<section id="il-faut-placer-les-completions-courtes-avant">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Il faut placer les complétions courtes avant</a><a class="headerlink" href="#il-faut-placer-les-completions-courtes-avant" title="Lien permanent vers cette rubrique">#</a></h2>
<p>Le cas précédent est déjà un contre exemple.
Mais d’un point de vue utilisateur, il n’est pas facile de lire
des complétions de longueurs différentes. Cela veut peut-être dire aussi
que la métrique considérée pour choisir le meilleur système de complétion
est faux. Cela sera discuté à la prochaine section.</p>
</section>
<section id="il-faut-montrer-toutes-les-completions">
<span id="l-nlp-comp-montre"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Il faut montrer toutes les complétions</a><a class="headerlink" href="#il-faut-montrer-toutes-les-completions" title="Lien permanent vers cette rubrique">#</a></h2>
<p id="index-0">Le premier exemple offre aussi un contre exemple.
Dans cet exemple, l’ensemble <span class="math notranslate nohighlight">\(Q=(q_i)\)</span> des
requêtes utilisateurs et l’ensemble <span class="math notranslate nohighlight">\(S=(s_i)\)</span>
des <strong>complétions</strong> ou <strong>requêtes complètes</strong> est le même.
Il suffit de la modifier un peu. On enlève
la requête <em>ab</em> de <span class="math notranslate nohighlight">\(S\)</span>.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>q</p></th>
<th class="head"><p>fréquence</p></th>
<th class="head"><p>ordre</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(M(q, S)\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>ab</p></td>
<td><p>3</p></td>
<td><p><span class="math notranslate nohighlight">\(\infty\)</span></p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>abc</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>abcd</p></td>
<td><p>1</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
</tr>
</tbody>
</table>
<p>D’où un gain total de <span class="math notranslate nohighlight">\(G(S)=2\)</span>. En conclusion,
si j’enlève une petite complétion pour laquelle le gain est nul,
il est possible que le gain pour les suivantes soit positif.
On en retient qu’il ne faut pas montrer trop de complétions
qui se distinguent d’un caractère. Plus généralement,
il ne sert à rien de montrer des complétions plus longue que le préfixe d’un caractère.
Par extension, si une complétion est plus longue que
le préfixe de <span class="math notranslate nohighlight">\(d\)</span> caractères, il faut la montrer à une position
inférieure à <span class="math notranslate nohighlight">\(d\)</span>.</p>
</section>
<section id="et-si-le-poids-de-chaque-completion-est-uniforme">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Et si le poids de chaque complétion est uniforme</a><a class="headerlink" href="#et-si-le-poids-de-chaque-completion-est-uniforme" title="Lien permanent vers cette rubrique">#</a></h2>
<p>On suppose que les complétions ont toutes le même poids <span class="math notranslate nohighlight">\(w_i=1\)</span>.
Dans quel ordre faut-il ranger les complétions pour économiser le
plus de caractères. On aurait tendance à dire la plus longue d’abord
ce qu’on peut vérifier dans le notebook <a class="reference internal" href="../notebooks/nlp/completion_trie.html"><span class="std std-ref">Complétion</span></a>.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>q</p></th>
<th class="head"><p>fréquence</p></th>
<th class="head"><p>ordre</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(M(q, S)\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a</p></td>
<td><p>1</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>ab</p></td>
<td><p>1</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>abc</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>abcd</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>Ajouter deux autres complétions disjointes <em>edf</em>, <em>edfh</em>.
Le gain maximum est 6 et il y a plusieurs ordres :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;edf&#39;</span><span class="p">,</span> <span class="s1">&#39;edfh&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span>
<span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;edfh&#39;</span><span class="p">,</span> <span class="s1">&#39;edf&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span>
<span class="o">...</span>
</pre></div>
</div>
<p>On a presque l’impression qu’on peut traiter chaque bloc
séparément <em>a, ab, abc, abcd</em> d’un côté et <em>edf, edfh</em> de l’autre.
A l’intérieur des blocs, les règles seront les mêmes.</p>
<img alt="../_images/trieex.png" src="../_images/trieex.png" />
<p>En résumé, si on connaît le meilleur ordre pour toutes les mots sur les noeuds
terminaux dans les bulles rouges, dans la bulle verte, le meilleur ordre
sera une fusion des deux listes ordonnées.</p>
<p>Quelques essais sur le notebook ont tendance à montrer que l’ordre
a peu d’impact sur le résultat final lorsque les complétions ont le même poids.
Avec quatre mots, la somme des gains est identique quelque soit l’ordre.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">=</span><span class="n">poids</span> <span class="n">g</span><span class="o">=</span><span class="n">gain</span>

<span class="mf">20.0</span> <span class="o">-</span> <span class="n">actuellement</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">11.0</span> <span class="o">|</span> <span class="n">acte</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">2.0</span> <span class="o">|</span> <span class="n">actes</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">2.0</span> <span class="o">|</span> <span class="n">actualité</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">5.0</span>
<span class="mf">20.0</span> <span class="o">-</span> <span class="n">acte</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">3.0</span> <span class="o">|</span> <span class="n">actuellement</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">10.0</span> <span class="o">|</span> <span class="n">actualité</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">6.0</span> <span class="o">|</span> <span class="n">actes</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">1.0</span>
<span class="mf">20.0</span> <span class="o">-</span> <span class="n">acte</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">3.0</span> <span class="o">|</span> <span class="n">actes</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">3.0</span> <span class="o">|</span> <span class="n">actualité</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">6.0</span> <span class="o">|</span> <span class="n">actuellement</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">8.0</span>
</pre></div>
</div>
<p>Mais si on change le poids de l’une d’elles, elle se retrouve en première position.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">19.2</span> <span class="o">-</span> <span class="n">actes</span> <span class="n">p</span><span class="o">=</span><span class="mf">2.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">4.0</span> <span class="o">|</span> <span class="n">actuellement</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">10.0</span> <span class="o">|</span> <span class="n">acte</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">|</span> <span class="n">actualité</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">5.0</span>
<span class="mf">19.2</span> <span class="o">-</span> <span class="n">actes</span> <span class="n">p</span><span class="o">=</span><span class="mf">2.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">4.0</span> <span class="o">|</span> <span class="n">actuellement</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">10.0</span> <span class="o">|</span> <span class="n">actualité</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">6.0</span> <span class="o">|</span> <span class="n">acte</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span> <span class="n">g</span><span class="o">=</span><span class="mf">0.0</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="completion_formalisation.html"
       title="page précédente">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">précédent</p>
        <p class="prev-next-title">Formalisation</p>
      </div>
    </a>
    <a class="right-next"
       href="completion_metrique.html"
       title="page suivante">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">suivant</p>
        <p class="prev-next-title">Nouvelle métrique</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Sur cette page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#il-faut-trier-les-completions-par-frequence-decroissante">Il faut trier les complétions par fréquence décroissante</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#il-faut-placer-les-completions-courtes-avant">Il faut placer les complétions courtes avant</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#il-faut-montrer-toutes-les-completions">Il faut montrer toutes les complétions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#et-si-le-poids-de-chaque-completion-est-uniforme">Et si le poids de chaque complétion est uniforme</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/c_nlp/completion_fausse.rst">
      <i class="fa-solid fa-file-lines"></i> Montrer le code source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2016-2023, Xavier Dupré.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Construit avec le <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">Thème PyData Sphinx</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>