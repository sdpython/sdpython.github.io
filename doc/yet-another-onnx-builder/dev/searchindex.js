Search.setIndex({"alltitles":{"1. Standard ONNX operators":[[24,"standard-onnx-operators"]],"2. FusedMatMul (com.microsoft contrib operator)":[[24,"fusedmatmul-com-microsoft-contrib-operator"]],"3. QuickGelu (com.microsoft contrib operator)":[[24,"quickgelu-com-microsoft-contrib-operator"]],"4. Adding a custom operator via new_ops":[[24,"adding-a-custom-operator-via-new-ops"]],"5. Listing the default operators":[[24,"listing-the-default-operators"]],"API Reference":[[5,null]],"Automatic expression simplification":[[25,"automatic-expression-simplification"]],"Automatic simplification":[[29,"automatic-simplification"]],"BasicShapeBuilder":[[15,"basicshapebuilder"]],"Build a small model":[[23,"build-a-small-model"]],"Comparison with ONNX shape inference":[[29,"comparison-with-onnx-shape-inference"]],"Computation times":[[26,null],[31,null]],"Computed Shapes: Add + Concat + Reshape":[[23,null]],"Concat: summing two dynamic dimensions":[[25,"concat-summing-two-dynamic-dimensions"]],"Contents:":[[30,null]],"Elements of Design":[[28,null]],"Evaluate symbolic shapes with concrete values":[[23,"evaluate-symbolic-shapes-with-concrete-values"]],"Evaluating symbolic expressions at runtime":[[29,"evaluating-symbolic-expressions-at-runtime"]],"Evaluating symbolic shapes with concrete values":[[25,"evaluating-symbolic-shapes-with-concrete-values"]],"Example":[[29,"example"]],"Expressions in Shape Computation":[[25,null]],"ExtendedReferenceEvaluator":[[7,"extendedreferenceevaluator"],[27,null]],"ExtendedReferenceEvaluator: running models with contrib operators":[[24,null]],"Gallery of Examples":[[22,null]],"How it works":[[25,"how-it-works"]],"Indices and tables":[[30,"indices-and-tables"]],"Older versions":[[30,"older-versions"]],"Other functions":[[2,"other-functions"]],"Reshape: floor-division expressions":[[25,"reshape-floor-division-expressions"]],"See also":[[25,"see-also"]],"Shape inference with BasicShapeBuilder":[[23,"shape-inference-with-basicshapebuilder"]],"Shape inference with ONNX":[[23,"shape-inference-with-onnx"]],"ShapeBuilder":[[15,"shapebuilder"],[29,null]],"Split: ceiling-division expressions":[[25,"split-ceiling-division-expressions"]],"Supported operators in symbolic expressions":[[29,"supported-operators-in-symbolic-expressions"]],"Symbolic Expressions":[[29,"symbolic-expressions"]],"Verify with real data":[[23,"verify-with-real-data"]],"modules":[[2,null],[7,null],[15,null]],"yet-another-onnx-builder documentation":[[30,null]],"yobx.helpers":[[2,null]],"yobx.helpers.cache_helper":[[0,null]],"yobx.helpers.helper":[[1,null]],"yobx.helpers.onnx_helper":[[3,null]],"yobx.helpers.torch_helper":[[4,null]],"yobx.reference":[[7,null]],"yobx.reference.evaluator":[[6,null]],"yobx.xshape":[[15,null]],"yobx.xshape._builder_runtime":[[8,null]],"yobx.xshape._inference_runtime":[[9,null]],"yobx.xshape._onnx_helper":[[10,null]],"yobx.xshape._shape_helper":[[11,null]],"yobx.xshape._shape_runtime":[[12,null]],"yobx.xshape.evaluate_expressions":[[13,null]],"yobx.xshape.expressions_torch":[[14,null]],"yobx.xshape.rename_expressions":[[16,null]],"yobx.xshape.shape_builder":[[17,null]],"yobx.xshape.shape_builder_impl":[[18,null]],"yobx.xshape.shape_type_compute":[[19,null]],"yobx.xshape.simplify_expressions":[[20,null]],"yobx.xshape.type_inference":[[21,null]]},"docnames":["api/helpers/cache_helper","api/helpers/helper","api/helpers/index","api/helpers/onnx_helper","api/helpers/torch_helper","api/index","api/reference/evaluator","api/reference/index","api/xshape/_builder_runtime","api/xshape/_inference_runtime","api/xshape/_onnx_helper","api/xshape/_shape_helper","api/xshape/_shape_runtime","api/xshape/evaluate_expressions","api/xshape/expressions_torch","api/xshape/index","api/xshape/rename_expressions","api/xshape/shape_builder","api/xshape/shape_builder_impl","api/xshape/shape_type_compute","api/xshape/simplify_expressions","api/xshape/type_inference","auto_examples/index","auto_examples/plot_computed_shapes","auto_examples/plot_extended_reference_evaluator","auto_examples/plot_shape_expressions","auto_examples/sg_execution_times","design/evaluator","design/index","design/shape","index","sg_execution_times"],"envversion":{"sphinx":66,"sphinx.domains.c":3,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":9,"sphinx.domains.index":1,"sphinx.domains.javascript":3,"sphinx.domains.math":2,"sphinx.domains.python":4,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,"sphinx.ext.viewcode":1},"filenames":["api/helpers/cache_helper.rst","api/helpers/helper.rst","api/helpers/index.rst","api/helpers/onnx_helper.rst","api/helpers/torch_helper.rst","api/index.rst","api/reference/evaluator.rst","api/reference/index.rst","api/xshape/_builder_runtime.rst","api/xshape/_inference_runtime.rst","api/xshape/_onnx_helper.rst","api/xshape/_shape_helper.rst","api/xshape/_shape_runtime.rst","api/xshape/evaluate_expressions.rst","api/xshape/expressions_torch.rst","api/xshape/index.rst","api/xshape/rename_expressions.rst","api/xshape/shape_builder.rst","api/xshape/shape_builder_impl.rst","api/xshape/shape_type_compute.rst","api/xshape/simplify_expressions.rst","api/xshape/type_inference.rst","auto_examples/index.rst","auto_examples/plot_computed_shapes.rst","auto_examples/plot_extended_reference_evaluator.rst","auto_examples/plot_shape_expressions.rst","auto_examples/sg_execution_times.rst","design/evaluator.rst","design/index.rst","design/shape.rst","index.rst","sg_execution_times.rst"],"indexentries":{},"objects":{"yobx":[[2,0,0,"-","helpers"]],"yobx.helpers":[[0,0,0,"-","cache_helper"],[1,0,0,"-","helper"],[2,4,1,"","max_diff"],[3,0,0,"-","onnx_helper"],[2,4,1,"","string_type"],[4,0,0,"-","torch_helper"]],"yobx.helpers.cache_helper":[[0,1,1,"","CacheKeyValue"],[0,4,1,"","finalize_cache"],[0,4,1,"","flatten_unflatten_for_dynamic_shapes"],[0,4,1,"","make_dynamic_cache"],[0,4,1,"","make_static_cache"]],"yobx.helpers.cache_helper.CacheKeyValue":[[0,2,1,"","aslist"],[0,2,1,"","make_dynamic_cache"],[0,3,1,"","n_layers"]],"yobx.helpers.helper":[[1,4,1,"","flatten_object"],[1,4,1,"","make_hash"],[1,4,1,"","max_diff"],[1,4,1,"","string_sig"],[1,4,1,"","string_signature"],[1,4,1,"","string_type"]],"yobx.helpers.onnx_helper":[[3,4,1,"","dtype_to_tensor_dtype"],[3,4,1,"","np_dtype_to_tensor_dtype"],[3,4,1,"","onnx_dtype_name"],[3,4,1,"","pretty_onnx"],[3,4,1,"","tensor_dtype_to_np_dtype"]],"yobx.helpers.torch_helper":[[4,4,1,"","onnx_dtype_to_torch_dtype"],[4,4,1,"","to_numpy"],[4,4,1,"","torch_dtype_to_onnx_dtype"]],"yobx.reference":[[7,1,1,"","ExtendedReferenceEvaluator"],[6,0,0,"-","evaluator"]],"yobx.reference.ExtendedReferenceEvaluator":[[7,2,1,"","run"]],"yobx.xshape":[[15,1,1,"","BasicShapeBuilder"],[15,1,1,"","ShapeBuilder"],[8,0,0,"-","_builder_runtime"],[9,0,0,"-","_inference_runtime"],[10,0,0,"-","_onnx_helper"],[11,0,0,"-","_shape_helper"],[12,0,0,"-","_shape_runtime"],[13,0,0,"-","evaluate_expressions"],[14,0,0,"-","expressions_torch"],[16,0,0,"-","rename_expressions"],[17,0,0,"-","shape_builder"],[18,0,0,"-","shape_builder_impl"],[19,0,0,"-","shape_type_compute"],[20,0,0,"-","simplify_expressions"],[21,0,0,"-","type_inference"]],"yobx.xshape.BasicShapeBuilder":[[15,2,1,"","add_dynamic_dimension"],[15,2,1,"","get_constant"],[15,2,1,"","get_debug_msg"],[15,2,1,"","get_rank"],[15,2,1,"","get_shape"],[15,2,1,"","get_type"],[15,2,1,"","has_rank"],[15,2,1,"","has_shape"],[15,2,1,"","has_type"],[15,3,1,"","input_names"],[15,2,1,"","is_constant"],[15,3,1,"","output_names"],[15,2,1,"","register_constraint_dimension"],[15,2,1,"","register_dynamic_objects_from_dim"],[15,2,1,"","run_model"],[15,2,1,"","run_node"],[15,2,1,"","run_value_info"],[15,2,1,"","set_constant"],[15,2,1,"","set_device"],[15,2,1,"","set_rank"],[15,2,1,"","set_shape"],[15,2,1,"","set_type"],[15,2,1,"","set_value_shape"],[15,2,1,"","unique_dimension_name"],[15,2,1,"","value_as_shape"]],"yobx.xshape.ShapeBuilder":[[15,2,1,"","compare_with_true_inputs"],[15,2,1,"","get_attribute"],[15,2,1,"","get_attribute_with_default"],[15,2,1,"","get_attributes_with_default"],[15,2,1,"","get_rank"],[15,2,1,"","get_shape"],[15,2,1,"","get_type"],[15,3,1,"","input_names"],[15,3,1,"","output_names"],[15,2,1,"","pretty_node"],[15,2,1,"","register_constraint_dimension"],[15,2,1,"","set_rank"],[15,2,1,"","set_shape"],[15,2,1,"","set_type"],[15,2,1,"","update_shapes"]],"yobx.xshape._builder_runtime":[[8,1,1,"","_BuilderRuntime"]],"yobx.xshape._builder_runtime._BuilderRuntime":[[8,2,1,"","_apply_expand_to_shape"],[8,2,1,"","_apply_reshape_to_shape"],[8,2,1,"","make_torch_tensor_from_np_array"]],"yobx.xshape._inference_runtime":[[9,1,1,"","_InferenceRuntime"],[9,1,1,"","_OptimizationOptions"]],"yobx.xshape._inference_runtime._InferenceRuntime":[[9,1,1,"","ShapeConstant"],[9,2,1,"","_get_tensor_shape"],[9,2,1,"","_get_tensor_type"],[9,2,1,"","_make_node_set_type_shape"],[9,2,1,"","compute_constant"],[9,2,1,"","make_dimension_name_if_necessary"],[9,2,1,"","update_node_constant"]],"yobx.xshape._onnx_helper":[[10,4,1,"","element_wise_binary_op_types"],[10,4,1,"","element_wise_op_cmp_types"],[10,4,1,"","enumerate_subgraphs"],[10,4,1,"","overwrite_shape_in_model_proto"],[10,4,1,"","replace_static_dimensions_by_strings"],[10,4,1,"","str_tensor_proto_type"],[10,4,1,"","unary_like_op_types"]],"yobx.xshape._shape_helper":[[11,4,1,"","_reshape_shape"],[11,4,1,"","compatible_dimensions"],[11,4,1,"","compatible_shapes"],[11,4,1,"","reshape_implementation_with_zero"]],"yobx.xshape._shape_runtime":[[12,1,1,"","_ShapeRuntime"]],"yobx.xshape._shape_runtime._ShapeRuntime":[[12,2,1,"","simple_update_value_shape_with_node"]],"yobx.xshape.evaluate_expressions":[[13,4,1,"","evaluate_expression"]],"yobx.xshape.expressions_torch":[[14,1,1,"","Expression"],[14,4,1,"","parse_expression"]],"yobx.xshape.expressions_torch.Expression":[[14,2,1,"","isidentifier"]],"yobx.xshape.rename_expressions":[[16,1,1,"","RenameTransformer"],[16,4,1,"","parse_expression_tokens"],[16,4,1,"","rename_dynamic_dimensions"],[16,4,1,"","rename_dynamic_expression"],[16,4,1,"","rename_expression"]],"yobx.xshape.shape_builder":[[17,4,1,"","make_hash"]],"yobx.xshape.shape_type_compute":[[19,4,1,"","broadcast_shape"],[19,4,1,"","set_shape_type_custom"],[19,4,1,"","set_shape_type_op_any"],[19,4,1,"","set_type_shape_binary_op"],[19,4,1,"","set_type_shape_gemm"],[19,4,1,"","set_type_shape_matmul"],[19,4,1,"","set_type_shape_reduce_op"],[19,4,1,"","set_type_shape_reshape"],[19,4,1,"","set_type_shape_unary_op"],[19,4,1,"","set_type_shape_unary_op_abs"]],"yobx.xshape.simplify_expressions":[[20,1,1,"","CommonTransformer"],[20,1,1,"","CommonVisitor"],[20,1,1,"","ExactMulDivConstantFolderTransformer"],[20,1,1,"","ExpressionSimplifierAddVisitor"],[20,1,1,"","MaxToXorTransformer"],[20,1,1,"","MulDivCancellerTransformer"],[20,1,1,"","ReorderCommutativeOpsTransformer"],[20,1,1,"","SimpleSimpliflyTransformer"],[20,1,1,"","SimplifyParensTransformer"],[20,4,1,"","simplify_expression"],[20,4,1,"","simplify_two_expressions"]],"yobx.xshape.simplify_expressions.ExpressionSimplifierAddVisitor":[[20,2,1,"","generic_visit"]],"yobx.xshape.type_inference":[[21,4,1,"","infer_types"]]},"objnames":{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","property","Python property"],"4":["py","function","Python function"]},"objtypes":{"0":"py:module","1":"py:class","2":"py:method","3":"py:property","4":"py:function"},"terms":{"15s":23,"20s":25,"5s":29,"A":[1,2,14,15,25,29],"After":29,"And":10,"Each":15,"For":[15,23,25,29],"If":[9,11,15],"It":[0,1,3,8,12,15,29],"Most":8,"Not":10,"Or":10,"Other":5,"The":[0,1,2,7,15,16,23,24,25,29,30],"They":10,"This":[0,15,19,23,24,25,29],"To":20,"When":[15,16,23,25,29],"While":29,"With":[1,2,24,30],"You":[1,2],"__module__":0,"_apply_expand_to_shap":[5,8],"_apply_reshape_to_shap":[5,8],"_bootstrap":0,"_builder_runtim":[5,15],"_builderruntim":[5,8,29],"_get_tensor_shap":[5,9],"_get_tensor_typ":[5,9],"_index":[1,2],"_inference_runtim":[5,15],"_inferenceruntim":[5,8,9,29],"_known":12,"_kwarg":15,"_make_node_set_type_shap":[5,9],"_onnx_help":[5,15],"_optimizationopt":[5,9],"_reshape_shap":[5,11],"_run":[7,24],"_shape_help":[5,15],"_shape_runtim":[5,15],"_shaperuntim":[5,12,29],"_value_shap":12,"a0":[1,2],"a3":[1,2],"ab":[1,2,10,19],"abl":0,"absolut":[1,2],"accept":1,"aco":10,"acosh":10,"activ":24,"actual":[23,25,29],"add":[7,10,15,19,22,25,26,29,31],"add_concat_reshap":23,"add_dynamic_dimens":[5,15],"add_graph":[7,24],"addit":[7,20,23,24,29],"allclos":24,"allow":[1,2,7,9,15],"allow_empti":9,"allow_unique_tensor_with_list_of_one_el":[1,2],"allowzero":11,"along":[15,23,25,29],"alpha":24,"also":[0,15,24],"alway":[15,24],"ani":[0,1,2,7,9,11,14,15,16,17,19,24,29],"anyth":15,"api":[0,15,30],"appear":[19,29],"appli":[19,24,29],"applic":[1,2],"appropri":[0,25],"arang":[7,24],"arg":7,"argument":[0,24,29],"arithmet":[15,23,25,29],"arr":8,"array":[1,2,7,8,11,15,23,24,25,29],"as_shap":15,"asin":10,"asinh":10,"aslist":[0,5],"assert":24,"assign":23,"associ":15,"assum":19,"ast":[14,16,20,25,29],"astyp":[23,29],"atan":10,"atanh":10,"att_nam":15,"attent":[7,24],"attribut":[0,3,15,25],"attributeproto":[3,15],"auto_exampl":26,"auto_examples_jupyt":22,"auto_examples_python":22,"automat":[15,24,28],"avail":[15,25,29],"averag":[1,2],"avoid":16,"axe":19,"axi":[15,23,25,29],"b":[9,20,25,29],"back":23,"backend":7,"ban_prefix":16,"base":[15,16,20,29],"basic":[7,15],"basicshapebuild":[5,9,25,29],"batch":[15,20,23,25,29],"becaus":[15,19,23,25,29],"becom":15,"befor":[0,3,15,24,25,29],"begin":[1,2,19],"better":[3,29],"bfloat16":[3,10],"biassoftmax":[7,24],"big":15,"binari":19,"bitshift":10,"bitwiseand":10,"bitwisenot":10,"bitwiseor":10,"bitwisexor":10,"bool":[0,1,2,3,9,10,11,12,14,15,19,21],"bound":[],"broadcast":19,"broadcast_shap":[5,19],"bsize":0,"build":[0,15,16,29],"builder":[15,23,25,29],"builder_reshap":25,"builder_split":25,"built":[7,15,24,25,29],"builtin":0,"c":25,"cach":0,"cache_help":[2,5],"cache_util":0,"cachekeyvalu":[0,5],"call":[20,25,29],"callabl":[0,1],"can":[0,1,2,3,7,11,15,16,19,23,24,25,29],"cancel":25,"canonicalis":25,"capi":0,"captur":25,"carri":29,"case":29,"cast":10,"castlik":10,"ceil":10,"ceiltoint":25,"celu":10,"chain":20,"chang":[10,29],"change_funct":0,"char":30,"check":[11,15],"class":[0,1,7,8,9,12,14,15,16,20,24,29],"clip":10,"closer":0,"cls_kwarg":0,"cls_layer":0,"cmp_op":19,"code":[1,2,22,23,24,25],"collaps":23,"com":[7,27],"come":15,"common":[1,25],"commontransform":[5,20],"commonvisitor":[5,20],"compar":[15,23],"compare_with_true_input":[5,15,23],"comparison":[1,2,10,23,28],"compat":11,"compatible_dimens":[5,11],"compatible_shap":[5,11],"complex":29,"complex128":10,"complex64":10,"complexmodul":[7,24],"comput":[1,2,8,9,11,15,19,22,24,29],"compute_const":[5,8,9],"computed_valu":15,"concat":[15,22,26,29,31],"concat_graph":25,"concat_out":[23,29],"concaten":[15,23,25],"concret":[15,29],"confirm":23,"conflict":15,"consid":[0,1,2],"consist":0,"constant":[9,15,16,20,23,24,25,29],"constraint":[15,16,19],"construct":25,"contain":[23,24,25,29],"content":[1,2],"context":[0,13,14,23,25,29],"context_split":25,"contrib":[7,22,23,25,26,27,31],"convers":15,"convert":[3,4,8,15,19],"correct":29,"correspond":3,"cos":10,"cosh":10,"coupl":[8,15],"creat":[0,9],"cu130":30,"cumsum":10,"custom":[0,7,20],"custom_graph":7,"d":[11,15,23,25,29],"d1":29,"d2":11,"d_model":[23,29],"data":11,"data_typ":3,"dd":11,"deal":[12,15],"debug":[1,2,15],"debug_info":[1,2],"deduc":29,"deep":1,"deeper":25,"def":[7,24],"default":[1,7,9,15],"default_op":[7,24],"default_valu":15,"defin":[1,2,25,29],"definit":0,"demonstr":29,"depend":15,"deprec":0,"deprecationwarn":0,"dequantizelinear":10,"deriv":[25,29],"descript":[23,25],"design":[25,30],"desir":21,"detail":23,"determin":15,"dev":[1,2,30],"dev0":30,"dev20260224":30,"develop":15,"devic":[1,2,15],"dict":[0,1,2,7,9,10,13,14,15,16,20,23,25,29],"dictionari":[0,1,2,16],"differ":[0,1,2,23,25,29],"dim":[0,11,15,23],"dim_nam":15,"dim_param":23,"dim_valu":23,"dimens":[0,9,10,11,13,14,15,16,23,29],"dir":30,"discrep":[1,2,15],"display":[1,2,3,15],"div":10,"divid":25,"divis":[20,29],"dnan":[1,2],"doe":[0,24,29],"domain":[7,24,27],"done":29,"doubl":[10,29],"download":[22,23,24,25],"drop":[1,24],"drop_key":1,"dt":3,"dtype":[1,2,3,4,7,15,23,24,25,29],"dtype_to_tensor_dtyp":[3,5],"dyn":16,"dynam":[0,10,11,15,16,19,23,29],"dynamiccach":0,"dynamicquantizelinear":10,"dynamicslidingwindowlay":0,"e":[7,15,24,25,29],"e402":24,"either":[15,25,29],"element":[1,2,3,4,9,10,15,21,23,24,30],"element_wise_binary_op_typ":[5,10],"element_wise_op_cmp_typ":[5,10],"els":23,"elu":10,"embed":[1,2],"empti":[9,15],"enabl":0,"end":[1,2,23,24,25],"ensur":0,"enumer":10,"enumerate_subgraph":[5,10],"environ":15,"equal":[10,11,15,16],"equal_to":15,"equival":[25,29],"erf":10,"error":[1,2,16,20],"etc":29,"evalu":[5,7,11,13,15,24,28],"evaluate_express":[5,15,25,29],"evaluate_shap":[15,23,25,29],"even":[9,11,25],"everi":[24,25,29],"exact":[15,20],"exactmuldivconstantfoldertransform":[5,20],"exampl":[0,20,23,24,25,26,27,28,31],"exc":[3,9,14,15,19,21],"except":[9,14,15,21],"execut":[24,26,31],"exhaust":16,"exist":[15,20],"exp":[10,19],"exp1":20,"exp2":20,"expect":[0,1,2,15,23],"explicit":[20,25],"export":[0,8,16],"expr":[14,16,20,23,25],"expr1":20,"expr2":20,"express":[0,5,13,14,15,16,20,22,23,24,26,28,31],"expressions_torch":[5,15],"expressionsimplifieraddvisitor":[5,20],"ext":30,"extend":[7,24],"extended_reference_evalu":[],"extendedreferenceevalu":[5,22,23,25,26,28,30,31],"extra":7,"extract":16,"f":[1,2,15,23,25,29],"fact":11,"factor":24,"fail":[14,15],"failur":9,"faketensor":[0,1,2,9],"fals":[0,1,2,3,9,11,15,19],"feed":23,"file":[26,31],"fill":15,"final":23,"finalize_cach":[0,5],"first":[1,2,11,19,24,25],"fix":23,"flatten":[1,2,23],"flatten_object":[1,5],"flatten_unflatten_for_dynamic_shap":[0,5],"float":[1,2,7,8,10,11,15,19,23,24,25,29],"float16":[1,2,10],"float32":[7,23,24,29],"float4e2m1":10,"float8e4m3fn":10,"float8e4m3fnuz":10,"float8e5m2":10,"float8e5m2fnuz":10,"float8e8m0":10,"floor":[10,29],"fold":[20,25,29],"follow":[0,1,2,7,10,11,23,29,30],"form":[25,29],"formula":[14,29],"four":[1,17],"fresh":29,"from_array":[23,25,29],"frozen":0,"full":[12,15,23,24,25],"fulli":[0,29],"function":[0,1,5,7,8,15,16,19,20,23,29],"functionproto":[3,7,15,21],"fuse":24,"fused_matmul_graph":24,"fused_matmul_transa_graph":24,"fused_mm":7,"fusedmatmul":7,"g":[7,15,19,24,25,29],"galleri":[23,24,25,29,31],"gate":24,"gemm":19,"generat":[22,23,24,25,29],"generic_visit":[5,20],"get":29,"get_attribut":[5,15],"get_attribute_with_default":[5,15],"get_attributes_with_default":[5,15],"get_const":[5,15],"get_debug_msg":[5,15],"get_rank":[5,15],"get_shap":[5,15,23,25,29],"get_typ":[5,15,29],"give":[0,23],"given":[1,29],"go":[15,23,24,25],"got":[1,2],"graph":[10,15,19,23,25,29],"graph_build":19,"graphbuild":19,"graphproto":[3,10,15],"greater":10,"greaterorequ":10,"halv":25,"handl":[0,7,13],"handler":25,"hardsigmoid":10,"hardswish":10,"has_rank":[5,15],"has_shap":[5,15],"has_typ":[5,15],"hasfield":23,"hash":[1,17],"help":15,"helper":[5,7,15,23,24,25,29,30],"hidden":10,"higher":25,"highlight":3,"hist":[1,2],"histogram":[1,2],"id":[1,17],"ident":25,"ignor":[0,1,2,24],"implement":[15,24,25],"import":[0,1,2,3,7,10,11,13,15,23,24,25,29],"importlib":0,"imposs":15,"includ":10,"inconsist":15,"independ":0,"index":30,"indic":10,"infer":[0,3,10,15,21,28],"infer_shap":[23,29],"infer_typ":[5,21],"info":15,"inform":[1,2,15],"initi":29,"inplac":0,"input":[1,2,8,9,10,15,21,23,25,29],"input_nam":[5,15,19],"input_shap":8,"input_typ":21,"insid":[15,16],"instal":24,"instanc":[0,15],"instead":[23,29],"int":[0,1,2,3,4,7,8,9,10,11,13,15,19,20,21],"int16":10,"int2":10,"int32":10,"int4":10,"int64":[1,2,3,10,23,25,29],"int8":10,"integ":[1,2,15,20,23,25,29],"intermedi":[23,29],"intern":29,"introduc":[25,29],"involv":14,"ipynb":[23,24,25],"ir_vers":[7,15,23,24,25,29],"is_const":[5,15],"is_input":15,"isidentifi":[5,14],"isinf":10,"issu":15,"item":23,"iter":10,"ityp":[3,4,15,19],"jupyt":[22,23,24,25],"just":[1,2,24],"keep":[1,23,29],"keepdim":19,"kernel":[7,24,27],"key":[0,1,23],"key_cach":0,"key_value_pair":0,"know":[8,24,25],"known":[12,14,15,23,25,29],"kwarg":[1,7],"last":[1,2,23],"later":29,"layer":0,"leakyrelu":10,"learn":1,"left":15,"less":10,"lessorequ":10,"let":29,"letter":[1,17],"level":[1,2,25],"like":[0,1,2,10,16],"limit":[1,2,15],"line":30,"list":[0,1,2,7,10,15,16,19,23,29],"log":10,"logsoftmax":10,"look":29,"lose":29,"lpnormal":10,"lrn":10,"mag":16,"main":[15,25],"make":[3,10,16,19,24],"make_dimension_name_if_necessari":[5,9],"make_dynamic_cach":[0,5],"make_graph":[7,15,23,24,25,29],"make_hash":[1,5,17],"make_model":[7,15,23,24,25,29],"make_nod":[7,15,23,24,25,29],"make_opsetid":[7,15,23,24,25,29],"make_static_cach":[0,5],"make_tensor_value_info":[7,15,23,24,25,29],"make_torch_tensor_from_np_array":[5,8],"mani":[1,2,15,16,19],"map":[10,16],"match":23,"matmul":[19,29],"matrix":[24,29],"max":[1,2,10,15,20,29],"max_cache_len":0,"max_cache_length":0,"max_diff":[1,2,5],"maximum":[1,2],"maxtoxortransform":[5,20],"may":[1,2,10,29],"mb":[26,31],"mean":[10,11,15],"meanvariancenorm":10,"mem":[26,31],"memcpyfromhost":[7,24],"memcpytohost":[7,24],"merg":[7,24],"messag":[1,2,16,20],"met":15,"method":[12,15],"microsoft":[7,27],"might":19,"min":[1,2,10],"minut":[23,24,25],"mish":10,"miss":15,"ml_dtype":30,"mod":10,"mode":0,"model":[3,7,8,10,15,16,22,25,26,27,29,31],"model_add":24,"model_custom":24,"model_fmm":24,"model_fmm_t":24,"model_gelu":24,"model_reshap":25,"model_split":25,"modelproto":[3,10,15],"modifi":[0,10],"modul":[25,30],"modulo":29,"much":[15,29],"mul":[10,19],"muldivcancellertransform":[5,20],"multipl":[15,20,24,25,29],"multiple_output":15,"multipli":[24,29],"must":[10,11,15],"mycustomop":7,"n":[1,2,23,24],"n_in":10,"n_layer":[0,5],"name":[3,9,15,16,19,23,25,29],"nan":[1,2],"ndarray":[4,8,9,15],"necessari":19,"need":[7,21,24],"neg":10,"new":[9,11,15,16,29],"new_nam":10,"new_op":7,"new_shap":[8,11,19],"nhead":0,"node":[3,8,9,10,12,15,19,20,21,23,25,29],"nodeproto":[3,9,12,15,19,21],"non":[0,7,24,27],"none":[0,1,2,3,7,9,10,14,15,16,19,20,21,23,24,25,29],"noqa":24,"normalis":25,"notebook":[22,23,24,25],"np":[7,23,24,25,29],"np_dtype_to_tensor_dtyp":[3,5],"num_output":25,"number":[0,1,2,10,15],"numpi":[1,2,3,4,7,8,15,23,24,25,29,30],"numpy_help":[23,25,29],"obj":[0,1,2,17],"object":[0,1,2,15],"obtain":[1,2],"odd":25,"offici":[],"often":[12,23],"oh":[7,15,23,24,25,29],"old":16,"onc":[15,23,25,29],"one":[1,2,15,25],"onh":[23,25,29],"onli":[0,3,16,20,23,24],"only_array":9,"onnx":[1,2,3,4,7,11,15,16,19,25,28],"onnx_dtype_nam":[1,2,3,5],"onnx_dtype_to_torch_dtyp":[4,5],"onnx_help":[1,2,5],"onnx_ir":30,"onnxcst":15,"onnxdyndim":15,"onnxruntim":30,"onnxscript":30,"onnxshapecomput":15,"onnxstopshap":15,"onnxstoptyp":15,"onnxstopvalueshap":15,"onx":3,"op":[7,9,24,25],"op_attent":[7,24],"op_bias_softmax":[7,24],"op_complex":[7,24],"op_domain":[7,24],"op_fused_matmul":[7,24],"op_memcpy_host":[7,24],"op_qlinear_average_pool":[7,24],"op_qlinear_conv":[7,24],"op_quick_gelu":[7,24],"op_run":[7,24],"op_simplified_layer_norm":[],"op_skip_layer_norm":[7,24],"opaqu":29,"oper":[0,7,10,15,19,22,23,25,26,27,28,31],"operand":24,"oprun":[7,24],"opset":[7,15],"opset_import":[7,15,23,24,25,29],"optim":[7,9,24],"option":[9,24],"order":[1,25],"origin":[0,16,23,29],"output":[1,2,8,15,19,21,23,25,29],"output_nam":[5,15,21],"outsid":7,"overload":7,"overrid":24,"overwrit":10,"overwrite_shape_in_model_proto":[5,10],"packag":30,"page":[25,30],"pair":0,"param":0,"paramet":[0,1,2,3,4,9,10,11,14,15,16,19,20,21],"parenthesi":20,"pars":14,"parse_express":[5,14],"parse_expression_token":[5,16],"part":11,"partial":25,"particular":12,"pass":[7,24,29],"past_key_valu":0,"path":[],"pattern":[7,24,25],"per":25,"perform":23,"piec":15,"placehold":29,"plain":[15,25],"plot_computed_shap":[23,26,31],"plot_extended_reference_evalu":[24,26,31],"plot_shape_express":[25,26,31],"possibl":[15,16,19,24,25,29],"postprocess":29,"pprint":[7,10,24],"predict":23,"prefix":16,"prelu":10,"preserv":0,"pretti":15,"pretty_nod":[5,15],"pretty_onnx":[3,5],"print":[0,1,2,3,7,10,11,13,15,23,24,25,29],"produc":[9,25],"propag":[23,29],"properti":[0,15],"proto":[3,7],"provid":[15,16,27],"purppos":[1,2],"py":[23,24,25,26,30,31],"python":[15,16,22,23,24,25,27,29],"pytorch":[1,2],"qlinearaveragepool":[7,24],"qlinearconv":[7,24],"quantizelinear":10,"quick_gelu_graph":24,"quickgelu":7,"quotient":25,"r":[1,2,25],"rais":[9,14,15,21],"rand":[1,2,23],"randn":[0,29],"random":[23,29],"rang":0,"rank":15,"rather":29,"re":7,"receiv":[15,29],"reciproc":10,"reduc":[19,25,29],"redund":16,"ref":[7,24],"ref_custom":24,"ref_fmm":24,"ref_fmm_t":24,"ref_gelu":24,"refer":[23,24,27,30],"referenceevalu":[7,15,24],"regist":[15,19,24],"register_constraint_dimens":[5,15],"register_dynamic_objects_from_dim":[5,15],"rel":[1,2],"relat":[1,2,23,24,25],"relationship":29,"reli":[7,29],"relu":10,"remaind":20,"remov":[10,16],"renam":16,"rename_dynamic_dimens":[5,16],"rename_dynamic_express":[5,16],"rename_express":[5,15],"renametransform":[5,16],"render":15,"reordercommutativeopstransform":[5,20],"replac":[0,10,16,20,24,29],"replace_static_dimensions_by_str":[5,10],"repres":[25,29],"request":[15,16],"requir":15,"reshap":[7,8,11,19,22,24,26,29,31],"reshape_graph":25,"reshape_implementation_with_zero":[5,11],"reshape_shap":23,"resolv":[15,23,25,29],"result":[0,7,9,15,19,23,24,25,29],"return":[0,1,2,3,4,7,8,9,10,11,14,15,16,17,19,21,24],"revers":0,"rewrit":[16,29],"rewritten":10,"round":10,"rransform":16,"run":[3,5,7,12,15,22,23,25,26,27,29,31],"run_model":[5,15,23,25,29],"run_nod":[5,15],"run_value_info":[5,15],"runnabl":29,"runtim":[7,24,25,28],"s":[3,25,29],"s1":25,"s15":16,"s2":25,"scalar":15,"scale":24,"scale_graph":24,"scenario":7,"script":[23,24,25],"search":30,"second":[11,19,23,24,25],"see":[1,2,7,23,27,29],"seem":0,"select":0,"self":[7,19,24],"selu":10,"semant":[1,2],"sentinel":25,"seq":[15,23,25,29],"seq1":[15,25,29],"seq2":[15,25,29],"seq_length":16,"sequenc":[11,19,21,23],"serial":0,"session":23,"set":[3,9,10,15,16,19],"set_const":[5,15],"set_devic":[5,15],"set_rank":[5,12,15],"set_shap":[5,12,15],"set_shape_type_custom":[5,19],"set_shape_type_op_ani":[5,19],"set_typ":[5,12,15],"set_type_shape_binary_op":[5,19],"set_type_shape_gemm":[5,19],"set_type_shape_matmul":[5,19],"set_type_shape_reduce_op":[5,19],"set_type_shape_reshap":[5,19],"set_type_shape_unary_op":[5,19],"set_type_shape_unary_op_ab":[5,19],"set_value_shap":[5,12,15],"sever":25,"sh1":[11,19],"sh2":[11,19],"shape":[0,1,2,3,8,9,10,11,12,15,16,19,22,24,26,28,31],"shape_build":[5,15],"shape_builder_impl":[5,15],"shape_infer":[3,23,29],"shape_type_comput":[5,15,25,29],"shapebuild":[5,19,23,25,28,30],"shapeconst":[5,9],"short":15,"shorten":[1,2],"show":[15,23,24],"shrink":10,"sig":1,"sigmoid":[10,24],"sign":10,"signatur":1,"similar":0,"simpl":[1,17],"simple_update_value_shape_with_nod":[5,12],"simplesimpliflytransform":[5,20],"simplest":[25,29],"simplif":28,"simplifi":[15,20,25,29],"simplifiedlayernorm":[],"simplify_express":[5,15,25,29],"simplify_two_express":[5,20],"simplifyparenstransform":[5,20],"sin":10,"singl":[1,2,14,15],"sinh":10,"size":[25,29,30],"skip":[1,2],"skip_non":[1,2],"skiplayernorm":[7,24],"sklearn":30,"slen":0,"sliding_window":0,"small":[15,29],"softmax":10,"softmaxcrossentropyloss":10,"softplus":10,"softsign":10,"someth":[0,1,2,16],"sort":[1,20,25,29],"sourc":[0,1,2,3,4,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25],"space":16,"sparsetensorproto":3,"specif":[0,3,11,25],"specifi":[0,15],"sphinx":[22,23,24,25,29],"sphx_glr_auto_examples_plot_shape_expressions_pi":[],"split":29,"split_graph":25,"sqrt":10,"standard":[7,23,27],"start":[0,16,29],"static":[0,10,11,15,23,29],"staticcach":0,"step":[23,29],"store":[15,25,29],"str":[0,1,2,3,7,8,9,10,11,13,14,15,16,17,19,20,21],"str_tensor_proto_typ":[5,10],"strict":0,"string":[0,1,2,10,14,15,16,25,29],"string_diff":[1,2],"string_sig":[1,5],"string_signatur":[1,5],"string_typ":[0,1,2,5],"structur":0,"sub":[10,25],"subclass":[7,24],"subgraph":10,"subtract":29,"sum":[1,2,10],"summaris":29,"support":[0,8,15,28],"swigpyobject":0,"swigpypack":0,"sym_shap":29,"symbol":[15,28],"symfloat":[8,11,15,19],"symint":[8,11,15,19],"t":[1,2,23,24],"t10s3x4":[1,2],"t10s5x6":[1,2],"t10s5x6x7":[1,2],"t1s2x4x10x7":0,"t1s2x4x3x7":0,"t7s2x7":[1,2],"tabl":[23,29],"tan":10,"tanh":10,"target":25,"tell":[14,15],"tensor":[0,1,2,3,4,8,9,11,15,21,23,25,29],"tensor_dtyp":3,"tensor_dtype_to_np_dtyp":[3,5],"tensor_typ":23,"tensorproto":[1,2,3,7,9,15,23,24,25,29],"term":[20,23,25,29],"test":[7,24],"text":3,"tfloat":[7,15,23,24,25,29],"though":12,"thresholdedrelu":10,"thresholdrelu":10,"time":[23,24,25,29],"tini":29,"to_numpi":[4,5],"tocomplex":[7,24],"token":16,"torch":[0,1,2,3,4,8,11,15,16,19,30],"torch_dtype_to_onnx_dtyp":[4,5],"torch_help":[2,5],"total":[23,24,25,26,29,31],"track":23,"transa":[19,24],"transb":19,"transform":[0,20,30],"transpos":24,"transposit":24,"tree":14,"tri":[21,29],"trilu":10,"true":[0,1,2,3,9,11,14,15,20,21],"trunc":10,"tupl":[0,1,2,8,9,10,11,15,19,21,23],"two":[11,23,29],"type":[0,1,2,3,4,7,9,10,12,15,19,21,23,24,29],"type_infer":[5,15],"typic":23,"uint16":10,"uint2":10,"uint32":10,"uint4":10,"uint64":10,"uint8":10,"unari":[10,19],"unary_like_op_typ":[5,10],"undefin":[],"understand":15,"uniqu":15,"unique_dimension_nam":[5,15],"unit":24,"unk__0":[23,29],"unk__1":[23,29],"unknown":[1,2,15,23,25,29],"unrel":29,"updat":[9,12,15,30],"update_node_const":[5,9],"update_shap":[5,15],"usag":7,"use":[0,1,2,3,7,8,12,14,15,16,19,20,23,24,25,29],"use_dict":0,"user":16,"valid":[0,29],"valu":[0,1,2,10,15,16,29],"value_as_shap":[5,15],"value_cach":0,"value_info":[23,29],"value_shap":12,"valueinfoproto":[3,15],"variabl":[11,14,15,16],"vector":0,"verbos":[7,15],"version":0,"vi":23,"via":[7,25],"visitor":20,"w":29,"walk":[15,25,29],"way":3,"weight":29,"well":[1,2,3,29],"whi":15,"whole":29,"will":[1,2],"wise":[10,23,24],"with_attribut":3,"with_devic":[1,2],"with_min_max":[1,2],"with_shap":[0,1,2],"without":24,"work":[19,23,29],"wrap":[0,9],"x":[1,7,13,15,19,20,23,24,25,29],"x_gelu":24,"x_s":24,"xor":10,"xr":[25,29],"xshape":[5,23,25,29,30],"xy":25,"y":[7,13,15,19,23,24,25,29],"yield":15,"yobx":[5,23,24,25,27,29,30],"z":[7,15,23,24,25,29],"z_gelu":24,"z_s":24,"z_t":24,"zip":[22,23,24,25]},"titles":["yobx.helpers.cache_helper","yobx.helpers.helper","yobx.helpers","yobx.helpers.onnx_helper","yobx.helpers.torch_helper","API Reference","yobx.reference.evaluator","yobx.reference","yobx.xshape._builder_runtime","yobx.xshape._inference_runtime","yobx.xshape._onnx_helper","yobx.xshape._shape_helper","yobx.xshape._shape_runtime","yobx.xshape.evaluate_expressions","yobx.xshape.expressions_torch","yobx.xshape","yobx.xshape.rename_expressions","yobx.xshape.shape_builder","yobx.xshape.shape_builder_impl","yobx.xshape.shape_type_compute","yobx.xshape.simplify_expressions","yobx.xshape.type_inference","Gallery of Examples","Computed Shapes: Add + Concat + Reshape","ExtendedReferenceEvaluator: running models with contrib operators","Expressions in Shape Computation","Computation times","ExtendedReferenceEvaluator","Elements of Design","ShapeBuilder","yet-another-onnx-builder documentation","Computation times"],"titleterms":{"How":25,"Other":2,"_builder_runtim":8,"_inference_runtim":9,"_onnx_help":10,"_shape_help":11,"_shape_runtim":12,"add":[23,24],"also":25,"anoth":30,"api":5,"automat":[25,29],"basicshapebuild":[15,23],"build":23,"builder":30,"cache_help":0,"ceil":25,"com":24,"comparison":29,"comput":[23,25,26,31],"concat":[23,25],"concret":[23,25],"content":30,"contrib":24,"custom":24,"data":23,"default":24,"design":28,"dimens":25,"divis":25,"document":30,"dynam":25,"element":28,"evalu":[6,23,25,29],"evaluate_express":13,"exampl":[22,29],"express":[25,29],"expressions_torch":14,"extended_reference_evalu":[],"extendedreferenceevalu":[7,24,27],"floor":25,"function":2,"fusedmatmul":24,"galleri":22,"helper":[0,1,2,3,4],"indic":30,"infer":[23,29],"list":24,"microsoft":24,"model":[23,24],"modul":[2,7,15],"new_op":24,"older":30,"onnx":[23,24,29,30],"onnx_help":3,"oper":[24,29],"quickgelu":24,"real":23,"refer":[5,6,7],"rename_express":16,"reshap":[23,25],"run":24,"runtim":29,"see":25,"shape":[23,25,29],"shape_build":17,"shape_builder_impl":18,"shape_type_comput":19,"shapebuild":[15,29],"simplif":[25,29],"simplify_express":20,"small":23,"split":25,"standard":24,"sum":25,"support":29,"symbol":[23,25,29],"tabl":30,"time":[26,31],"torch_help":4,"two":25,"type_infer":21,"valu":[23,25],"verifi":23,"version":30,"via":24,"work":25,"xshape":[8,9,10,11,12,13,14,15,16,17,18,19,20,21],"yet":30,"yobx":[0,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}})